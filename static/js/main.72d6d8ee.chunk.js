(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{342:function(e,t,a){e.exports=a(626)},351:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},615:function(e,t,a){},626:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),c=a.n(l),i=a(10),s=(a(351),a(352),a(21)),o=a.n(s),u=a(31),m=(a(353),a(354),a(355),a(356),a(357),a(23)),d=a(84),h=a(153),p=a(22),g=a.n(p),E=function(e,t){return{type:"ASYNC_ACTION_START",payload:{actionType:e,elmId:t}}},f=function(e){return{type:"ASYNC_ACTION_ERROR",payload:{err:e}}},b=function(e,t){return{type:"OPEN_MODAL",payload:{modalType:e,modalProps:t}}},v=a(42),y=a.n(v),O=function(e){return function(t){g.a.defaults.headers.common.Authorization="Bearer ".concat(e),g.a.get("https://still-castle-31935.herokuapp.com/api/auth/").then(function(e){var a=e.data;t({type:"SET_AUTH_USER",payload:{user:a}})}).catch(function(e){console.log(e)})}},S=a(631),N=a(649),k=a(645),T=function(){var e=Object(i.useSelector)(function(e){return e.user}).authUser,t=Object(i.useDispatch)();return r.a.createElement("div",{className:"header"},r.a.createElement(S.a,null,r.a.createElement(h.a,{collapseOnSelect:!0,expand:"lg"},r.a.createElement(h.a.Brand,{as:m.c,to:"/"},r.a.createElement("img",{className:"logo",src:"./assets/images/logo.png",alt:""})),r.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(N.a.Link,{as:m.c,to:"/"},"Trang ch\u1ee7"),r.a.createElement(N.a.Link,{as:m.c,to:"/cam-nang-du-lich"},"C\u1ea9m nang du l\u1ecbch"),r.a.createElement(N.a.Link,{as:m.c,to:"/lich-trinh"},"B\u1ea1n mu\u1ed1n \u0111\u1ebfn?"),Object.keys(e).length>0?r.a.createElement(n.Fragment,null,r.a.createElement(k.a,{title:"T\xe0i kho\u1ea3n",id:"collasible-nav-dropdown"},r.a.createElement(k.a.Item,{as:m.c,to:"/tai-khoan"},"T\xe0i kho\u1ea3n c\u1ee7a t\xf4i"),r.a.createElement(k.a.Item,{onClick:function(){t(function(e){localStorage.removeItem("token"),e({type:"SET_AUTH_USER",payload:{user:{}}}),e({type:"LOGOUT"})})}},"\u0110\u0103ng xu\u1ea5t")),r.a.createElement(N.a.Link,{as:m.c,to:"/viet-bai"},r.a.createElement("i",{className:"fas fa-edit"}),"Vi\u1ebft b\xe0i")):r.a.createElement(n.Fragment,null,r.a.createElement(N.a.Link,{as:m.c,to:"/dang-ky"},"\u0110\u0103ng k\xfd"),r.a.createElement(N.a.Link,{as:m.c,to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp"))),r.a.createElement(N.a,null,r.a.createElement("div",{className:"igi_box_search"},r.a.createElement("form",{className:"search-form"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"T\u1eeb kh\xf3a t\xecm ki\u1ebfm..."}),r.a.createElement("input",{type:"submit",value:""}))))))),r.a.createElement("div",{className:"clearfix"}))},x=a(91),j=a(92),w=a(207),C=a(202),_=function(e){Object(w.a)(a,e);var t=Object(C.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"clear"}),r.a.createElement("section",{className:"bottom-footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"content-footer"},r.a.createElement("div",{className:"copyright"},"Copyright \xa9 DuLichVietNam: Chia s\u1ebb kinh nghi\u1ec7m t\u1eeb A - Z"))))))}}]),a}(n.Component);var P=function(e){return r.a.createElement(y.a,{timeOut:2e3,newestOnTop:!1,preventDuplicates:!0,position:"bottom-right",getState:function(e){return e.toastr},transitionIn:"fadeIn",transitionOut:"fadeOut",closeOnToastrClick:!0})},I=a(14),A=a(188),D=a(635),L=a(132),M=a(61),U={post:{CREATE_POST:"CREATE_POST",UPDATE_POST:"UPDATE_POST",FETCH_POSTS:"FETCH_POSTS",FETCH_POST:"FETCH_POST",COMMENT_ON_POST:"COMMENT_ON_POST",DELETE_POST_COMMENT:"DELETE_POST_COMMENT",LIKE_POST:"LIKE_POST",UNLIKE_POST:"UNLIKE_POST"}},q="assets/images/default.jpg",F=[{title:"T\xean \u0111\u1ecba \u0111i\u1ec3m",dataIndex:"name",key:"name"},{title:"Gi\xe1",dataIndex:"price",key:"price"},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",key:"address"},{title:"Th\u1eddi gian tham quan",dataIndex:"time",key:"time"}],R=[{title:"T\xean kh\xe1ch s\u1ea1n",dataIndex:"name",key:"name"},{title:"Gi\xe1",dataIndex:"price",key:"price"},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",key:"address"},{title:"\u1ea2nh",dataIndex:"image",key:"image"}],B=[{title:"T\xean m\xf3n \u0103n",dataIndex:"name",key:"name"},{title:"Gi\xe1",dataIndex:"price",key:"price"},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",key:"address"},{title:"\u1ea2nh",dataIndex:"image",key:"image"}],H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){a(E(U.post.FETCH_POSTS));var n=e&&t?"?page=".concat(e,"&limit=").concat(t):"";g.a.get("https://still-castle-31935.herokuapp.com/api/post/".concat(n)).then(function(e){console.log(e.data),a({type:"GET_POSTS",payload:e.data}),a({type:"ASYNC_ACTION_FINISH"})}).catch(function(e){console.log(e),a(f())})}},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var n=Object(u.a)(o.a.mark(function n(r){var l;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r(E(U.post.FETCH_POSTS)),l=t&&a?"?page=".concat(t,"&limit=").concat(a):"",g.a.get("https://still-castle-31935.herokuapp.com/api/post/type/".concat(e,"/").concat(l)).then(function(t){r({type:"GET_POSTS_BY_TYPE",payload:{data:t.data,type:e}}),r({type:"ASYNC_ACTION_FINISH"})}).catch(function(e){console.log(e),r(f())});case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Y=function(e){return function(t){t(E(U.post.FETCH_POST)),g.a.get("https://still-castle-31935.herokuapp.com/api/post/".concat(e)).then(function(e){var a=e.data.post;t({type:"GET_POST",payload:{post:a}}),t({type:"ASYNC_ACTION_FINISH"})}).catch(function(e){console.log(e),t(f())})}},V=a(632),K=a(661),X=a(654),G=a(655),W=a(12),Q=a(306),J=a.n(Q),Z=function(e){return J()(e).format("YYYY-MM-DD")},$=function(){var e=localStorage.getItem("token");g.a.defaults.headers.post["Content-Type"]="application/json",e?g.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete g.a.defaults.headers.common.Authorization},ee=a(206),te=a(646),ae=te.a.Text,ne=function(e){var t=e.icon,a=e.text,n=Object(ee.a)(e,["icon","text"]);return r.a.createElement(ae,Object.assign({},n,{style:{display:"flex",alignItems:"center"}}),r.a.createElement(t,{style:{marginRight:8}}),r.a.createElement("span",null,a))},re=function(e){var t=e.post;return r.a.createElement("div",{className:"module-banner"},r.a.createElement(m.b,{to:"/cam-nang-du-lich/".concat(t._id)},r.a.createElement("img",{className:"img-respon img-banner",src:t.mainPhoto||q,alt:""}),r.a.createElement("div",{className:"title-bn"},r.a.createElement("h2",{className:"link-news"},t.title),r.a.createElement(V.a,null,r.a.createElement(ne,{icon:K.a,text:t.user.name}),"|",r.a.createElement(ne,{icon:X.a,text:Z(t.date)}),"|",r.a.createElement(ne,{icon:G.a,text:t.views})))))},le=a(633),ce=a(34),ie=a(634),se=a(660),oe=function(e){var t=e.post,a=e.authenticated,n=e.authUser;return r.a.createElement(le.a,{xs:"12",sm:"6",md:"4",lg:"4"},r.a.createElement("div",{className:"item-news"},r.a.createElement("div",{className:"img-news"},r.a.createElement("img",{className:"img-respon",src:t.mainPhoto||q,alt:""}),r.a.createElement(m.b,{to:"/cam-nang-du-lich/".concat(t._id)},r.a.createElement("h2",{className:"link-news"},t.title)),r.a.createElement(V.a,null,r.a.createElement(ne,{icon:K.a,text:t.user.name}),"|",r.a.createElement(ne,{icon:X.a,text:Z(t.date)}),"|",r.a.createElement(ne,{icon:G.a,text:t.views})),r.a.createElement("div",{className:"item-content"},t.shortDescription),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"}},a&&n._id===t.user._id&&r.a.createElement(m.b,{to:"/chinh-sua-bai-viet/".concat(t._id)},r.a.createElement(ce.a,{type:"link",icon:r.a.createElement(se.a,null)})))),r.a.createElement(ie.a,null)))},ue=a(636),me=function(){var e=Object(i.useDispatch)(),t=Object(i.useSelector)(function(e){return e.post.posts}).docs,a=Object(i.useSelector)(function(e){return e.async}),l=a.loading,c=a.actionType,s=Object(i.useSelector)(function(e){return e.post}),o=s.experiencePosts.docs,u=s.foodPosts.docs,d=s.placePosts.docs,h=Object(n.useState)([]),p=Object(I.a)(h,2),g=p[0],E=p[1];Object(n.useEffect)(function(){e(H()),e(z("experience",1,6)),e(z("food",1,6)),e(z("place",1,6))},[]),Object(n.useEffect)(function(){t&&t.length&&0===g.length&&E(t)},[t]);var f=c===U.post.FETCH_POSTS&&l;return r.a.createElement(A.a,{spinning:f},r.a.createElement("main",null,r.a.createElement("div",{className:""},r.a.createElement("div",{className:"igi_banner"},r.a.createElement(D.a,{autoplay:!0},g.map(function(e){return r.a.createElement(re,{post:e,key:e._id})}))),r.a.createElement("div",{className:"intro igi_module"},r.a.createElement(ue.a,null,r.a.createElement(L.a,null,r.a.createElement(M.a,{lg:12,md:12,sm:12,xs:24},r.a.createElement("img",{src:"./assets/images/gioithieu.JPG",alt:""})),r.a.createElement(M.a,{lg:12,md:12,sm:12,xs:24},r.a.createElement("div",{className:"content-gt"},r.a.createElement("div",null,r.a.createElement("h3",{className:"paci-font"},"Gi\u1edbi thi\u1ec7u chung"),r.a.createElement("h2",{className:"title-gt"},"Du l\u1ecbch Vi\u1ec7t Nam")),r.a.createElement("div",null,r.a.createElement("p",null,"\u0110\u1ea5t n\u01b0\u1edbc ta tr\u1ea3i qua h\xe0ng ngh\xecn n\u0103m d\u1ef1ng n\u01b0\u1edbc, gi\u1eef n\u01b0\u1edbc."),r.a.createElement("p",null,"Con ng\u01b0\u1eddi ch\xe2n th\xe0nh, m\u1ed9c m\u1ea1c ch\u1ea5t ph\xe1t. Nh\u1eefng th\xe1ng ng\xe0y th\u1ed1ng kh\u1ed5 c\u1ee7a cha \xf4ng \u0111\xe3 vi\u1ebft l\xean nh\u1eefng trang s\u1eed h\xe0o h\xf9ng. V\u1ebb \u0111\u1eb9p t\u1eeb t\xe2m h\u1ed3n, t\u1eeb con ng\u01b0\u1eddi \u1ea5y c\xe0ng \u0111\u1eb9p h\u01a1n khi ch\xfang ta \u0111\u01b0\u1ee3c t\u1ea1o h\xf3a ban t\u1eb7ng thi\xean nhi\xean h\xf9ng v\u0129, \u0111\u01b0\u1eddng b\u1edd bi\u1ec3n ch\u1ea1y d\xe0i d\u1ecdc theo h\xecnh ch\u1eef S c\u1ee7a t\u1ed5 qu\u1ed1c. C\xf2n \u0111i\u1ec1u g\xec tuy\u1ec7t v\u1eddi h\u01a1n kh\xed c\xf3 s\xf4ng, c\xf3 n\xfai, c\xf3 bi\u1ec3n. S\u1ef1 h\xe0i h\xf2a c\u1ee7a thi\xean, n\xe9t \u0111\u1eb9p h\xf9ng v\u0129 bao tr\xf9m l\xean nh\u1eefng con ng\u01b0\u1eddi v\u1edbi n\xe9t \u0111\u1eb9p m\u1ed9c m\u1ea1c \u0111\u1eadm ch\u1ea5t \xc1 \u0110\xf4ng. S\u1ebd th\u1eadt thi\u1ebfu s\xf3t khi b\u1ea1n kh\xf4ng d\xe0nh cho cu\u1ed9c \u0111\u1eddi nh\u1eefng chuy\u1ebfn \u0111i kh\xe1m ph\xe1 n\xe9t \u0111\u1eb9p \u1ea5y c\u1ee7a \u0111\u1ea5t n\u01b0\u1edbc tuy\u1ec7t \u0111\u1eb9p, c\u1ee7a ch\xednh m\xecnh."))))))),r.a.createElement("div",{className:"igi_module news-list"},r.a.createElement(ue.a,null,r.a.createElement("div",{className:"border-bot"},r.a.createElement("span",{className:"tt-home"},"Kinh nghi\u1ec7m du l\u1ecbch t\u1eeb A-Z")),r.a.createElement(L.a,null,o&&o.length>0&&o.map(function(e){return r.a.createElement(oe,{post:e,key:e._id})})),r.a.createElement(m.b,{to:"/cam-nang-du-lich"},"Xem th\xeam"))),r.a.createElement("div",{className:"igi_module news-list"},r.a.createElement(ue.a,null,r.a.createElement("div",{className:"border-bot"},r.a.createElement("span",{className:"tt-home"},"\u0102n & ch\u01a1i")),r.a.createElement(L.a,null,u&&u.length>0&&u.map(function(e){return r.a.createElement(oe,{post:e,key:e._id})})),r.a.createElement(m.b,{to:"/cam-nang-du-lich"},"Xem th\xeam"))),r.a.createElement("div",{className:"igi_module news-list"},r.a.createElement(ue.a,null,r.a.createElement("div",{className:"border-bot"},r.a.createElement("span",{className:"tt-home"},"\u0110i\u1ec3m check-in si\xeau hot")),r.a.createElement(L.a,null,d&&d.length>0&&d.map(function(e){return r.a.createElement(oe,{post:e,key:e._id})})),r.a.createElement(m.b,{to:"/cam-nang-du-lich"},"Xem th\xeam"))))))},de=a(199),he=a(638),pe=a(637),ge=function(e){var t=e.post;return r.a.createElement(m.b,{to:"/cam-nang-du-lich/".concat(t._id)},r.a.createElement(pe.a,null,r.a.createElement(le.a,{xs:"12",sm:"6",md:"7",lg:"7"},r.a.createElement("div",{className:"img-news"},r.a.createElement("img",{className:"img-respon",src:t.mainPhoto||q,alt:""}))),r.a.createElement(le.a,{xs:"12",sm:"6",md:"5",lg:"5"},r.a.createElement("h2",{className:"link-news"},t.title),r.a.createElement(V.a,null,r.a.createElement(ne,{icon:K.a,text:t.user.name}),"|",r.a.createElement(ne,{icon:X.a,text:Z(t.date)}),"|",r.a.createElement(ne,{icon:G.a,text:t.views})),r.a.createElement("div",{className:"item-content"},t.shortDescription))))},Ee=function(e){var t=Object(i.useDispatch)(),a=Object(i.useSelector)(function(e){return e.async}),l=a.loading,c=a.actionType,s=Object(i.useSelector)(function(e){return e.post.posts}),o=s.docs,u=s.totalDocs,m=Object(i.useSelector)(function(e){return e.user}).authUser,d=Object(n.useState)([]),h=Object(I.a)(d,2),p=h[0],g=h[1];Object(n.useEffect)(function(){t(H(1,18))},[]),Object(n.useEffect)(function(){o&&o.length&&0===p.length&&g(o)},[o]);var E=c===U.post.FETCH_POSTS&&l,f=Object.keys(m).length>0;return r.a.createElement(A.a,{spinning:E},r.a.createElement("div",{className:"main-wrap"},r.a.createElement("div",{className:"igi_module news-list"},r.a.createElement(ue.a,null,r.a.createElement(D.a,{autoplay:!0},p.map(function(e){return r.a.createElement(ge,{post:e,key:e._id})})),r.a.createElement(ie.a,null),r.a.createElement(he.a,null,o&&o.map(function(e){return r.a.createElement(oe,{post:e,key:e._id,authenticated:f,authUser:m})}),r.a.createElement(de.a,{size:"small",total:u,showTotal:function(e){return"T\u1ed5ng s\u1ed1: ".concat(e," b\xe0i vi\u1ebft")},onChange:function(e){return t(H(e,3))},hideOnSinglePage:!0,pageSize:18}))))))},fe=a(663),be=a(639),ve=a(659),ye=te.a.Text;var Oe=function(e){var t=e.comments,a=e.authUserId,l=e.loading,c=e.loadingType,i=e.elmId,s=e.deleteComment;return r.a.createElement(n.Fragment,null,t.length>0?r.a.createElement(fe.b,{className:"comment-list",header:"".concat(t.length," replies"),itemLayout:"horizontal",dataSource:t,renderItem:function(e){return r.a.createElement("li",null,r.a.createElement(be.a,{actions:e.user._id===a?[r.a.createElement(ce.a,{icon:r.a.createElement(ve.a,null),type:"link",danger:!0,loading:c===U.post.DELETE_POST_COMMENT&&i===e._id&&l,onClick:function(){return s(e._id)}},"Delete comment")]:[],author:e.user.name,avatar:e.user.avatar,content:e.text,datetime:Z(e.date)}))}}):r.a.createElement(ye,null,"This article doesn't have any comment"))},Se=a(648),Ne=a(647),ke=Se.a.TextArea,Te=function(e){var t=e.onChange,a=e.onSubmit,n=e.submitting,l=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a.Item,null,r.a.createElement(ke,{rows:4,onChange:t,value:l})),r.a.createElement(Ne.a.Item,null,r.a.createElement(ce.a,{htmlType:"submit",loading:n,onClick:a,type:"primary"},"Comment")))},xe=a(640),je=a(657),we=a(656),Ce=function(e){var t=e.post;return r.a.createElement("div",{className:"item-lq"},r.a.createElement(m.b,{to:"/cam-nang-du-lich/".concat(t._id)},r.a.createElement(L.a,null,r.a.createElement(M.a,{xs:8,sm:8,md:8,lg:8,xl:8},r.a.createElement("div",{className:"img-news"},r.a.createElement("img",{className:"img-respon",src:t.mainPhoto,alt:""}))),r.a.createElement(M.a,{xs:16,sm:16,md:16,lg:16,xl:16},r.a.createElement("div",{className:""},r.a.createElement("h2",{className:"link-news-lq"},t.title))),r.a.createElement(M.a,{xs:24,sm:24,md:24,lg:24},r.a.createElement("div",{className:"cont-item"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.content}}))))))},_e=function(e){var t=e.posts;return r.a.createElement("div",{className:"post-lq"},r.a.createElement("h2",{className:"title-profile"},"B\xe0i vi\u1ebft n\u1ed5i b\u1eadt"),r.a.createElement("div",{className:"list-item-lq"},t.map(function(e){return r.a.createElement(Ce,{post:e,key:e._id})})))},Pe=U.post,Ie=function(){var e=Object(d.h)().id,t=Object(i.useDispatch)(),a=Object(i.useSelector)(function(e){return e.post}),l=a.currentPost,c=a.posts.docs,s=Object(i.useSelector)(function(e){return e.async}),m=s.loading,h=s.actionType,p=s.elmId,b=Object(i.useSelector)(function(e){return e.user}),y=b.authUser,O=b.authenticated,S=Object(n.useState)(""),N=Object(I.a)(S,2),k=N[0],T=N[1];Object(n.useEffect)(function(){e&&t(Y(e))},[e]),Object(n.useEffect)(function(){t(H())},[]);var x=l||{},j=x.comments,w=void 0===j?[]:j,C=x.mainPhoto,_=void 0===C?"":C,P=x.title,A=void 0===P?"":P,D=x.content,q=void 0===D?"":D,F=x.date,R=void 0===F?"":F,B=x.user,z=void 0===B?{}:B,W=x.likes,Q=void 0===W?[]:W,J=x.views,$=void 0===J?0:J,ee=h===Pe.CREATE_POST&&m,te=h===Pe.LIKE_POST&&m,ae=h===Pe.UNLIKE_POST&&m;return r.a.createElement("div",{className:"detail-post"},r.a.createElement("div",{className:"module-banner"},r.a.createElement("img",{className:"img-respon img-banner",src:_,alt:""}),r.a.createElement("div",{className:"title-bn"},r.a.createElement("h2",null,A),r.a.createElement("div",null,"Trang ch\u1ee7 \xa0",r.a.createElement("i",{className:"fas fa-angle-double-right"}),"\xa0 C\u1ea9m nang du l\u1ecbch \xa0",r.a.createElement("i",{className:"fas fa-angle-double-right"}),"\xa0 ",A),r.a.createElement(V.a,null,r.a.createElement(ne,{icon:K.a,text:z.name}),"|",r.a.createElement(ne,{icon:X.a,text:Z(R)}),"|",r.a.createElement(ne,{icon:G.a,text:$})))),r.a.createElement(ue.a,null,r.a.createElement(L.a,null,r.a.createElement(M.a,{xs:24,sm:24,md:24,lg:18,xl:18},r.a.createElement("div",{className:"divContent"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:q}})),O&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(V.a,{align:"center"},r.a.createElement(ce.a,{type:"primary",icon:r.a.createElement(je.a,null),loading:te,onClick:function(){return t((a=e,function(){var e=Object(u.a)(o.a.mark(function e(t){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(E(U.post.LIKE_POST)),e.prev=1,e.next=4,g.a.put("https://still-castle-31935.herokuapp.com/api/post/like/".concat(a));case 4:n=e.sent,r=n.data.post,t({type:"LIKE_POST",payload:{post:r}}),t({type:"ASYNC_ACTION_FINISH"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t(f()),v.toastr.error("Oops",e.t0.response.data.general.msg);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()));var a}},"Like this Post (",Q.length," likes)"),r.a.createElement(ce.a,{type:"primary",icon:r.a.createElement(we.a,null),danger:!0,loading:ae,onClick:function(){return t((a=e,function(){var e=Object(u.a)(o.a.mark(function e(t){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(E(U.post.UNLIKE_POST)),e.prev=1,e.next=4,g.a.put("https://still-castle-31935.herokuapp.com/api/post/unlike/".concat(a));case 4:n=e.sent,r=n.data.post,t({type:"UNLIKE_POST",payload:{post:r}}),t({type:"ASYNC_ACTION_FINISH"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.data),t(f()),v.toastr.error("Oops",e.t0.response.data.general.msg);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()));var a}},"UnLike this Post (",Q.length," likes)"))),r.a.createElement(ie.a,null)),r.a.createElement(Oe,{comments:w,authUserId:y._id,loading:m,loadingType:h,elmId:p,deleteComment:function(a){return t(function(e,t){return function(){var a=Object(u.a)(o.a.mark(function a(n){var r,l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(E(U.post.DELETE_POST_COMMENT,t)),a.prev=1,a.next=4,g.a.delete("https://still-castle-31935.herokuapp.com/api/post/comment/".concat(e,"/").concat(t));case 4:r=a.sent,l=r.data.post,n({type:"DELETE_POST_COMMENT",payload:{post:l}}),n({type:"ASYNC_ACTION_FINISH"}),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n(f()),v.toastr.error("Oops","Some thing went wrong, please try again");case 15:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()}(e,a))}}),O&&r.a.createElement(n.Fragment,null,r.a.createElement(be.a,{avatar:r.a.createElement(xe.a,{src:y.avatar,alt:y.name}),content:r.a.createElement(Te,{onChange:function(e){return T(e.target.value)},onSubmit:function(a){a.preventDefault(),T(""),t(function(e,t){return function(){var a=Object(u.a)(o.a.mark(function a(n){var r,l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(E(U.post.CREATE_POST)),a.prev=1,a.next=4,g.a.post("https://still-castle-31935.herokuapp.com/api/post/comment/".concat(e),t);case 4:r=a.sent,l=r.data.post,n({type:"COMMENT_ON_POST",payload:{post:l}}),n({type:"ASYNC_ACTION_FINISH"}),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),v.toastr.error("Oops","Some thing when wrong, please try again"),n(f());case 15:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()}(e,{text:k}))},submitting:ee,value:k})})),r.a.createElement(ie.a,null)),r.a.createElement(M.a,{xs:24,sm:24,md:24,lg:6,xl:6},r.a.createElement(_e,{posts:c})))))},Ae=a(111),De=a(650),Le=a(641),Me=a(651),Ue=a(305),qe=a(642),Fe=function(){var e=Object(i.useDispatch)(),t=Object(d.g)(),a=Object(i.useSelector)(function(e){return e.async}),l=a.loading,c=a.actionType,s=a.error,o=Object(n.useState)({email:"",password:""}),u=Object(I.a)(o,2),m=u[0],h=u[1],p=function(e){h(Object(W.a)({},m,Object(Ae.a)({},e.target.name,e.target.value)))},b="login"===c&&l;return r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n={email:m.email,password:m.password};e(function(e,t){return function(a){var n=e.email,r=e.password;a(E("login")),g.a.post("https://still-castle-31935.herokuapp.com/api/auth/login",{email:n,password:r}).then(function(e){var t=e.data.token;return localStorage.setItem("token",t),g.a.defaults.headers.common.Authorization="Bearer ".concat(t),g.a.get("https://still-castle-31935.herokuapp.com/api/auth/")}).then(function(e){var n=e.data;a({type:"SET_AUTH_USER",payload:{user:n}}),a({type:"ASYNC_ACTION_FINISH"}),t.push("/")}).catch(function(e){console.log(e),a(f(e.response.data))})}}(n,t))}},s&&s.error&&s.error.email&&r.a.createElement(De.a,{className:"error",variant:"danger"},s.error.email.msg),s&&s.password&&r.a.createElement(De.a,{className:"error",variant:"danger"},s.password.msg),s&&s.general&&s.general.msg&&r.a.createElement(De.a,{className:"error",variant:"danger"},s.general.msg),r.a.createElement(Le.a,{className:"mb-3"},r.a.createElement(Le.a.Prepend,null,r.a.createElement(Le.a.Text,{id:"basic-addon1"},r.a.createElement("i",{className:"fas fa-envelope"}))),r.a.createElement(Me.a,{placeholder:"Email","aria-label":"Email",name:"email","aria-describedby":"basic-addon1",onChange:p})),r.a.createElement(Le.a,{className:"mb-3"},r.a.createElement(Le.a.Prepend,null,r.a.createElement(Le.a.Text,{id:"pass"},r.a.createElement("i",{className:"fas fa-lock"}))),r.a.createElement(Me.a,{placeholder:"M\u1eadt kh\u1ea9u",type:"password","aria-label":"Password",name:"password","aria-describedby":"pass",onChange:p})),r.a.createElement(Ue.a,{type:"submit"},b&&r.a.createElement(qe.a,{animation:"border",variant:"primary"}),"\u0110\u0103ng nh\u1eadp")))},Re=function(){var e=Object(i.useDispatch)(),t=Object(d.g)(),a=Object(n.useState)({email:"",password:"",username:"",confirmPassword:""}),l=Object(I.a)(a,2),c=l[0],s=l[1],o=function(e){s(Object(W.a)({},c,Object(Ae.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),console.log(c);var n={email:c.email,username:c.username,password:c.password,confirmPassword:c.confirmPassword};e(function(e,t){return function(a){var n=e.username,r=e.email,l=e.password,c=e.confirmPassword;g.a.post("https://still-castle-31935.herokuapp.com/api/auth/register",{username:n,email:r,password:l,confirmPassword:c}).then(function(e){var t=e.data.token;return localStorage.setItem("token",t),g.a.defaults.headers.common.Authorization="Bearer ".concat(t),g.a.get("https://still-castle-31935.herokuapp.com/api/auth/")}).then(function(e){var n=e.data;a({type:"SET_AUTH_USER",payload:{user:n}}),t.push("/")}).catch(function(e){console.log(e)})}}(n,t))}},r.a.createElement(Le.a,{className:"mb-3"},r.a.createElement(Le.a.Prepend,null,r.a.createElement(Le.a.Text,{id:"username"},r.a.createElement("i",{className:"fas fa-user"}))),r.a.createElement(Me.a,{placeholder:"T\xean \u0111\u0103ng nh\u1eadp",type:"text","aria-label":"Username",name:"username","aria-describedby":"username",onChange:o})),r.a.createElement(Le.a,{className:"mb-3"},r.a.createElement(Le.a.Prepend,null,r.a.createElement(Le.a.Text,{id:"basic-addon1"},r.a.createElement("i",{className:"fas fa-envelope"}))),r.a.createElement(Me.a,{placeholder:"Email",type:"email","aria-label":"Email",name:"email","aria-describedby":"basic-addon1",onChange:o})),r.a.createElement(Le.a,{className:"mb-3"},r.a.createElement(Le.a.Prepend,null,r.a.createElement(Le.a.Text,{id:"pass"},r.a.createElement("i",{className:"fas fa-lock"}))),r.a.createElement(Me.a,{placeholder:"M\u1eadt kh\u1ea9u",type:"password","aria-label":"Password",name:"password","aria-describedby":"pass",onChange:o})),r.a.createElement(Le.a,{className:"mb-3"},r.a.createElement(Le.a.Prepend,null,r.a.createElement(Le.a.Text,{id:"confirmpass"},r.a.createElement("i",{className:"fas fa-lock"}))),r.a.createElement(Me.a,{placeholder:"X\xe1c nh\u1eadn l\u1ea1i m\u1eadt kh\u1ea9u",type:"password","aria-label":"ConfirmPassword",name:"confirmPassword","aria-describedby":"confirmpass",onChange:o})),r.a.createElement("button",{type:"submit",className:"btn btn-danger fr"},"\u0110\u0103ng k\xfd")))},Be=function(e){var t=e.component,a=Object(ee.a)(e,["component"]),n=Object(i.useSelector)(function(e){return e.async}).loading,l=Object(i.useSelector)(function(e){return e.user}).authenticated;return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return n||l?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/dang-nhap"})}}))},He=function(e){var t=Object(i.useDispatch)(),a=Object(i.useSelector)(function(e){return e.post.posts}).docs,l=Object(i.useSelector)(function(e){return e.user}).authUser,c=Object(i.useSelector)(function(e){return e.async}),s=c.loading,d=c.actionType;Object(n.useEffect)(function(){h()},[]);var h=function(){var e=Object(u.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(H(1,6));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),p=Object.keys(l).length>0,g=d===U.post.FETCH_POSTS&&s;return r.a.createElement(A.a,{spinning:g},r.a.createElement("div",{className:"my-account"},r.a.createElement(S.a,null,r.a.createElement(pe.a,null,r.a.createElement(le.a,{xs:"12",md:"9",sm:"12",lg:"9"},r.a.createElement("div",{className:"profile"},r.a.createElement(pe.a,null,r.a.createElement(le.a,{xs:"4",md:"4",sm:"4",lg:"4"},r.a.createElement("img",{className:"img-respon img-profile",src:l.avatar||"./assets/images/user.jpg",alt:l.name||"user"})),r.a.createElement(le.a,{xs:"8",md:"8",sm:"8",lg:"8"},r.a.createElement("div",{className:"info-profile"},r.a.createElement("h2",null,l.name||"User"),r.a.createElement("p",null,"S\u1ed1 b\xe0i vi\u1ebft: 12"),r.a.createElement("p",null,"L\u01b0\u1ee3t like: 653"))))),r.a.createElement("div",{className:"my-travel mt-5"},r.a.createElement("h2",{className:"title-profile"},"L\u1ecbch tr\xecnh c\u1ee7a t\xf4i"),r.a.createElement("table",{className:"table table-bordered table-responsive"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0110i\u1ec3m \u0111\u1ebfn"),r.a.createElement("th",null,"\u0110i\u1ec3m du l\u1ecbch"),r.a.createElement("th",null,"\u0110i\u1ec3m \u0103n u\u1ed1ng"),r.a.createElement("th",null,"Th\u1eddi gian"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Nha Trang"),r.a.createElement("td",null,"Bi\u1ec3n",r.a.createElement("br",null),"C\xf4ng vi\xean ",r.a.createElement("br",null),"C\u1ed1i xoay gi\xf3 ",r.a.createElement("br",null)),r.a.createElement("td",null,"Nh\xe0 h\xe0ng h\u1ea3i s\u1ea3n",r.a.createElement("br",null),"Canh rong bi\u1ec3n",r.a.createElement("br",null)),r.a.createElement("td",null,"3 ng\xe0y")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0110\xe0 N\u1eb5ng"),r.a.createElement("td",null,"Bi\u1ec3n",r.a.createElement("br",null),"C\xf4ng vi\xean ",r.a.createElement("br",null),"C\u1ed1i xoay gi\xf3 ",r.a.createElement("br",null)),r.a.createElement("td",null,"Nh\xe0 h\xe0ng h\u1ea3i s\u1ea3n",r.a.createElement("br",null),"Canh rong bi\u1ec3n",r.a.createElement("br",null)),r.a.createElement("td",null,"3 ng\xe0y"))))),r.a.createElement("div",{className:"news-list mt-5"},r.a.createElement("h2",{className:"title-profile"},"B\xe0i vi\u1ebft c\u1ee7a t\xf4i"),r.a.createElement(pe.a,null,a&&a.length>0?a.map(function(e){return r.a.createElement(oe,{post:e,key:e._id,authenticated:p,authUser:l})}):r.a.createElement("div",null,"B\u1ea1n ch\u01b0a c\xf3 b\xe0i vi\u1ebft n\xe0o")))),r.a.createElement(le.a,{xs:"12",md:"3",sm:"12",lg:"3",className:"pr-0"},r.a.createElement("div",{className:"why-choose"},r.a.createElement("h2",null,"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"),r.a.createElement("div",{className:"why-item"},r.a.createElement("i",{className:"fa fa-check-circle","aria-hidden":"true"}),r.a.createElement(m.b,{to:"/viet-bai"},"Vi\u1ebft b\xe0i")),r.a.createElement("div",{className:"why-item"},r.a.createElement("i",{className:"fa fa-check-circle","aria-hidden":"true"}),r.a.createElement(m.b,{to:""}),r.a.createElement(ce.a,{type:"link",shape:"circle",className:"profile-detailed__edit-avatar-btn",onClick:function(){return t(b("UploadProfileImage"))}},"Thay \u1ea3nh \u0111\u1ea1i di\u1ec7n"))),r.a.createElement(_e,{posts:a}))))))},ze=a(149),Ye=a(247),Ve=a(662),Ke=a(643),Xe=function(e,t){var a=Object(n.useState)(e),r=Object(I.a)(a,2),l=r[0],c=r[1];return Object(n.useEffect)(function(){var a=setTimeout(function(){c(e)},t);return function(){clearTimeout(a)}},[e,t]),l},Ge=ze.a.Option,We=te.a.Text,Qe=F,Je=function(){var e=Object(u.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.prev=1,e.next=4,g.a.get("https://still-castle-31935.herokuapp.com/api/city/search?keyWord=".concat(t));case 4:return n=e.sent,e.next=7,n.data.cities;case 7:a=(a=e.sent).map(function(e){return{text:e.name,value:e.id}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(u.a)(o.a.mark(function e(t,a){var n,r,l,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=[],a=a.join(", "),e.prev=3,e.next=6,g.a.post("https://still-castle-31935.herokuapp.com/api/auth/suggest-trip/".concat(t),{places:a},{headers:{"Content-Type":"application/json"}});case 6:l=e.sent,n=l.data.places,c=l.data.matrixCostResult,r=n.map(function(e,t){return t===n.length-1?{from:e.name,to:n[0].name,cost:"".concat(c[t][0]," VND"),key:"$".concat(e._id,"_").concat(n[0]._id)}:{from:e.name,to:n[t+1].name,cost:"".concat(c[t][t+1]," VND"),key:"".concat(e._id,"_").concat(n[t+1]._id)}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t,a){return e.apply(this,arguments)}}(),$e=function(){var e=Object(u.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,e.next=4,g.a.get("https://still-castle-31935.herokuapp.com/api/city/".concat(t));case 4:n=e.sent,a=n.data.city,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Ne.a.useForm(),t=Object(I.a)(e,1)[0],a=Object(n.useState)([]),l=Object(I.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(null),o=Object(I.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(""),h=Object(I.a)(d,2),p=h[0],g=h[1],E=Xe(p,800),f=Object(n.useState)(!1),b=Object(I.a)(f,2),v=b[0],y=b[1],O=Object(n.useState)(!1),S=Object(I.a)(O,2),N=S[0],k=S[1],T=Object(n.useState)(null),x=Object(I.a)(T,2),j=x[0],w=x[1],C=Object(n.useState)([]),_=Object(I.a)(C,2),P=_[0],D=_[1],L=Object(n.useState)({}),M=Object(I.a)(L,2),U=M[0],q=M[1],F=Object(n.useState)(!1),R=Object(I.a)(F,2),B=R[0],H=R[1];Object(n.useEffect)(function(){E&&(i([]),y(!0),Je(E).then(function(e){i(e),y(!1)}))},[E]);var z={selectedRowKeys:P,onChange:function(e){return D(e)}},Y=U&&U.places?U.places.map(function(e){return Object(W.a)({},e.place,{key:e.place._id})}):[];return r.a.createElement("div",null,r.a.createElement(Ne.a,{form:t,onFinish:function(e){var t=e.city.value;w([]),k(!0),Ze(t,P).then(function(e){e.splice(-1,1),w(e),k(!1),D([])}).catch(function(e){console.log(e),k(!1),D([])})}},r.a.createElement(Ne.a.Item,{name:"city",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdng m\u1ed9t th\xe0nh ph\u1ed1"}]},r.a.createElement(ze.a,{labelInValue:!0,value:u,placeholder:"Select City",showSearch:!0,notFoundContent:v?r.a.createElement(A.a,{size:"small"}):null,filterOption:!1,onSearch:function(e){return g(e)},onChange:function(e){var t=e.value;q({}),H(!0),$e(t).then(function(e){q(e),H(!1)}).catch(function(e){console.log(e),H(!1)}),m(t)},style:{width:"100%"}},c.map(function(e){return r.a.createElement(Ge,{key:e.value},e.text)}))),P.length>0&&r.a.createElement(Ne.a.Item,null,r.a.createElement(ce.a,{type:"primary",htmlType:"submit",loading:N},"G\u1ee3i \xfd l\u1ecbch tr\xecnh"))),r.a.createElement(A.a,{spinning:B},r.a.createElement(Ke.a,{rowSelection:z,columns:Qe,dataSource:Y,pagination:!1}),j&&j.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement(ie.a,null),r.a.createElement(Ke.a,{title:function(){return r.a.createElement(We,{strong:!0},"B\u1ea1n n\xean \u0111i theo l\u1ecbch tr\xecnh sau")},dataSource:j,pagination:!1,columns:[{title:"\u0110i\u1ec3m xu\u1ea5t ph\xe1t",dataIndex:"from",key:"from"},{title:"\u0110i\u1ec3m d\u1eebng",dataIndex:"to",key:"to"}]}))))},tt=ze.a.Option,at=te.a.Title,nt=te.a.Text,rt=Ye.a.TabPane,lt=F,ct=R,it=B,st=function(e,t){return Object.keys(t).length>0?"places"===e?t.places.map(function(e){return Object(W.a)({},e,{key:e._id})}):(e=e.slice(0,-1),t["".concat(e,"s")].filter(function(t){return t[e]}).map(function(t){return Object(W.a)({},t[e],{image:r.a.createElement("img",{alt:"value",src:t[e].image,style:{width:"100%",maxWidth:"100px"}}),key:t[e]._id})})):[]},ot=function(){var e=Object(u.a)(o.a.mark(function e(t,a){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,g.a.get("https://still-castle-31935.herokuapp.com/api/auth/suggest-place/".concat(t,"/").concat(a));case 4:r=e.sent,n=r.data.city,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a){return e.apply(this,arguments)}}(),ut=function(){var e=Object(u.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.prev=1,e.next=4,g.a.get("https://still-castle-31935.herokuapp.com/api/city/search?keyWord=".concat(t));case 4:return n=e.sent,e.next=7,n.data.cities;case 7:a=(a=e.sent).map(function(e){return{text:e.name,value:e.id}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(n.useState)([]),t=Object(I.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),i=Object(I.a)(c,2),s=i[0],m=i[1],d=Object(n.useState)(!1),h=Object(I.a)(d,2),p=h[0],g=h[1],E=Object(n.useState)(null),f=Object(I.a)(E,2),b=f[0],v=f[1],y=Object(n.useState)({place:[],hotel:[],food:[]}),O=Object(I.a)(y,2),N=O[0],k=O[1],T=Object(n.useState)({}),x=Object(I.a)(T,2),j=x[0],w=x[1],C=Object(n.useState)(""),_=Object(I.a)(C,2),P=_[0],D=_[1],U=Xe(P,800),q=Object(n.useState)({place:0,hotel:0,food:0}),F=Object(I.a)(q,2),R=F[0],B=F[1],H=Ne.a.useForm(),z=Object(I.a)(H,1)[0];Object(n.useEffect)(function(){return U&&(l([]),m(!0),ut(U).then(function(e){l(e),m(!1)})),function(){B({place:0,hotel:0,food:0})}},[U]);var Y=function(){var e=Object(u.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.city.value,n=t.time,w({}),g(!0),ot(a,n).then(function(e){w(e),g(!1)}).catch(function(e){console.log(e),g(!1)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),V={selectedRowKeys:N.place,onChange:function(e){var t=R.place;e.forEach(function(e){var a=G.find(function(t){return t._id===e});a&&(t+=Number(a.price))}),B(Object(W.a)({},R,{place:t})),k(Object(W.a)({},N,{place:e}))}},K={selectedRowKeys:N.hotel,onChange:function(e){var t=R.hotel;e.forEach(function(e){var a=Q.find(function(t){return t._id===e});a&&(t+=Number(a.price))}),B(Object(W.a)({},R,{hotel:t})),k(Object(W.a)({},N,{hotel:e}))}},X={selectedRowKeys:N.food,onChange:function(e){var t=R.food;e.forEach(function(e){var a=J.find(function(t){return t._id===e});a&&(t+=Number(a.price))}),B(Object(W.a)({},R,{food:t})),k(Object(W.a)({},N,{food:e}))}},G=st("places",j),Q=st("hotels",j).map(function(e){return Object(W.a)({},e,{price:Math.round((Number(e.priceMin)+Number(e.priceMax))/2)})}),J=st("foods",j);return r.a.createElement("div",{className:"my-trip"},r.a.createElement("div",{className:"module-banner"},r.a.createElement("img",{className:"img-respon img-banner",src:"./assets/images/banner-post.jpg",alt:""}),r.a.createElement("div",{className:"title-bn"},r.a.createElement("h2",null,"L\u1ecbch tr\xecnh c\u1ee7a t\xf4i"),r.a.createElement("div",null,"Trang ch\u1ee7 \xa0/\xa0 B\u1ea1n mu\u1ed1n \u0111\u1ebfn?"))),r.a.createElement(S.a,null,r.a.createElement("div",{className:"content-trip"},r.a.createElement(Ye.a,{defaultActiveKey:"1"},r.a.createElement(rt,{tab:"L\xean l\u1ecbch tr\xecnh theo s\u1ed1 ng\xe0y du l\u1ecbch",key:"1"},r.a.createElement(L.a,{gutter:[16,16]},r.a.createElement(M.a,{xs:24,sm:24,md:18,lg:18,xl:18},r.a.createElement("h3",{className:"paci-font"},"H\xe3y t\u1ef1 t\u1ea1o cho m\xecnh m\u1ed9t l\u1ecbch tr\xecnh ph\xf9 h\u1ee3p v\u1edbi qu\u1ef9 th\u1eddi gian v\xe0 h\u1ea7u bao c\u1ee7a b\u1ea3n th\xe2n n\xe0o!"),r.a.createElement(Ne.a,{form:z,onFinish:Y},r.a.createElement(Ne.a.Item,{name:"city",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean t\u1ec9nh"}]},r.a.createElement(ze.a,{labelInValue:!0,value:b,placeholder:"T\xecm ki\u1ebfm t\u1ec9nh/th\xe0nh ph\u1ed1",showSearch:!0,notFoundContent:s?r.a.createElement(A.a,{size:"small"}):null,filterOption:!1,onSearch:function(e){return D(e)},onChange:function(e){return v(e)},style:{width:"100%"}},a.map(function(e){return r.a.createElement(tt,{key:e.value},e.text)}))),r.a.createElement(Ne.a.Item,{name:"time",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 ng\xe0y du l\u1ecbch"}],style:{width:"100%"}},r.a.createElement(Ve.a,{placeholder:"Nh\u1eadp s\u1ed1 ng\xe0y du l\u1ecbch",min:1,style:{width:"100%"}})),r.a.createElement(Ne.a.Item,null,r.a.createElement(ce.a,{type:"primary",className:"fr",htmlType:"submit",loading:p},"G\u1ee3i \xfd chuy\u1ebfn \u0111i"))),r.a.createElement("div",{className:"food"},r.a.createElement("div",{className:"table-responsive"},G.length>0&&r.a.createElement(Ke.a,{rowSelection:V,columns:lt,dataSource:G,pagination:!1,title:function(){return r.a.createElement(at,{level:4},"Nh\u1eefng \u0111\u1ecba \u0111i\u1ec3m tham quan ph\xf9 h\u1ee3p v\u1edbi s\u1ed1 ng\xe0y c\u1ee7a b\u1ea1n. M\u1eddi b\u1ea1n tham kh\u1ea3o. N\u1ebfu mu\u1ed1n ch\u1ecdn nh\u1eefng \u0111\u1ecba \u0111i\u1ec3m kh\xe1c, m\u1eddi b\u1ea1n ch\u1ecdn \u1edf m\u1ee5c d\u01b0\u1edbi c\xf9ng!")}}),J.length>0&&r.a.createElement(Ke.a,{rowSelection:X,columns:it,dataSource:J,pagination:!1,title:function(){return r.a.createElement(at,{level:4},"Nh\u1eefng m\xf3n \u0103n b\u1ea1n kh\xf4ng n\xean b\u1ecf l\u1ee1")}}),Q.length>0&&r.a.createElement(Ke.a,{rowSelection:K,columns:ct,dataSource:Q,pagination:!1,title:function(){return r.a.createElement(at,{level:4},"B\u1ea1n c\xf3 th\u1ec3 tham kh\u1ea3o nh\u1eefng kh\xe1ch s\u1ea1n d\u01b0\u1edbi \u0111\xe2y")}})))),r.a.createElement(M.a,{xs:24,sm:24,md:6,lg:6,xl:6},r.a.createElement("div",{className:"post-lq"},r.a.createElement("h2",{className:"title-profile"},"Chi ph\xed"),r.a.createElement("div",{className:"list-item-lq"},r.a.createElement("div",{className:"item-lq"},r.a.createElement(nt,{strong:!0},"V\xe9 du l\u1ecbch: "),r.a.createElement(nt,null,R.place),r.a.createElement(nt,null," VND")),r.a.createElement("div",{className:"item-lq"},r.a.createElement(nt,{strong:!0},"Chi ph\xed kh\xe1ch s\u1ea1n: "),r.a.createElement(nt,null,R.hotel),r.a.createElement(nt,null," VND")),r.a.createElement("div",{className:"item-lq"},r.a.createElement(nt,{strong:!0},"Chi ph\xed \u0103n u\u1ed1ng: "),r.a.createElement(nt,null,R.food),r.a.createElement(nt,null," VND")),r.a.createElement("div",{className:"pt-2"},r.a.createElement(nt,{strong:!0},"Total: "),r.a.createElement(nt,null,R.place+R.hotel+R.food),r.a.createElement(nt,null," VND"))))))),r.a.createElement(rt,{tab:"L\xean l\u1ecbch tr\xecnh theo ch\u1ecdn \u0111\u1ecba \u0111i\u1ec3m",key:"2"},r.a.createElement(et,null))))))},dt=a(340),ht=a(644),pt=a(658),gt=a(326),Et=a.n(gt),ft=a(97),bt=a.n(ft),vt=(a(614),function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(x.a)(this,e),this.quill=t,this.options=a,this.handleClick=this.handleClick.bind(this),this.handleMousedown=this.handleMousedown.bind(this),this.handleMouseup=this.handleMouseup.bind(this),this.handleDrag=this.handleDrag.bind(this),this.checkImage=this.checkImage.bind(this),this.boxes=[],document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1)}return Object(j.a)(e,[{key:"handleClick",value:function(e){if(e.target&&e.target.tagName&&"IMG"===e.target.tagName.toUpperCase()){if(this.img===e.target)return;this.img&&this.hide(),this.show(e.target)}else this.img&&this.hide()}},{key:"show",value:function(e){this.img=e,this.showResizers(),this.showSizeDisplay();var t=this.img.getBoundingClientRect();this.positionBoxes(t),this.positionSizeDisplay(t)}},{key:"hide",value:function(){this.hideResizers(),this.img=void 0}},{key:"showResizers",value:function(){this.setUserSelect("none"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),document.addEventListener("keyup",this.checkImage,!0),this.quill.root.addEventListener("input",this.checkImage,!0)}},{key:"hideResizers",value:function(){document.removeEventListener("keyup",this.checkImage),this.quill.root.removeEventListener("input",this.checkImage),this.setUserSelect(""),this.setCursor(""),this.boxes.forEach(function(e){return document.body.removeChild(e)}),this.dragBox=void 0,this.dragStartX=void 0,this.preDragWidth=void 0,this.boxes=[]}},{key:"addBox",value:function(e){var t=document.createElement("div"),a={position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:e};this.extend(t.style,a,this.options.handleStyles||{}),t.addEventListener("mousedown",this.handleMousedown,!1),document.body.appendChild(t),this.boxes.push(t)}},{key:"extend",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.forEach(function(t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}),e}},{key:"positionBoxes",value:function(e){var t=this;[{left:e.left-6,top:e.top-6},{left:e.left+e.width-6,top:e.top-6},{left:e.left+e.width-6,top:e.top+e.height-6},{left:e.left-6,top:e.top+e.height-6}].forEach(function(e,a){t.extend(t.boxes[a].style,{top:Math.round(e.top+window.pageYOffset)+"px",left:Math.round(e.left+window.pageXOffset)+"px"})})}},{key:"handleMousedown",value:function(e){this.dragBox=e.target,this.dragStartX=e.clientX,this.preDragWidth=this.img.width||this.img.naturalWidth,this.setCursor(this.dragBox.style.cursor),document.addEventListener("mousemove",this.handleDrag,!1),document.addEventListener("mouseup",this.handleMouseup,!1)}},{key:"handleMouseup",value:function(){this.setCursor(""),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleMouseup)}},{key:"handleDrag",value:function(e){if(this.img){this.dragBox===this.boxes[0]||this.dragBox===this.boxes[3]?this.img.width=Math.round(this.preDragWidth-e.clientX-this.dragStartX):this.img.width=Math.round(this.preDragWidth+e.clientX-this.dragStartX);var t=this.img.getBoundingClientRect();this.positionBoxes(t),this.positionSizeDisplay(t)}}},{key:"setUserSelect",value:function(e){var t=this;["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(a){t.quill.root.style[a]=e,document.documentElement.style[a]=e})}},{key:"setCursor",value:function(e){[document.body,this.img,this.quill.root].forEach(function(t){return t.style.cursor=e})}},{key:"checkImage",value:function(){this.img&&this.hide()}},{key:"showSizeDisplay",value:function(){if(this.options.displaySize){this.display=document.createElement("div");this.extend(this.display.style,{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},this.options.displayStyles||{}),document.body.appendChild(this.display)}}},{key:"hideSizeDisplay",value:function(){document.body.removeChild(this.display),this.display=void 0}},{key:"positionSizeDisplay",value:function(e){if(this.display&&this.img){var t=this.getCurrentSize();if(this.display.innerHTML=t.join(" &times; "),t[0]>120&&t[1]>30){var a=this.display.getBoundingClientRect();this.extend(this.display.style,{left:Math.round(e.left+e.width+window.pageXOffset-a.width-8)+"px",top:Math.round(e.top+e.height+window.pageYOffset-a.height-8)+"px"})}else this.extend(this.display.style,{left:Math.round(e.left+e.width+window.pageXOffset+8)+"px",top:Math.round(e.top+e.height+window.pageYOffset+8)+"px"})}}},{key:"getCurrentSize",value:function(){return[this.img.width,Math.round(this.img.width/this.img.naturalWidth*this.img.naturalHeight)]}}]),e}()),yt=a(82),Ot=a(248),St=ft.Quill.import("blots/block/embed"),Nt=ft.Quill.import("parchment"),kt=["height","width"],Tt={tLeft:{top:"-5px",left:"-5px"},tRight:{top:"-5px",right:"-5px"},bLeft:{bottom:"-5px",left:"-5px"},bRight:{bottom:"-5px",right:"-5px"}},xt=function(){var e=document.createElement("div");return e.appendChild(document.createElement("br")),e},jt=function(){function e(){Object(x.a)(this,e)}return Object(j.a)(e,[{key:"buildIFrame",value:function(e,t){var a=document.createElement("iframe");return a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",!0),a.className="td-quill-video-editing",a.setAttribute("width",t.getAttribute("width")||300),a.setAttribute("height",t.getAttribute("height")||150),a.setAttribute("src",e),a}},{key:"buildNode",value:function(e,t){return e.appendChild(t),setTimeout(function(){e.setAttribute("contenteditable","false"),e.parentElement&&e.parentElement.insertBefore(xt(),e),e.parentElement&&e.parentElement.appendChild(xt());var t=e.getElementsByTagName("iframe")[0];t.setAttribute("width",e.getAttribute("width")||300),t.setAttribute("height",e.getAttribute("height")||150)},0),e}},{key:"buildOverlay",value:function(){var e=document.createElement("div");return e.setAttribute("class","td-quill-video-overlay"),e.setAttribute("contenteditable","false"),e.addEventListener("click",function(t){var a=function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}(e,".ql-editor");if(a&&a.quill){var n=Nt.find(e.parentElement.parentElement);n instanceof wt&&n.domNode.builder.select(e,a.quill,n)}}),e}},{key:"select",value:function(e,t,a){this.selectedElement=e,-1===this.selectedElement.className.indexOf("active")&&(this.quill=t,this.quill.setSelection(null),this.parentElement=this.selectedElement.parentElement,this.node=a,this.iframe=this.parentElement.getElementsByTagName("iframe")[0],this.selectedElement.setAttribute("class","td-quill-video-overlay active"),this.buildResize(),this.handelDeselect=this.deselect.bind(this),this.quill.root.addEventListener("click",this.handelDeselect,!1))}},{key:"deselect",value:function(e){if(e.target!==this.selectedElement){for(this.selectedElement.setAttribute("class","td-quill-video-overlay"),this.clearNubEvents(!0);this.selectedElement.firstChild;)this.selectedElement.removeChild(this.selectedElement.firstChild);this.selectedElement=null,this.quill.root.removeEventListener("click",this.handelDeselect,!1)}}},{key:"buildToolBar",value:function(){var e=document.createElement("div");e.className="td-quill-video-toolbar-wrapper";var t=document.createElement("div");return t.className="td-quill-video-toolbar",t=this.addToolBarActions(t),e.appendChild(t),e}},{key:"addToolBarActions",value:function(e){return e.appendChild(this.buildAction("left")),e.appendChild(this.buildAction("center")),e.appendChild(this.buildAction("right")),e}},{key:"buildAction",value:function(e){var t=this,a=document.createElement("span");return a.className="td-quill-video-align-action td-quill-video-".concat(e),a.innerHTML='<i class="fa fa-align-'.concat(e," td-align-").concat(e,'" aria-hidden="true"></i>'),a.addEventListener("click",function(){if(t.quill.setSelection(t.node.offset(t.quill.scroll),1,"user"),"left"===e)return t.quill.format("align",null);t.quill.format("align",e),t.quill.setSelection(null)}),a}},{key:"buildResize",value:function(){for(var e in this.boxes=[],this.dragHandeler=this.handleDrag.bind(this),this.mouseUp=this.handelMouseUp.bind(this),this.mouseDown=this.handleMousedown.bind(this),Tt){var t=this.buildNub(e);this.boxes.push(t),this.selectedElement.appendChild(t)}return this.selectedElement}},{key:"buildNub",value:function(e){var t=document.createElement("span");return t.className="td-quill-resize-nub",Object.assign(t.style,Tt[e]),t.addEventListener("mousedown",this.mouseDown,!1),t}},{key:"handleMousedown",value:function(e){this.dragBox=e.target,this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.preDragWidth=parseInt(this.iframe.width,10)||300,this.preDragHeight=parseInt(this.iframe.height,10)||150,document.addEventListener("mousemove",this.dragHandeler,!1),document.addEventListener("mouseup",this.mouseUp,!1)}},{key:"handleDrag",value:function(e){if(this.iframe){var t=e.clientX-this.dragStartX,a=e.clientY-this.dragStartY;this.dragBox===this.boxes[0]||this.dragBox===this.boxes[2]?(this.iframe.width=Math.round(this.preDragWidth-t),this.iframe.height=Math.round(this.preDragHeight+a)):(this.iframe.width=Math.round(this.preDragWidth+t),this.iframe.height=Math.round(this.preDragHeight+a))}}},{key:"handelMouseUp",value:function(e){this.clearNubEvents()}},{key:"clearNubEvents",value:function(e){for(var t in this.boxes)document.removeEventListener("mousemove",this.dragHandeler,!1),document.removeEventListener("mouseup",this.mouseUp,!1),e&&this.boxes[t].removeEventListener("mousedown",this.handleMousedown,!1)}}]),e}(),wt=function(e){Object(w.a)(a,e);var t=Object(C.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"format",value:function(e,t){kt.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):Object(Ot.a)(Object(yt.a)(a.prototype),"format",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=Object(Ot.a)(Object(yt.a)(a),"create",this).call(this);t.builder=new jt;var n=document.createElement("div");n.className="td-quill-video-wrapper";var r=t.builder.buildIFrame(e,t),l=t.builder.buildOverlay();return n.appendChild(r),n.appendChild(l),t.builder.buildNode(t,n)}},{key:"formats",value:function(e){var t=e.getElementsByTagName("iframe")[0];return kt.reduce(function(e,a){return t.hasAttribute(a)&&(e[a]=t.getAttribute(a)),e},{})}},{key:"value",value:function(e){return e.getElementsByTagName("iframe")[0].getAttribute("src")}}]),a}(St);wt.blotName="video",wt.className="td-video",wt.tagName="div";a(615);ft.Quill.register("modules/imageResize",vt),ft.Quill.register({"formats/video":wt});var Ct={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1},history:{delay:1e3,maxStack:50,userOnly:!1},imageResize:{displayStyles:{backgroundColor:"black",border:"none",color:"white"},modules:["Resize","DisplaySize","Toolbar"]}},_t=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"],Pt=function(e){var t=e.handleChange,a=e.text,l=e.clearContent,c=e.quillRef;return Object(n.useEffect)(function(){return c.current.focus(),function(){l()}},[]),r.a.createElement(bt.a,{value:a,onChange:t,modules:Ct,formats:_t,placeholder:"Enter new content here...",ref:c,theme:"snow"})},It=function(e){var t=Object(i.useDispatch)(),a=Object(d.g)(),l=Object(d.h)().id,c=Ne.a.useForm(),s=Object(I.a)(c,1)[0],o=Object(i.useSelector)(function(e){return e.post.currentPost}),u=Object(i.useSelector)(function(e){return e.async}),m=u.loading,h=u.actionType,p=Object(n.useState)(""),b=Object(I.a)(p,2),y=b[0],O=b[1],N=Object(n.useState)([]),k=Object(I.a)(N,2),T=k[0],x=k[1],j=Object(n.useRef)(null);Object(n.useEffect)(function(){return l&&t(Y(l)),function(){s.resetFields(),w(),x([]),t({type:"CLEAR_POST"})}},[l]),Object(n.useEffect)(function(){if(o){var e={uid:Et.a.generate(),status:"done",url:o.mainPhoto};s.setFieldsValue(Object(W.a)({},o,{image:e})),O(o.content),x([].concat(Object(dt.a)(T),[e]))}},[o]);var w=function(){return j.current.setEditorContents(j.current.editor,"")},C=!!U.post.FETCH_POST&&m,_=(h===U.post.CREATE_POST||h===U.post.UPDATE_POST)&&m;return r.a.createElement(A.a,{spinning:C},r.a.createElement("div",{className:"create-post"},r.a.createElement(S.a,null,r.a.createElement("div",{className:"title-post"},"H\xe3y c\xf9ng ch\xfang t\xf4i lan t\u1ecfa \u0111am m\xea kh\xe1m ph\xe1 th\u1ebf gi\u1edbi ",r.a.createElement("br",null),"B\u1ea1n \u0111\xe3 s\u1eb5n s\xe0ng chia s\u1ebd nh\u01b0ng kinh nghi\u1ec7m du l\u1ecbch h\u1eefu \xedch c\u1ee7a b\u1ea3n th\xe2n c\xf9ng h\u1ed9i m\xea x\xea d\u1ecbch r\u1ed3i ch\u1ee9? Let's go!"),r.a.createElement(Ne.a,{form:s,size:"large",onFinish:function(e){if(l&&o){var n=Object(W.a)({},o,{},e,{content:y});t(function(e,t){return function(a){var n=new FormData;e.title&&n.append("title",e.title),e.content&&n.append("content",e.content),e.type&&n.append("type",e.type),e.image.file&&n.append("image",e.image.file.originFileObj),a(E(U.post.UPDATE_POST)),g.a.post("https://still-castle-31935.herokuapp.com/api/post/".concat(e._id),n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var n=e.data.post;a({type:"UPDATE_POST",payload:{post:n}}),a({type:"ASYNC_ACTION_FINISH"}),v.toastr.success("Success","Your post has been updated"),t.push("/cam-nang-du-lich/".concat(n._id))}).catch(function(e){console.log(e),v.toastr.error("Oops","Some thing when wrong, please try again"),a(f())})}}(n,a))}else{var r=Object(W.a)({},e,{content:y});t(function(e,t){return function(a){var n=new FormData;n.append("title",e.title),n.append("content",e.content),n.append("type",e.type),e.image.file&&n.append("image",e.image.file.originFileObj),a(E(U.post.CREATE_POST)),g.a.post("https://still-castle-31935.herokuapp.com/api/post/",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var n=e.data.post;a({type:"ADD_POST",payload:{post:n}}),a({type:"ASYNC_ACTION_FINISH"}),v.toastr.success("Success","Your post has been created"),t.push("/cam-nang-du-lich/".concat(n._id))}).catch(function(e){console.log(e),v.toastr.error("Oops","Some thing when wrong, please try again"),a(f())})}}(r,a))}}},r.a.createElement(Ne.a.Item,{name:"title",rules:[{required:!0,message:"Vui l\xf2ng \u0111i\u1ec1n ti\xeau \u0111\u1ec1 cho b\xe0i vi\u1ebft"}]},r.a.createElement(Se.a,{placeholder:"T\u1ef1a \u0111\u1ec1 hay g\xe2y \u1ea5n t\u01b0\u1ee3ng cho ng\u01b0\u1eddi \u0111\u1ecdc"})),r.a.createElement(Ne.a.Item,{name:"type",rules:[{required:!0,message:"Vui l\xf2ng \u0111i\u1ec1n ti\xeau \u0111\u1ec1 cho b\xe0i vi\u1ebft"}]},r.a.createElement(ze.a,{placeholder:"Ch\u1ecdn lo\u1ea1i b\xe0i vi\u1ebft"},r.a.createElement(ze.a.Option,{value:"food"},"B\xed k\xedp \u0103n u\u1ed1ng"),r.a.createElement(ze.a.Option,{value:"experience"},"Kinh nghi\u1ec7m du l\u1ecbch"),r.a.createElement(ze.a.Option,{value:"place"},"\u0110\u1ecba \u0111i\u1ec3m vui ch\u01a1i"))),r.a.createElement(Ne.a.Item,{name:"image",rules:[{required:!0,message:"Please choose main image for your article"}]},r.a.createElement(ht.a,{defaultFileList:[],fileList:T,onChange:function(e){e.file.status="done",x([e.file])},listType:"picture-card",customRequest:function(){},disabled:l?T.length>1:T.length>0},r.a.createElement(pt.a,null))),r.a.createElement(Ne.a.Item,{name:"content",rules:[{validator:function(e,t){return y?Promise.resolve():Promise.reject("Please enter the content")}}]},r.a.createElement(Pt,{text:y,handleChange:function(e,t,a,n){O(e)},quillRef:j,clearContent:w})),r.a.createElement(Ne.a.Item,null,r.a.createElement(ce.a,{htmlType:"submit",className:"fr",type:"primary",loading:_},"\u0110\u0103ng b\xe0i"))))))},At=a(337),Dt=a(652),Lt=a(653),Mt=a(335),Ut=te.a.Text,qt=function(e){var t=e.handleCancel,a=(e.handleOpenImageLibrary,Object(i.useDispatch)()),l=Object(i.useSelector)(function(e){return e.async}),c=l.loading,s=l.actionType,m=Object(n.useState)(null),d=Object(I.a)(m,2),h=d[0],p=d[1],b=Object(n.useState)(null),y=Object(I.a)(b,2),S=y[0],N=y[1],k=Object(n.useState)([]),T=Object(I.a)(k,2),x=T[0],j=T[1],w="uploadAvatar"===s&&c;return r.a.createElement(Dt.a,{bordered:!1,bodyStyle:{padding:0}},r.a.createElement(Dt.a.Meta,{title:"Upload new profile image",description:r.a.createElement(n.Fragment,null,r.a.createElement(Ne.a,null,r.a.createElement(Ne.a.Item,null,r.a.createElement(Mt.a,{rotate:!0,modalTitle:"Your Profile Image"},r.a.createElement(ht.a,{customRequest:function(){},multiple:!1,listType:"picture-card",onChange:function(e){p(e.file);var t=e.fileList.map(function(e){return Object(W.a)({},e,{status:"done"})});j(t),N(null)},disabled:h,fileList:x,defaultFileList:[]},r.a.createElement(pt.a,null)))),h&&h.name&&r.a.createElement(Ne.a.Item,null,r.a.createElement(Lt.a,{style:{marginRight:12}}),r.a.createElement(Ut,null,h.name)),S&&S.image&&r.a.createElement(Ne.a.Item,null,r.a.createElement(Ut,{type:"danger"},S.image.msg)),r.a.createElement(Ne.a.Item,null,r.a.createElement(V.a,null,r.a.createElement(ce.a,{type:"primary",onClick:function(){var e;h?a((e=h,function(){var t=Object(u.a)(o.a.mark(function t(a){var n,r,l,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new FormData,r={headers:{"content-type":"multipart/form-data"}},n.append("image",e.originFileObj),a(E("uploadAvatar")),t.prev=4,t.next=7,g.a.post("https://still-castle-31935.herokuapp.com/api/auth/me/upload",n,r);case 7:l=t.sent,c=l.data.user,a({type:"SET_AUTH_USER",payload:{user:c}}),a(O()),a({type:"ASYNC_ACTION_FINISH"}),a({type:"CLOSE_MODAL"}),v.toastr.success("Success","Your avatar has been updated"),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(4),console.log(t.t0.response.data),a(f()),v.toastr.error("Oops","Some thing went wrong, please try again");case 21:case"end":return t.stop()}},t,null,[[4,16]])}));return function(e){return t.apply(this,arguments)}}())):N({image:{msg:"Please choose an image to upload"}})},loading:w,className:"btn btn--dark"},"Submit"),r.a.createElement(ce.a,{onClick:t},"Cancel")))))}))},Ft={UploadProfileImage:function(e){var t=Object(i.useDispatch)(),a=function(){return t({type:"CLOSE_MODAL"})};return r.a.createElement(At.a,{visible:!0,onCancel:a,footer:null,title:"Profile image",destroyOnClose:!0},r.a.createElement(qt,{handleCancel:a,handleOpenImageLibrary:function(){return t(b("LibImageModal"))}}))}};var Rt=function(e){var t,a=Object(i.useSelector)(function(e){return e.modal});if(a){var n=a.modalType,l=a.modalProps,c=Ft[n];t=r.a.createElement(c,l)}return r.a.createElement("span",null,t)};function Bt(){var e=Object(i.useDispatch)();Object(n.useEffect)(function(){t()},[]);var t=function(){var t=Object(u.a)(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=localStorage.getItem("token"))){t.next=5;break}return $(),t.next=5,e(O(a));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"wrapper"},r.a.createElement(m.a,null,r.a.createElement(P,null),r.a.createElement(Rt,null),r.a.createElement(T,null),r.a.createElement("main",{className:"main-page"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:me}),r.a.createElement(d.b,{exact:!0,path:"/cam-nang-du-lich",component:Ee}),r.a.createElement(d.b,{exact:!0,path:"/cam-nang-du-lich/:id",component:Ie}),r.a.createElement(d.b,{exact:!0,path:"/dang-nhap",component:Fe}),r.a.createElement(d.b,{exact:!0,path:"/dang-ky",component:Re}),r.a.createElement(Be,{exact:!0,path:"/tai-khoan",component:He}),r.a.createElement(Be,{exact:!0,path:"/lich-trinh",component:mt}),r.a.createElement(Be,{exact:!0,path:["/chinh-sua-bai-viet/:id","/viet-bai"],component:It}))),r.a.createElement(_,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ht=a(78),zt=a(332),Yt=a(333),Vt={posts:{docs:[],totalDocs:0,limit:10,totalPages:0,page:0,hasPrevPage:!1,hasNextPage:!1,prevPage:null,nextPage:null},experiencePosts:{docs:[],totalDocs:0,limit:10,totalPages:0,page:0,hasPrevPage:!1,hasNextPage:!1,prevPage:null,nextPage:null},foodPosts:{docs:[],totalDocs:0,limit:10,totalPages:0,page:0,hasPrevPage:!1,hasNextPage:!1,prevPage:null,nextPage:null},placePosts:{docs:[],totalDocs:0,limit:10,totalPages:0,page:0,hasPrevPage:!1,hasNextPage:!1,prevPage:null,nextPage:null},currentPost:null},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS":return Object(W.a)({},e,{posts:Object(W.a)({},e.posts,{},n)});case"GET_POST":return Object(W.a)({},e,{currentPost:n.post});case"GET_POSTS_BY_TYPE":switch(n.type){case"experience":return Object(W.a)({},e,{experiencePosts:n.data});case"food":return Object(W.a)({},e,{foodPosts:n.data});case"place":return Object(W.a)({},e,{placePosts:n.data});default:return Object(W.a)({},e,{experiencePosts:n.data})}case"ADD_POST":case"UPDATE_POST":return Object(W.a)({},e,{currentPost:n.post});case"COMMENT_ON_POST":case"LIKE_POST":case"UNLIKE_POST":case"DELETE_POST_COMMENT":return Object(W.a)({},e,{currentPost:n.post});case"CLEAR_POST":return Object(W.a)({},e,{currentPost:null});default:return e}},Xt={authUser:{},authenticated:!!localStorage.getItem("token")},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return Object(W.a)({},e,{authUser:t.payload.user,authenticated:!0});case"LOGOUT":return Object(W.a)({},e,{authenticated:!1});default:return e}},Wt={loading:!1,actionType:null,elmId:null,error:null},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ASYNC_ACTION_START":return Object(W.a)({},e,{loading:!0,actionType:n.actionType,elmId:n.elmId,error:null});case"ASYNC_ACTION_FINISH":return Object(W.a)({},e,{loading:!1,actionType:null,elmId:null,error:null});case"ASYNC_ACTION_ERROR":return Object(W.a)({},e,{loading:!1,actionType:null,elmId:null,error:n.err});default:return e}},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"OPEN_MODAL":return{modalType:n.modalType,modalProps:n.modalProps};case"CLOSE_MODAL":return null;default:return e}},Zt=Object(Ht.combineReducers)({post:Kt,user:Gt,async:Qt,toastr:v.reducer,modal:Jt}),$t=function(){var e=[Yt.a],t=Object(zt.composeWithDevTools)(Ht.applyMiddleware.apply(void 0,e));return Object(Ht.createStore)(Zt,t)}();c.a.render(r.a.createElement(i.Provider,{store:$t},r.a.createElement(Bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[342,1,2]]]);
//# sourceMappingURL=main.72d6d8ee.chunk.js.map