{"version":3,"sources":["features/async/async.actions.js","features/async/async.constants.js","features/user/user.actions.js","features/user/user.constant.js","features/navbar/Menu.js","app/Layout/Footer.js","app/Layout/common/Toastr.jsx","app/utils/config.js","features/post/post.actions.js","features/post/post.constant.js","app/utils/helper.js","app/Layout/common/IconText.jsx","features/home/BannerHome.js","features/post/ItemPost/ItemPost.js","features/home/Home.js","features/post/ItemPost/BannerPost.js","features/post/NewsList/NewsList.js","features/post/PostDetailed/Comments.jsx","features/post/PostDetailed/CommentEditor.jsx","features/post/ItemPost/ItemSlide.js","pages/Components/Sidebar/Sidebar.js","features/post/PostDetailed/PostDetail.js","features/user/Login/Login.js","features/user/Register/Register.js","app/Layout/common/PrivateRoute.jsx","pages/Components/ModalChargePass/ModalChargePass.js","features/user/MyAccount/MyAccount.js","app/Layout/common/CustomHook.jsx","features/user/MyTrip/SuggestTrip.jsx","features/user/MyTrip/MyTrip.js","app/Layout/common/TextEditor/ImageResize.jsx","app/Layout/common/TextEditor/quill-video-resize.js","app/Layout/common/TextEditor/TextEditor.jsx","features/post/PostAction/PostAction.jsx","app/Layout/App.js","serviceWorker.js","features/post/post.reducer.js","features/user/user.reducers.js","features/async/async.reducer.js","app/redux/rootReducer.js","app/redux/store.js","index.js"],"names":["asyncActionStart","actionType","elmId","type","payload","asyncActionError","err","getAuthUser","token","dispatch","axios","defaults","headers","common","concat","get","then","res","user","data","catch","console","log","Menubar","authUser","useSelector","state","useDispatch","react_default","a","createElement","className","Container","Navbar","collapseOnSelect","expand","Brand","as","NavLink","to","src","alt","Toggle","aria-controls","Collapse","id","Nav","Link","Object","keys","length","react","NavDropdown","title","Item","onClick","localStorage","removeItem","placeholder","value","Footer","Component","Toastr","props","lib_default","timeOut","newestOnTop","preventDuplicates","position","getState","toastr","transitionIn","transitionOut","closeOnToastrClick","actionTypes","post","CREATE_POST","UPDATE_POST","FETCH_POSTS","FETCH_POST","COMMENT_ON_POST","DELETE_POST_COMMENT","LIKE_POST","UNLIKE_POST","defaultImage","columnsTable","dataIndex","key","fetchPosts","page","arguments","undefined","limit","query","fetchPost","formatDate","string","moment","format","setDefaultAxios","getItem","Text","Typography","IconText","_ref","Icon","icon","text","rest","objectWithoutProperties","assign","style","display","alignItems","marginRight","BannerHome","react_router_dom","_id","mainPhoto","space","common_IconText","UserOutlined","name","CalendarOutlined","date","EyeOutlined","views","ItemPost","authenticated","Col","xs","sm","md","lg","shortDescription","justifyContent","es_button","EditOutlined","divider","Home","posts","docs","_useState","useState","_useState2","slicedToArray","postsCarousel","setPostsCarousel","useEffect","carousel","autoplay","map","home_BannerHome","es_Container","row","col","post_ItemPost_ItemPost","BannerPost","esm_Row","NewsList","_useSelector","async","loading","fetchPostsLoading","spin","spinning","ItemPost_BannerPost","Row","Comments","comments","authUserId","loadingType","deleteComment","list","header","itemLayout","dataSource","renderItem","cmt","es_comment","actions","DeleteOutlined","danger","author","avatar","content","datetime","Comments_Text","TextArea","Input","CommentEditor","onChange","onSubmit","submitting","Fragment","es_form","rows","htmlType","ItemSlide","xl","dangerouslySetInnerHTML","__html","Sidebar","ItemPost_ItemSlide","postAction","PostDetail","useParams","currentPost","_useSelector2","_useSelector3","comment","setComment","_ref$comments","_ref$mainPhoto","_ref$title","_ref$content","_ref$date","_ref$user","_ref$likes","likes","_ref$views","commentLoading","likeLoading","unlikeLoading","textAlign","align","LikeFilled","postId","_ref3","asyncToGenerator","regenerator_default","mark","_callee3","response","wrap","_context3","prev","next","put","sent","t0","error","general","msg","stop","_x3","apply","this","DislikeFilled","_ref4","_callee4","_context4","_x4","PostDetailed_Comments","commentId","_ref2","_callee2","_context2","delete","_x2","deletePostComment","PostDetailed_CommentEditor","e","target","preventDefault","_callee","_context","_x","commentOnPost","Components_Sidebar_Sidebar","Login","history","useHistory","email","password","setState","objectSpread2","defineProperty","loginLoading","userCredentials","setItem","push","login","Alert","variant","InputGroup","Prepend","FormControl","aria-label","aria-describedby","Button","Spinner","animation","Register","username","confirmPassword","register","PrivateRoute","component","react_router","render","ModalChargePass","modal","setModal","toggle","href","Modal","isOpen","ModalHeader","ModalBody","htmlFor","MyAccount","_res$data","total","pages","fetchPostProfile","width","aria-hidden","Components_ModalChargePass_ModalChargePass","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","Option","Select","columnsPlace","searchCity","keyWord","cities","city","abrupt","fetchSuggestTrip","placeIds","places","join","Content-Type","fetchCityData","result","SuggestTrip","_Form$useForm","Form","useForm","form","setCities","_useState3","_useState4","cityValue","setCityValue","_useState5","_useState6","searchTerm","setSearchTerm","debounceSearchTerm","_useState7","_useState8","loadingCities","setLoadingCities","_useState9","_useState10","suggestTripLoading","setSuggestTripLoading","_useState11","_useState12","suggestedPlaces","setSuggestedPlaces","_useState13","_useState14","selectedRowKeys","setSelectedRowKeys","_useState15","_useState16","setCity","_useState17","_useState18","loadingCity","setLoadingCity","rowSelection","dataSourcePlaces","pl","place","onFinish","values","splice","rules","required","message","es_select","labelInValue","showSearch","notFoundContent","size","filterOption","onSearch","d","table","columns","pagination","Title","columnsHotel","columnsFood","prepareTableDataSource","slice","filter","el","image","maxWidth","fetchSuggestPlaces","cityId","time","MyTrip","loadingSuggestPlaces","setLoadingSuggestPlaces","hotel","food","prices","setPrices","handleSuggestPlace","rowPlaceSelection","selectedPlaceRowKeys","placePrice","forEach","rowKey","find","Number","price","rowHotelSelection","selectedHotelRowKeys","hotelPrice","hotels","rowFoodSelection","selectedFoodRowKeys","foodPrice","foods","Math","round","priceMin","priceMax","gutter","MyTrip_Option","input_number","min","level","MyTrip_Text","strong","MyTrip_SuggestTrip","ImageResize","quill","options","classCallCheck","handleClick","bind","handleMousedown","handleMouseup","handleDrag","checkImage","boxes","document","execCommand","root","addEventListener","createClass","evt","tagName","toUpperCase","img","hide","show","showResizers","showSizeDisplay","rect","getBoundingClientRect","positionBoxes","positionSizeDisplay","hideResizers","setUserSelect","addBox","removeEventListener","setCursor","box","body","removeChild","dragBox","dragStartX","preDragWidth","cursor","styles","height","backgroundColor","border","boxSizing","opacity","extend","handleStyles","appendChild","destination","_len","sources","Array","_key","source","prop","hasOwnProperty","_this","left","top","pos","idx","window","pageYOffset","pageXOffset","clientX","naturalWidth","_this2","documentElement","displaySize","font","padding","color","displayStyles","getCurrentSize","innerHTML","dispRect","naturalHeight","BlockEmbed","Quill","import","Parchment","ATTRIBUTES","nubStyles","tLeft","tRight","right","bLeft","bottom","bRight","createSpacer","spacer","VideoBuilder","node","iframe","setAttribute","getAttribute","wrapper","parentElement","insertBefore","getElementsByTagName","overlay","event","rootElement","sel","matches","matchesSelector","call","getClosest","Video","domNode","builder","select","selectedElement","indexOf","setSelection","buildResize","handelDeselect","deselect","clearNubEvents","firstChild","toolbarWrapper","toolbar","addToolBarActions","buildAction","button","offset","scroll","dragHandeler","mouseUp","handelMouseUp","mouseDown","nub","buildNub","dragStartY","clientY","parseInt","preDragHeight","deltaX","deltaY","include_nub","removeAttribute","getPrototypeOf","prototype","buildIFrame","buildOverlay","buildNode","reduce","formats","attribute","hasAttribute","blotName","formats/video","modules","indent","clipboard","matchVisual","maxStack","userOnly","imageResize","TextEditor","handleChange","clearContent","quillRef","current","focus","react_quill_lib_default","ref","theme","PostAction","setContent","fileList","setFileList","useRef","resetFields","handleClearContent","uid","shortid","generate","status","url","setFieldsValue","toConsumableArray","setEditorContents","editor","fetchPostLoading","submitLoading","updatedPost","formData","FormData","append","file","originFileObj","content-type","success","updatePost","newArticle","newPost","createPost","input","upload","defaultFileList","listType","customRequest","disabled","UploadOutlined","validator","rule","Promise","resolve","reject","common_TextEditor_TextEditor","delta","App","common_Toastr","Menu","exact","path","common_PrivateRoute","Layout_Footer","Boolean","location","hostname","match","initState","totalDocs","totalPages","hasPrevPage","hasNextPage","prevPage","nextPage","postReducer","userReducer","action","asyncReducer","combineReducers","toastrReducer","store","middleware","thunk","composerEnhancer","composeWithDevTools","applyMiddleware","createStore","rootReducer","configureStore","ReactDOM","es","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.10a22173.chunk.js","sourcesContent":["import {\r\n  ASYNC_ACTION_START,\r\n  ASYNC_ACTION_FINISH,\r\n  ASYNC_ACTION_ERROR,\r\n} from './async.constants';\r\n\r\nexport const asyncActionStart = (actionType, elmId) => ({\r\n  type: ASYNC_ACTION_START,\r\n  payload: { actionType, elmId },\r\n});\r\n\r\nexport const asyncActionFinish = () => ({ type: ASYNC_ACTION_FINISH });\r\n\r\nexport const asyncActionError = err => ({\r\n  type: ASYNC_ACTION_ERROR,\r\n  payload: { err },\r\n});\r\n","export const ASYNC_ACTION_START = 'ASYNC_ACTION_START';\r\nexport const ASYNC_ACTION_FINISH = 'ASYNC_ACTION_FINISH';\r\nexport const ASYNC_ACTION_ERROR = 'ASYNC_ACTION_ERROR';\r\nexport const ASYNC_ACTION_CLEAR = 'ASYNC_ACTION_CLEAR';\r\n","import axios from 'axios';\r\nimport { SET_AUTH_USER, LOGOUT } from './user.constant';\r\nimport {\r\n  asyncActionStart,\r\n  asyncActionFinish,\r\n  asyncActionError,\r\n} from '../async/async.actions';\r\n\r\nexport const login = (userCredentials, history) => dispatch => {\r\n  const { email, password } = userCredentials;\r\n\r\n  dispatch(asyncActionStart('login'));\r\n\r\n  axios\r\n    .post('/api/auth/login', { email, password })\r\n    .then(res => {\r\n      const token = res.data.token;\r\n      localStorage.setItem('token', token);\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n\r\n      return axios.get('/api/auth/');\r\n    })\r\n    .then(res => {\r\n      const user = res.data;\r\n\r\n      dispatch({ type: SET_AUTH_USER, payload: { user } });\r\n      dispatch(asyncActionFinish());\r\n      history.push('/');\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      dispatch(asyncActionError(err.response.data));\r\n    });\r\n};\r\n\r\nexport const register = (userCredentials, history) => dispatch => {\r\n  const { username, email, password, confirmPassword } = userCredentials;\r\n  axios\r\n    .post('/api/auth/register', {\r\n      username,\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n    })\r\n    .then(res => {\r\n      const token = res.data.token;\r\n      localStorage.setItem('token', token);\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n\r\n      return axios.get('/api/auth/');\r\n    })\r\n    .then(res => {\r\n      const user = res.data;\r\n\r\n      dispatch({ type: SET_AUTH_USER, payload: { user } });\r\n      history.push('/');\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getAuthUser = token => dispatch => {\r\n  axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n\r\n  axios\r\n    .get('/api/auth/')\r\n    .then(res => {\r\n      const user = res.data;\r\n\r\n      dispatch({ type: SET_AUTH_USER, payload: { user } });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n  localStorage.removeItem('token');\r\n  dispatch({ type: SET_AUTH_USER, payload: { user: {} } });\r\n  dispatch({ type: LOGOUT });\r\n};\r\n","export const LOGIN = 'LOGIN';\r\nexport const REGISTER = 'REGISTER';\r\nexport const SET_AUTH_USER = 'SET_AUTH_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n","import React, { Fragment } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport { logout } from '../user/user.actions';\r\nimport { Nav, NavDropdown, Container } from 'react-bootstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nconst Menubar = () => {\r\n  const { authUser } = useSelector(state => state.user);\r\n  const dispatch = useDispatch();\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  return (\r\n    <div className='header'>\r\n      <Container>\r\n        <Navbar collapseOnSelect expand='lg'>\r\n          <Navbar.Brand as={NavLink} to='/'>\r\n            <img className='logo' src='/assets/images/logo.png' alt='' />\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls='responsive-navbar-nav' />\r\n          <Navbar.Collapse id='responsive-navbar-nav'>\r\n            <Nav className='mr-auto'>\r\n              <Nav.Link as={NavLink} to='/'>\r\n                Trang chủ\r\n              </Nav.Link>\r\n              <Nav.Link as={NavLink} to='/cam-nang-du-lich'>\r\n                Cẩm nang du lịch\r\n              </Nav.Link>\r\n              <Nav.Link as={NavLink} to='/lich-trinh'>\r\n                Bạn muốn đến?\r\n              </Nav.Link>\r\n              {Object.keys(authUser).length > 0 ? (\r\n                <Fragment>\r\n                  <NavDropdown title='Tài khoản' id='collasible-nav-dropdown'>\r\n                    <NavDropdown.Item as={NavLink} to='/tai-khoan'>\r\n                      Tài khoản của tôi\r\n                    </NavDropdown.Item>\r\n\r\n                    <NavDropdown.Item onClick={handleLogout}>\r\n                      Đăng xuất\r\n                    </NavDropdown.Item>\r\n                  </NavDropdown>\r\n                  <Nav.Link as={NavLink} to='/viet-bai'>\r\n                    <i className='fas fa-edit'></i>\r\n                    Viết bài\r\n                  </Nav.Link>\r\n                </Fragment>\r\n              ) : (\r\n                <Fragment>\r\n                  <Nav.Link as={NavLink} to='/dang-ky'>\r\n                    Đăng ký\r\n                  </Nav.Link>\r\n\r\n                  <Nav.Link as={NavLink} to='/dang-nhap'>\r\n                    Đăng nhập\r\n                  </Nav.Link>\r\n                </Fragment>\r\n              )}\r\n            </Nav>\r\n            <Nav>\r\n              <div className='igi_box_search'>\r\n                <form className='search-form'>\r\n                  <input\r\n                    type='text'\r\n                    className='form-control'\r\n                    placeholder='Từ khóa tìm kiếm...'\r\n                  />\r\n                  <input type='submit' value='' />\r\n                </form>\r\n              </div>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </Container>\r\n      <div className='clearfix'></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menubar;\r\n","import React, { Component } from \"react\";\r\n// import { Container, Col, Row } from \"react-bootstrap\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer>\r\n        <div className=\"clear\"></div>\r\n        {/* <div className='content-footer'>\r\n          <div className='footer-top'>\r\n            <Container>\r\n              <Row>\r\n                <Col xs='12' sm='6' md='3' lg='3'>\r\n                  <div className='img-footer pl'>\r\n                    <img\r\n                      alt=''\r\n                      className='img-respon'\r\n                      src='./../../assets/images/logo.png'\r\n                    />\r\n                  </div>\r\n                </Col>\r\n                <Col xs='12' sm='6' md='3' lg='3'>\r\n                  <div className='pl mt'>\r\n                    <h3 className='title-menu'>The logde</h3>\r\n                    <div className='list-menu'>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>\r\n                          Add: Penny Rafferty, Executive Officer, Luxury Lodges\r\n                          of Australia Ltd\r\n                        </h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Phone: 0123.456.789</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Email: penny@luxurylodgesofaustralia.com.au</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Website: www.demo.com</h2>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                <Col xs='12' sm='6' md='3' lg='3'>\r\n                  <div className='footer-menu mt'>\r\n                    <h3 className='title-menu'>userful links</h3>\r\n                    <div className='list-menu'>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>About us</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Gallery</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Packege tour</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Book now</h2>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                <Col xs='12' sm='6' md='3' lg='3'>\r\n                  <div className='footer-icon mt'>\r\n                    <h3 className='title-menu'>Follow us</h3>\r\n                    <div className='list-menu'>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/fb.png' alt='' />\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/tw.png' alt='' />\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/yt.png' alt='' />\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/ma.png' alt='' />\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/p.png' alt='' />\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                <div className='clearfix'></div>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        </div> */}\r\n        <section className=\"bottom-footer\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"content-footer\">\r\n                <div className=\"copyright\">\r\n                  Copyright © DuLichVietNam: Chia sẻ kinh nghiệm từ A - Z\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport ReduxToastr from 'react-redux-toastr';\r\n\r\nfunction Toastr(props) {\r\n  return (\r\n    <ReduxToastr\r\n      timeOut={2000}\r\n      newestOnTop={false}\r\n      preventDuplicates\r\n      position='bottom-right'\r\n      getState={state => state.toastr} // This is the default\r\n      transitionIn='fadeIn'\r\n      transitionOut='fadeOut'\r\n      closeOnToastrClick\r\n    />\r\n  );\r\n}\r\n\r\nexport default Toastr;\r\n","export const textEditorConfig = {\r\n  modules: {\r\n    toolbar: [\r\n      [{ header: '1' }, { header: '2' }, { font: [] }],\r\n      [{ size: [] }],\r\n      ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n      [\r\n        { list: 'ordered' },\r\n        { list: 'bullet' },\r\n        { indent: '-1' },\r\n        { indent: '+1' },\r\n      ],\r\n      ['link', 'image', 'video'],\r\n      ['clean'],\r\n    ],\r\n    clipboard: {\r\n      // toggle to add extra line breaks when pasting HTML:\r\n      matchVisual: false,\r\n    },\r\n  },\r\n  formats: [\r\n    'header',\r\n    'font',\r\n    'size',\r\n    'bold',\r\n    'italic',\r\n    'underline',\r\n    'strike',\r\n    'blockquote',\r\n    'list',\r\n    'bullet',\r\n    'indent',\r\n    'link',\r\n    'image',\r\n    'video',\r\n  ],\r\n};\r\n\r\nexport const actionTypes = {\r\n  post: {\r\n    CREATE_POST: 'CREATE_POST',\r\n    UPDATE_POST: 'UPDATE_POST',\r\n    FETCH_POSTS: 'FETCH_POSTS',\r\n    FETCH_POST: 'FETCH_POST',\r\n    COMMENT_ON_POST: 'COMMENT_ON_POST',\r\n    DELETE_POST_COMMENT: 'DELETE_POST_COMMENT',\r\n    LIKE_POST: 'LIKE_POST',\r\n    UNLIKE_POST: 'UNLIKE_POST',\r\n  },\r\n};\r\n\r\nexport const defaultImage = {\r\n  BACKGROUND: 'assets/images/default.jpg',\r\n};\r\n\r\nexport const columnsTable = {\r\n  columnsPlace: [\r\n    {\r\n      title: 'Tên địa điểm',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Giá',\r\n      dataIndex: 'price',\r\n      key: 'price',\r\n    },\r\n    {\r\n      title: 'Địa chỉ',\r\n      dataIndex: 'address',\r\n      key: 'address',\r\n    },\r\n    {\r\n      title: 'Thời gian tham quan',\r\n      dataIndex: 'time',\r\n      key: 'time',\r\n    },\r\n  ],\r\n  columnsHotel: [\r\n    {\r\n      title: 'Tên khách sạn',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Giá',\r\n      dataIndex: 'price',\r\n      key: 'price',\r\n    },\r\n    {\r\n      title: 'Địa chỉ',\r\n      dataIndex: 'address',\r\n      key: 'address',\r\n    },\r\n    {\r\n      title: 'Ảnh',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n    },\r\n  ],\r\n  columnsFood: [\r\n    {\r\n      title: 'Tên món ăn',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Giá',\r\n      dataIndex: 'price',\r\n      key: 'price',\r\n    },\r\n    {\r\n      title: 'Địa chỉ',\r\n      dataIndex: 'address',\r\n      key: 'address',\r\n    },\r\n    {\r\n      title: 'Ảnh',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n    },\r\n  ],\r\n};\r\n","import axios from 'axios';\r\nimport { toastr } from 'react-redux-toastr';\r\nimport {\r\n  GET_POSTS,\r\n  GET_POST,\r\n  ADD_POST,\r\n  CLEAR_POST,\r\n  UPDATE_POST,\r\n  COMMENT_ON_POST,\r\n  DELETE_POST_COMMENT,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n} from './post.constant';\r\nimport {\r\n  asyncActionStart,\r\n  asyncActionFinish,\r\n  asyncActionError,\r\n} from '../async/async.actions';\r\nimport { actionTypes } from '../../app/utils/config';\r\n\r\nexport const fetchPosts = (page = null, limit = null) => dispatch => {\r\n  dispatch(asyncActionStart(actionTypes.post.FETCH_POSTS));\r\n  const query = page && limit ? `?page=${page}&limit=${limit}` : '';\r\n\r\n  axios\r\n    .get(`https://still-castle-31935.herokuapp.com/api/post/${query}`)\r\n    .then(res => {\r\n      // const { docs, total, limit, page, pages } = res.data;\r\n      dispatch({\r\n        type: GET_POSTS,\r\n        payload: res.data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const fetchPost = id => dispatch => {\r\n  dispatch(asyncActionStart(actionTypes.post.FETCH_POST));\r\n  axios\r\n    .get(`https://still-castle-31935.herokuapp.com/api/post/${id}`)\r\n    .then(res => {\r\n      const { post } = res.data;\r\n      dispatch({ type: GET_POST, payload: { post } });\r\n      dispatch(asyncActionFinish());\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const fetchPostProfile = (page = null, limit = null) => dispatch => {\r\n  dispatch(asyncActionStart(actionTypes.post.FETCH_POSTS));\r\n\r\n  axios\r\n    .get(\r\n      `https://still-castle-31935.herokuapp.com/api/post/profile/?page=1&limit=3`\r\n    )\r\n    .then(res => {\r\n      const { docs, total, limit, page, pages } = res.data;\r\n      dispatch({\r\n        type: GET_POSTS,\r\n        payload: { posts: docs, total, limit, page, pages },\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    })\r\n    .catch(err => {\r\n      console.log(err.response.data);\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const createPost = (newPost, history) => dispatch => {\r\n  const formData = new FormData();\r\n\r\n  formData.append('title', newPost.title);\r\n  formData.append('content', newPost.content);\r\n  formData.append('type', newPost.type);\r\n\r\n  if (newPost.image.file) {\r\n    formData.append('image', newPost.image.file.originFileObj);\r\n  }\r\n\r\n  const config = {\r\n    headers: {\r\n      'content-type': 'multipart/form-data',\r\n    },\r\n  };\r\n\r\n  dispatch(asyncActionStart(actionTypes.post.CREATE_POST));\r\n\r\n  axios\r\n    .post(\r\n      `https://still-castle-31935.herokuapp.com/api/post/`,\r\n      formData,\r\n      config\r\n    )\r\n    .then(res => {\r\n      const { post } = res.data;\r\n\r\n      dispatch({ type: ADD_POST, payload: { post } });\r\n      dispatch(asyncActionFinish());\r\n      toastr.success('Success', 'Your post has been created');\r\n      history.push(`/cam-nang-du-lich/${post._id}`);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      toastr.error('Oops', 'Some thing when wrong, please try again');\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const updatePost = (updatedPost, history) => dispatch => {\r\n  const formData = new FormData();\r\n\r\n  if (updatedPost.title) formData.append('title', updatedPost.title);\r\n  if (updatedPost.content) formData.append('content', updatedPost.content);\r\n  if (updatedPost.type) formData.append('type', updatedPost.type);\r\n\r\n  if (updatedPost.image.file) {\r\n    formData.append('image', updatedPost.image.file.originFileObj);\r\n  }\r\n\r\n  const config = {\r\n    headers: {\r\n      'content-type': 'multipart/form-data',\r\n    },\r\n  };\r\n\r\n  dispatch(asyncActionStart(actionTypes.post.UPDATE_POST));\r\n\r\n  axios\r\n    .post(\r\n      `https://still-castle-31935.herokuapp.com/api/post/${updatedPost._id}`,\r\n      formData,\r\n      config\r\n    )\r\n    .then(res => {\r\n      const { post } = res.data;\r\n\r\n      dispatch({ type: UPDATE_POST, payload: { post } });\r\n      dispatch(asyncActionFinish());\r\n      toastr.success('Success', 'Your post has been updated');\r\n      history.push(`/cam-nang-du-lich/${post._id}`);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      toastr.error('Oops', 'Some thing when wrong, please try again');\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const commentOnPost = (postId, comment) => async dispatch => {\r\n  dispatch(asyncActionStart(actionTypes.post.CREATE_POST));\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      `https://still-castle-31935.herokuapp.com/api/post/comment/${postId}`,\r\n      comment\r\n    );\r\n    const { post } = response.data;\r\n\r\n    dispatch({ type: COMMENT_ON_POST, payload: { post } });\r\n    dispatch(asyncActionFinish());\r\n  } catch (err) {\r\n    console.log(err);\r\n    toastr.error('Oops', 'Some thing when wrong, please try again');\r\n    dispatch(asyncActionError());\r\n  }\r\n};\r\n\r\nexport const deletePostComment = (postId, commentId) => async dispatch => {\r\n  dispatch(asyncActionStart(actionTypes.post.DELETE_POST_COMMENT, commentId));\r\n\r\n  try {\r\n    const response = await axios.delete(\r\n      `https://still-castle-31935.herokuapp.com/api/post/comment/${postId}/${commentId}`\r\n    );\r\n    const { post } = response.data;\r\n\r\n    dispatch({ type: DELETE_POST_COMMENT, payload: { post } });\r\n    dispatch(asyncActionFinish());\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(asyncActionError());\r\n    toastr.error('Oops', 'Some thing went wrong, please try again');\r\n  }\r\n};\r\n\r\nexport const likePost = postId => async dispatch => {\r\n  dispatch(asyncActionStart(actionTypes.post.LIKE_POST));\r\n\r\n  try {\r\n    const response = await axios.put(\r\n      `https://still-castle-31935.herokuapp.com/api/post/like/${postId}`\r\n    );\r\n    const { post } = response.data;\r\n\r\n    dispatch({ type: LIKE_POST, payload: { post } });\r\n    dispatch(asyncActionFinish());\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(asyncActionError());\r\n    toastr.error('Oops', err.response.data.general.msg);\r\n  }\r\n};\r\n\r\nexport const unlikePost = postId => async dispatch => {\r\n  dispatch(asyncActionStart(actionTypes.post.UNLIKE_POST));\r\n\r\n  try {\r\n    const response = await axios.put(\r\n      `https://still-castle-31935.herokuapp.com/api/post/unlike/${postId}`\r\n    );\r\n    const { post } = response.data;\r\n\r\n    dispatch({ type: UNLIKE_POST, payload: { post } });\r\n    dispatch(asyncActionFinish());\r\n  } catch (err) {\r\n    console.log(err.response.data);\r\n    dispatch(asyncActionError());\r\n    toastr.error('Oops', err.response.data.general.msg);\r\n  }\r\n};\r\n\r\nexport const clearPost = () => ({ type: CLEAR_POST });\r\n","export const GET_POSTS = 'GET_POSTS';\r\nexport const GET_POST = 'GET_POST';\r\nexport const ADD_POST = 'ADD_POST';\r\nexport const UPDATE_POST = 'UPDATE_POST';\r\nexport const CLEAR_POST = 'CLEAR_POST';\r\nexport const COMMENT_ON_POST = 'COMMENT_ON_POST';\r\nexport const LIKE_POST = 'LIKE_POST';\r\nexport const UNLIKE_POST = 'UNLIKE_POST';\r\nexport const DELETE_POST_COMMENT = 'DELETE_POST_COMMENT';","import axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nexport const setAuthToken = () => {\r\n  const token = localStorage.getItem('token');\r\n\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n\r\nexport const formatDate = string => moment(string).format('YYYY-MM-DD');\r\n\r\nexport const formatRowData = dataSource =>\r\n  dataSource.map((data, index) => ({\r\n    ...data,\r\n    key: index,\r\n    year: `${formatDate(data.from)} - ${data.to ? formatDate(data.to) : 'Now'}`,\r\n  }));\r\n\r\nexport const setDefaultAxios = () => {\r\n  const token = localStorage.getItem('token');\r\n  // const PORT = process.env.PORT || 5000;\r\n\r\n  // axios.defaults.baseURL = `http://localhost:${PORT}/api`;\r\n  axios.defaults.headers.post['Content-Type'] = 'application/json';\r\n\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n","import React from 'react';\r\nimport {Typography} from 'antd'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst IconText = ({ icon: Icon, text, ...rest }) => (\r\n  <Text {...rest} style={{ display: 'flex', alignItems: 'center' }} >\r\n    <Icon style={{ marginRight: 8 }} />\r\n    <span>{text}</span>\r\n  </Text>\r\n);\r\n\r\nexport default  IconText;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { defaultImage } from \"../../app/utils/config\";\r\nimport { Space } from \"antd\";\r\nimport { CalendarOutlined, EyeOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport { formatDate } from \"../../app/utils/helper\";\r\nimport IconText from \"../../app/Layout/common/IconText\";\r\n\r\nconst BannerHome = ({ post }) => (\r\n  <div className=\"module-banner\">\r\n    <Link to={`/cam-nang-du-lich/${post._id}`}>\r\n      <img\r\n        className=\"img-respon img-banner\"\r\n        src={post.mainPhoto || defaultImage.BACKGROUND}\r\n        alt=\"\"\r\n      />\r\n\r\n      <div className=\"title-bn\">\r\n        <h2 className=\"link-news\">{post.title}</h2>\r\n        <Space>\r\n          <IconText icon={UserOutlined} text={post.user.name} />|\r\n          <IconText icon={CalendarOutlined} text={formatDate(post.date)} />|\r\n          <IconText icon={EyeOutlined} text={post.views} />\r\n        </Space>\r\n      </div>\r\n    </Link>\r\n  </div>\r\n);\r\n\r\nexport default BannerHome;\r\n","import React from \"react\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { defaultImage } from \"../../../app/utils/config\";\r\nimport { Button, Divider, Space } from \"antd\";\r\nimport {\r\n  EditOutlined,\r\n  UserOutlined,\r\n  CalendarOutlined,\r\n  EyeOutlined,\r\n} from \"@ant-design/icons\";\r\nimport IconText from \"../../../app/Layout/common/IconText\";\r\nimport { formatDate } from \"../../../app/utils/helper\";\r\n\r\nconst ItemPost = ({ post, authenticated, authUser }) => (\r\n  <Col xs=\"12\" sm=\"6\" md=\"4\" lg=\"4\">\r\n    <div className=\"item-news\">\r\n      <Link to={`/cam-nang-du-lich/${post._id}`} className=\"img-news\">\r\n        <img\r\n          className=\"img-respon\"\r\n          src={post.mainPhoto || defaultImage.BACKGROUND}\r\n          alt=\"\"\r\n        />\r\n        <h2 className=\"link-news\">{post.title}</h2>\r\n        <Space>\r\n          <IconText icon={UserOutlined} text={post.user.name} />|\r\n          <IconText icon={CalendarOutlined} text={formatDate(post.date)} />|\r\n          <IconText icon={EyeOutlined} text={post.views} />\r\n        </Space>\r\n        <div className=\"item-content\">{post.shortDescription}</div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"flex-end\",\r\n          }}\r\n        >\r\n          {authenticated && authUser._id === post.user._id && (\r\n            <Link to={`/chinh-sua-bai-viet/${post._id}`}>\r\n              <Button type=\"link\" icon={<EditOutlined />} />\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </Link>\r\n      <Divider />\r\n    </div>\r\n  </Col>\r\n);\r\n\r\nexport default ItemPost;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Carousel, Row, Col } from 'antd';\r\nimport { fetchPosts } from '../post/post.actions';\r\nimport BannerHome from './BannerHome';\r\nimport ItemPost from '../post/ItemPost/ItemPost';\r\nimport { Container } from 'reactstrap';\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  const { docs: posts } = useSelector(state => state.post.posts);\r\n  const [postsCarousel, setPostsCarousel] = useState([]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPosts());\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (posts && posts.length && postsCarousel.length === 0) {\r\n      setPostsCarousel(posts);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [posts]);\r\n\r\n  return (\r\n    <main>\r\n      <div className=''>\r\n        <div className='igi_banner'>\r\n          <Carousel autoplay>\r\n            {postsCarousel.map(post => (\r\n              <BannerHome post={post} key={post._id} />\r\n            ))}\r\n          </Carousel>\r\n        </div>\r\n\r\n        <div className='intro igi_module'>\r\n          <Container>\r\n            <Row>\r\n              <Col lg={12} md={12} sm={12} xs={24}>\r\n                <img src='/assets/images/gioithieu.JPG' alt='' />\r\n              </Col>\r\n              <Col lg={12} md={12} sm={12} xs={24}>\r\n                <div className='content-gt'>\r\n                  <div>\r\n                    <h3 className='paci-font'>Giới thiệu chung</h3>\r\n                    <h2 className='title-gt'>Du lịch Việt Nam</h2>\r\n                  </div>\r\n                  <div>\r\n                    <p>\r\n                      Đất nước ta trải qua hàng nghìn năm dựng nước, giữ nước.\r\n                    </p>\r\n                    <p>\r\n                      Con người chân thành, mộc mạc chất phát. Những tháng ngày\r\n                      thống khổ của cha ông đã viết lên những trang sử hào hùng.\r\n                      Vẻ đẹp từ tâm hồn, từ con người ấy càng đẹp hơn khi chúng\r\n                      ta được tạo hóa ban tặng thiên nhiên hùng vĩ, đường bờ\r\n                      biển chạy dài dọc theo hình chữ S của tổ quốc. Còn điều gì\r\n                      tuyệt vời hơn khí có sông, có núi, có biển. Sự hài hòa của\r\n                      thiên, nét đẹp hùng vĩ bao trùm lên những con người với\r\n                      nét đẹp mộc mạc đậm chất Á Đông. Sẽ thật thiếu sót khi bạn\r\n                      không dành cho cuộc đời những chuyến đi khám phá nét đẹp\r\n                      ấy của đất nước tuyệt đẹp, của chính mình.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n\r\n        <div className='igi_module news-list'>\r\n          <Container>\r\n            <div className='border-bot'>\r\n              <span className='tt-home'>Kinh nghiệm du lịch từ A-Z</span>\r\n            </div>\r\n            <Row>\r\n              {posts &&\r\n                posts.map(\r\n                  post =>\r\n                    post.type === 'experience' && (\r\n                      <ItemPost post={post} key={post._id} />\r\n                    )\r\n                )}\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n        <div className='igi_module news-list'>\r\n          <Container>\r\n            <div className='border-bot'>\r\n              <span className='tt-home'>Ăn & chơi</span>\r\n            </div>\r\n            <Row>\r\n              {posts &&\r\n                posts.map(\r\n                  post =>\r\n                    post.type === 'food' && (\r\n                      <ItemPost post={post} key={post._id} />\r\n                    )\r\n                )}\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n        <div className='igi_module news-list'>\r\n          <Container>\r\n            <div className='border-bot'>\r\n              <span className='tt-home'>Điểm check-in siêu hot</span>\r\n            </div>\r\n            <Row>\r\n              {posts &&\r\n                posts.map(\r\n                  post =>\r\n                    post.type === 'place' && (\r\n                      <ItemPost post={post} key={post._id} />\r\n                    )\r\n                )}\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { defaultImage } from \"../../../app/utils/config\";\r\nimport { Space } from \"antd\";\r\nimport { CalendarOutlined, EyeOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport IconText from \"../../../app/Layout/common/IconText\";\r\nimport { formatDate } from \"../../../app/utils/helper\";\r\n\r\nconst BannerPost = ({ post }) => (\r\n  <Link to={`/cam-nang-du-lich/${post._id}`}>\r\n    <Row>\r\n      <Col xs=\"12\" sm=\"6\" md=\"7\" lg=\"7\">\r\n        <div className=\"img-news\">\r\n          <img\r\n            className=\"img-respon\"\r\n            src={post.mainPhoto || defaultImage.BACKGROUND}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </Col>\r\n      <Col xs=\"12\" sm=\"6\" md=\"5\" lg=\"5\">\r\n        <h2 className=\"link-news\">{post.title}</h2>\r\n        <Space>\r\n          <IconText icon={UserOutlined} text={post.user.name} />|\r\n          <IconText icon={CalendarOutlined} text={formatDate(post.date)} />|\r\n          <IconText icon={EyeOutlined} text={post.views} />\r\n        </Space>\r\n        <div className=\"item-content\">{post.shortDescription}</div>\r\n        {/* <div className=\"text-author\">{post.user.name}</div> */}\r\n      </Col>\r\n    </Row>\r\n  </Link>\r\n);\r\n\r\nexport default BannerPost;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Carousel, Spin, Divider } from \"antd\";\r\nimport { Container, Row } from \"reactstrap\";\r\nimport { fetchPosts } from \"../post.actions\";\r\nimport ItemPost from \"../ItemPost/ItemPost\";\r\nimport BannerPost from \"../ItemPost/BannerPost\";\r\nimport { actionTypes } from \"../../../app/utils/config\";\r\n\r\nconst NewsList = (props) => {\r\n  const dispatch = useDispatch();\r\n  const { loading, actionType } = useSelector((state) => state.async);\r\n  const { docs: posts } = useSelector((state) => state.post.posts);\r\n  const { authUser } = useSelector((state) => state.user);\r\n\r\n  const [postsCarousel, setPostsCarousel] = useState([]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPosts());\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (posts && posts.length && postsCarousel.length === 0) {\r\n      setPostsCarousel(posts);\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [posts]);\r\n\r\n  const fetchPostsLoading =\r\n    actionType === actionTypes.post.FETCH_POSTS ? loading : false;\r\n\r\n  const authenticated = Object.keys(authUser).length > 0;\r\n\r\n  return (\r\n    <Spin spinning={fetchPostsLoading}>\r\n      <div className=\"main-wrap\">\r\n        {/* NOI DUNG */}\r\n        <div className=\"igi_module news-list\">\r\n          <Container>\r\n            <Carousel autoplay>\r\n              {postsCarousel.map((post) => (\r\n                <BannerPost post={post} key={post._id} />\r\n              ))}\r\n            </Carousel>\r\n            <Divider />\r\n            <Row>\r\n              {posts &&\r\n                posts.map((post) => (\r\n                  <ItemPost\r\n                    post={post}\r\n                    key={post._id}\r\n                    authenticated={authenticated}\r\n                    authUser={authUser}\r\n                  />\r\n                ))}\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default NewsList;\r\n","import React, { Fragment } from 'react';\r\nimport { List, Comment, Button, Typography } from 'antd';\r\nimport { formatDate } from '../../../app/utils/helper';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport { actionTypes } from '../../../app/utils/config';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction Comments({\r\n  comments,\r\n  authUserId,\r\n  loading,\r\n  loadingType,\r\n  elmId,\r\n  deleteComment,\r\n}) {\r\n  return (\r\n    <Fragment>\r\n      {comments.length > 0 ? (\r\n        <List\r\n          className='comment-list'\r\n          header={`${comments.length} replies`}\r\n          itemLayout='horizontal'\r\n          dataSource={comments}\r\n          renderItem={cmt => (\r\n            <li>\r\n              <Comment\r\n                actions={\r\n                  cmt.user._id === authUserId\r\n                    ? [\r\n                        <Button\r\n                          icon={<DeleteOutlined />}\r\n                          type='link'\r\n                          danger\r\n                          loading={\r\n                            loadingType === actionTypes.post.DELETE_POST_COMMENT &&\r\n                            elmId === cmt._id\r\n                              ? loading\r\n                              : false\r\n                          }\r\n                          onClick={() => deleteComment(cmt._id)}\r\n                        >\r\n                          Delete comment\r\n                        </Button>,\r\n                      ]\r\n                    : []\r\n                }\r\n                author={cmt.user.name}\r\n                avatar={cmt.user.avatar}\r\n                content={cmt.text}\r\n                datetime={formatDate(cmt.date)}\r\n              />\r\n            </li>\r\n          )}\r\n        />\r\n      ) : (\r\n        <Text>This article doesn't have any comment</Text>\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst CommentEditor = ({ onChange, onSubmit, submitting, value }) => (\r\n  <>\r\n    <Form.Item>\r\n      <TextArea rows={4} onChange={onChange} value={value} />\r\n    </Form.Item>\r\n    <Form.Item>\r\n      <Button\r\n        htmlType='submit'\r\n        loading={submitting}\r\n        onClick={onSubmit}\r\n        type='primary'\r\n      >\r\n        Comment\r\n      </Button>\r\n    </Form.Item>\r\n  </>\r\n);\r\n\r\nexport default CommentEditor;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Row, Col } from \"antd\";\r\n\r\nconst ItemSlide = ({ post }) => (\r\n  <div className=\"item-lq\">\r\n    <Link to={`/cam-nang-du-lich/${post._id}`}>\r\n      <Row>\r\n        <Col xs={8} sm={8} md={8} lg={8} xl={8}>\r\n          <div className=\"img-news\">\r\n            <img className=\"img-respon\" src={post.mainPhoto} alt=\"\" />\r\n          </div>\r\n        </Col>\r\n        <Col xs={16} sm={16} md={16} lg={16} xl={16}>\r\n          <div className=\"\">\r\n            <h2 className=\"link-news-lq\">{post.title}</h2>\r\n            {/* <Space>\r\n              <IconText icon={UserOutlined} text={post.user.name} />|\r\n              <IconText icon={EyeOutlined} text={post.views} />\r\n            </Space> */}\r\n          </div>\r\n        </Col>\r\n        <Col xs={24} sm={24} md={24} lg={24}>\r\n          <div className=\"cont-item\">\r\n            <div dangerouslySetInnerHTML={{ __html: post.content }}></div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* <div className='item-content'>{post.shortDescription}</div> */}\r\n    </Link>\r\n  </div>\r\n);\r\n\r\nexport default ItemSlide;\r\n","import React, { useEffect } from \"react\";\r\nimport ItemSlide from \"../../../features/post/ItemPost/ItemSlide\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchPosts } from \"../../../features/post/post.actions\";\r\n\r\nconst Sidebar = () => {\r\n  const dispatch = useDispatch();\r\n  const { docs: posts } = useSelector((state) => state.post.posts);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPosts());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className=\"post-lq\">\r\n      <h2 className=\"title-profile\">Bài viết nổi bật</h2>\r\n      <div className=\"list-item-lq\">\r\n        {posts.map((post) => {\r\n          return <ItemSlide post={post} key={post._id} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useEffect, Fragment, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  commentOnPost,\r\n  deletePostComment,\r\n  fetchPost,\r\n  likePost,\r\n  unlikePost,\r\n} from '../post.actions';\r\nimport { Container } from 'reactstrap';\r\nimport Comments from './Comments';\r\nimport CommentEditor from './CommentEditor';\r\nimport { Avatar, Button, Comment, Divider, Space, Row, Col } from 'antd';\r\nimport { actionTypes } from '../../../app/utils/config';\r\nimport {\r\n  CalendarOutlined,\r\n  DislikeFilled,\r\n  EyeOutlined,\r\n  LikeFilled,\r\n  UserOutlined,\r\n} from '@ant-design/icons';\r\nimport IconText from '../../../app/Layout/common/IconText';\r\nimport { formatDate } from '../../../app/utils/helper';\r\nimport Sidebar from '../../../pages/Components/Sidebar/Sidebar';\r\n\r\nconst postAction = actionTypes.post;\r\n\r\nconst PostDetail = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const { currentPost } = useSelector(state => state.post);\r\n  const { loading, actionType, elmId } = useSelector(state => state.async);\r\n  const { authUser, authenticated } = useSelector(state => state.user);\r\n  const [comment, setComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(fetchPost(id));\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n\r\n  const handleDeleteComment = commentId =>\r\n    dispatch(deletePostComment(id, commentId));\r\n  const handleChangeComment = e => setComment(e.target.value);\r\n  const handleComment = e => {\r\n    e.preventDefault();\r\n    setComment('');\r\n    dispatch(commentOnPost(id, { text: comment }));\r\n  };\r\n\r\n  const handleLikePost = () => dispatch(likePost(id));\r\n  const handleUnlikePost = () => dispatch(unlikePost(id));\r\n\r\n  // const responsive = {\r\n  //   desktop: {\r\n  //     breakpoint: { max: 3000, min: 1024 },\r\n  //     items: 3,\r\n  //     paritialVisibilityGutter: 60,\r\n  //   },\r\n  //   tablet: {\r\n  //     breakpoint: { max: 1024, min: 464 },\r\n  //     items: 2,\r\n  //     paritialVisibilityGutter: 50,\r\n  //   },\r\n  //   mobile: {\r\n  //     breakpoint: { max: 464, min: 0 },\r\n  //     items: 1,\r\n  //     paritialVisibilityGutter: 30,\r\n  //   },\r\n  // };\r\n\r\n  const {\r\n    comments = [],\r\n    mainPhoto = '',\r\n    title = '',\r\n    content = '',\r\n    date = '',\r\n    user = {},\r\n    likes = [],\r\n    views = 0,\r\n  } = currentPost ? currentPost : {};\r\n\r\n  const commentLoading =\r\n    actionType === postAction.CREATE_POST ? loading : false;\r\n  const likeLoading = actionType === postAction.LIKE_POST ? loading : false;\r\n  const unlikeLoading = actionType === postAction.UNLIKE_POST ? loading : false;\r\n\r\n  return (\r\n    <div className='detail-post'>\r\n      {/*Module Banner*/}\r\n      <div className='module-banner'>\r\n        <img className='img-respon img-banner' src={mainPhoto} alt='' />\r\n\r\n        <div className='title-bn'>\r\n          <h2>{title}</h2>\r\n          <div>\r\n            Trang chủ &nbsp;\r\n            <i className='fas fa-angle-double-right' />\r\n            &nbsp; Cẩm nang du lịch &nbsp;\r\n            <i className='fas fa-angle-double-right' />\r\n            &nbsp; {title}\r\n          </div>\r\n          <Space>\r\n            <IconText icon={UserOutlined} text={user.name} />|\r\n            <IconText icon={CalendarOutlined} text={formatDate(date)} />|\r\n            <IconText icon={EyeOutlined} text={views} />\r\n          </Space>\r\n        </div>\r\n      </div>\r\n      <Container>\r\n        <Row>\r\n          <Col xs={24} sm={24} md={24} lg={18} xl={18}>\r\n            <div className='divContent'>\r\n              <div dangerouslySetInnerHTML={{ __html: content }} />\r\n            </div>\r\n\r\n            {authenticated && (\r\n              <Fragment>\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <Space align='center'>\r\n                    <Button\r\n                      type='primary'\r\n                      icon={<LikeFilled />}\r\n                      loading={likeLoading}\r\n                      onClick={handleLikePost}\r\n                    >\r\n                      Like this Post ({likes.length} likes)\r\n                    </Button>\r\n                    <Button\r\n                      type='primary'\r\n                      icon={<DislikeFilled />}\r\n                      danger={true}\r\n                      loading={unlikeLoading}\r\n                      onClick={handleUnlikePost}\r\n                    >\r\n                      UnLike this Post ({likes.length} likes)\r\n                    </Button>\r\n                  </Space>\r\n                </div>\r\n                <Divider />\r\n              </Fragment>\r\n            )}\r\n            <Comments\r\n              comments={comments}\r\n              authUserId={authUser._id}\r\n              loading={loading}\r\n              loadingType={actionType}\r\n              elmId={elmId}\r\n              deleteComment={handleDeleteComment}\r\n            />\r\n\r\n            {authenticated && (\r\n              <Fragment>\r\n                <Comment\r\n                  avatar={<Avatar src={authUser.avatar} alt={authUser.name} />}\r\n                  content={\r\n                    <CommentEditor\r\n                      onChange={handleChangeComment}\r\n                      onSubmit={handleComment}\r\n                      submitting={commentLoading}\r\n                      value={comment}\r\n                    />\r\n                  }\r\n                />\r\n              </Fragment>\r\n            )}\r\n            <Divider />\r\n          </Col>\r\n          <Col xs={24} sm={24} md={24} lg={6} xl={6}>\r\n            <Sidebar />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostDetail;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { login } from '../user.actions';\r\nimport {\r\n  InputGroup,\r\n  FormControl,\r\n  Alert,\r\n  Spinner,\r\n  Button,\r\n} from 'react-bootstrap';\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { loading, actionType, error } = useSelector(state => state.async);\r\n  const [state, setState] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const onChange = e => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    console.log(state);\r\n    const user = {\r\n      email: state.email,\r\n      password: state.password,\r\n    };\r\n    dispatch(login(user, history));\r\n  };\r\n\r\n  const loginLoading = actionType === 'login' ? loading : false;\r\n\r\n  return (\r\n    <div className='login'>\r\n      <form onSubmit={handleSubmit}>\r\n        {error && error.error && error.error.email && (\r\n          <Alert className='error' variant='danger'>\r\n            {error.error.email.msg}\r\n          </Alert>\r\n        )}\r\n        {error && error.password && (\r\n          <Alert className='error' variant='danger'>\r\n            {error.password.msg}\r\n          </Alert>\r\n        )}\r\n        {error && error.general && error.general.msg && (\r\n          <Alert className='error' variant='danger'>\r\n            {error.general.msg}\r\n          </Alert>\r\n        )}\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='basic-addon1'>\r\n              <i className='fas fa-envelope'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Email'\r\n            aria-label='Email'\r\n            name='email'\r\n            aria-describedby='basic-addon1'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='pass'>\r\n              <i className='fas fa-lock'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Mật khẩu'\r\n            type='password'\r\n            aria-label='Password'\r\n            name='password'\r\n            aria-describedby='pass'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n\r\n        <Button type='submit'>\r\n          {loginLoading && <Spinner animation='border' variant='primary' />}\r\n          Đăng nhập\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { register } from '../user.actions';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\n\r\nconst Register = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [state, setState] = useState({\r\n    email: '',\r\n    password: '',\r\n    username: '',\r\n    confirmPassword: '',\r\n  });\r\n\r\n  const onChange = e => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    console.log(state);\r\n    const user = {\r\n      email: state.email,\r\n      username: state.username,\r\n      password: state.password,\r\n      confirmPassword: state.confirmPassword,\r\n    };\r\n    dispatch(register(user, history));\r\n  };\r\n  return (\r\n    <div className='login'>\r\n      <form onSubmit={handleSubmit}>\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='username'>\r\n              <i className='fas fa-user'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Tên đăng nhập'\r\n            type='text'\r\n            aria-label='Username'\r\n            name='username'\r\n            aria-describedby='username'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='basic-addon1'>\r\n              <i className='fas fa-envelope'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Email'\r\n            type='email'\r\n            aria-label='Email'\r\n            name='email'\r\n            aria-describedby='basic-addon1'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='pass'>\r\n              <i className='fas fa-lock'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Mật khẩu'\r\n            type='password'\r\n            aria-label='Password'\r\n            name='password'\r\n            aria-describedby='pass'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='confirmpass'>\r\n              <i className='fas fa-lock'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Xác nhận lại mật khẩu'\r\n            type='password'\r\n            aria-label='ConfirmPassword'\r\n            name='confirmPassword'\r\n            aria-describedby='confirmpass'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n        <button type='submit' className='btn btn-danger fr'>\r\n          Đăng ký\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const { loading } = useSelector(state => state.async);\r\n  const { authenticated } = useSelector(state => state.user);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        !loading && !authenticated ? (\r\n          <Redirect to='/dang-nhap' />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState } from \"react\";\r\nimport { Modal, ModalHeader, ModalBody } from \"reactstrap\";\r\n\r\nconst ModalChargePass = (props) => {\r\n  const { className } = props;\r\n\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const toggle = () => setModal(!modal);\r\n\r\n  return (\r\n    <span>\r\n      <a className=\"link-pass\" onClick={toggle} href=\"#!\">\r\n        Đổi mật khẩu\r\n      </a>\r\n      <Modal isOpen={modal} toggle={toggle} className={(className, \"modal-lg\")}>\r\n        <ModalHeader toggle={toggle}>Đổi mật khẩu</ModalHeader>\r\n        <ModalBody>\r\n          <form>\r\n            <div className=\"body-form\">\r\n              <div className=\"form-group row\">\r\n                <label htmlFor=\"inputPass\" className=\"col-sm-3 col-form-label\">\r\n                  Mật khẩu cũ*\r\n                </label>\r\n                <div className=\"col-sm-9\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    id=\"inputPass\"\r\n                    placeholder=\"Nhập mật khẩu cũ\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label htmlFor=\"inputPass\" className=\"col-sm-3 col-form-label\">\r\n                  Mật khẩu mới*\r\n                </label>\r\n                <div className=\"col-sm-9\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    id=\"inputPass\"\r\n                    placeholder=\"Nhập mật khẩu mới\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label htmlFor=\"inputPass\" className=\"col-sm-3 col-form-label\">\r\n                  Xác nhận lại\r\n                </label>\r\n                <div className=\"col-sm-9\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    id=\"inputPass\"\r\n                    placeholder=\"Xác nhận lại mật khẩu\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"ft-btn fr\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-outline-success btn-add-item\"\r\n                >\r\n                  Lưu\r\n                </button>{\" \"}\r\n                &emsp;\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-outline-dark\"\r\n                  onClick={toggle}\r\n                >\r\n                  Hủy bỏ\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </ModalBody>\r\n      </Modal>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ModalChargePass;\r\n","import React, { useEffect } from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Sidebar from \"../../../pages/Components/Sidebar/Sidebar\";\r\nimport ModalChargePass from \"../../../pages/Components/ModalChargePass/ModalChargePass\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchPostProfile } from \"../../post/post.actions\";\r\nimport ItemPost from \"../../post/ItemPost/ItemPost\";\r\nconst MyAccount = (props) => {\r\n  const dispatch = useDispatch();\r\n  const { docs: posts } = useSelector((state) => state.post.posts);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPostProfile());\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  console.log(posts);\r\n  return (\r\n    <div className=\"my-account\">\r\n      <Container>\r\n        <Row>\r\n          <Col xs=\"12\" md=\"9\" sm=\"12\" lg=\"9\">\r\n            <div className=\"profile\">\r\n              <Row>\r\n                <Col xs=\"4\" md=\"4\" sm=\"4\" lg=\"4\">\r\n                  <img\r\n                    className=\"img-respon img-profile\"\r\n                    src=\"./../../assets/images/moc-chau.jpg\"\r\n                    alt=\"\"\r\n                  />\r\n                </Col>\r\n                <Col xs=\"8\" md=\"8\" sm=\"8\" lg=\"8\">\r\n                  <div className=\"info-profile\">\r\n                    <h2>Huyền Haru</h2>\r\n                    <p>Số bài viết: 12</p>\r\n                    <p>Lượt like: 653</p>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n            <div className=\"my-travel mt-5\">\r\n              <h2 className=\"title-profile\">Lịch trình của tôi</h2>\r\n              <table className=\"table table-bordered table-responsive\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Điểm đến</th>\r\n                    <th>Điểm du lịch</th>\r\n                    <th>Điểm ăn uống</th>\r\n                    <th>Thời gian</th>\r\n                    <th>Bản đồ</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>Nha Trang</td>\r\n                    <td>\r\n                      Biển\r\n                      <br />\r\n                      Công viên <br />\r\n                      Cối xoay gió <br />\r\n                    </td>\r\n                    <td>\r\n                      Nhà hàng hải sản\r\n                      <br />\r\n                      Canh rong biển\r\n                      <br />\r\n                    </td>\r\n                    <td>3 ngày</td>\r\n                    <td width=\"30%\">\r\n                      <img\r\n                        className=\"img-respon\"\r\n                        src=\"./../../assets/images/lq1.png\"\r\n                        alt=\"\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Đà Nẵng</td>\r\n                    <td>\r\n                      Biển\r\n                      <br />\r\n                      Công viên <br />\r\n                      Cối xoay gió <br />\r\n                    </td>\r\n                    <td>\r\n                      Nhà hàng hải sản\r\n                      <br />\r\n                      Canh rong biển\r\n                      <br />\r\n                    </td>\r\n                    <td>3 ngày</td>\r\n                    <td width=\"30%\">\r\n                      <img\r\n                        className=\"img-respon\"\r\n                        src=\"./../../assets/images/lq1.png\"\r\n                        alt=\"\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div className=\"news-list mt-5\">\r\n              <h2 className=\"title-profile\">Bài viết của tôi</h2>\r\n              <Row>\r\n                {posts && posts.length > 0 ? (\r\n                  posts.map((post) => <ItemPost post={post} key={post._id} />)\r\n                ) : (\r\n                  <div>Bạn chưa có bài viết nào</div>\r\n                )}\r\n              </Row>\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"12\" md=\"3\" sm=\"12\" lg=\"3\" className=\"pr-0\">\r\n            <div className=\"why-choose\">\r\n              <h2>Quản lý tài khoản</h2>\r\n              <div className=\"why-item\">\r\n                <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i>\r\n                <ModalChargePass />\r\n              </div>\r\n              <div className=\"why-item\">\r\n                <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i>\r\n                <Link to=\"viết bài\">Viết bài</Link>\r\n              </div>\r\n              <div className=\"why-item\">\r\n                <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i>\r\n                <Link to=\"\">Thay ảnh đại diện</Link>\r\n              </div>\r\n            </div>\r\n\r\n            <Sidebar />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyAccount;\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport const useDebounce = (value, delay) => {\r\n    // State and setters for debounced value\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n    useEffect(\r\n        () => {\r\n            // Update debounced value after delay\r\n            const handler = setTimeout(() => {\r\n                setDebouncedValue(value);\r\n            }, delay);\r\n\r\n            // Cancel the timeout if value changes (also on delay change or unmount)\r\n            // This is how we prevent debounced value from updating if value is changed ...\r\n            // .. within the delay period. Timeout gets cleared and restarted.\r\n            return () => {\r\n                clearTimeout(handler);\r\n            };\r\n        },\r\n        [value, delay] // Only re-call effect if value or delay changes\r\n    );\r\n\r\n    return debouncedValue;\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {Form, Button, Spin, Select, Table} from 'antd';\r\nimport { useDebounce } from \"../../../app/Layout/common/CustomHook\";\r\nimport axios from \"axios\";\r\nimport {columnsTable} from \"../../../app/utils/config\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst { columnsPlace } = columnsTable;\r\n\r\nconst searchCity = async keyWord => {\r\n  let cities = [];\r\n\r\n  try {\r\n    const response = await axios.get(`/api/city/search?keyWord=${keyWord}`);\r\n    cities = await response.data.cities;\r\n\r\n    cities = cities.map(city => ({\r\n      text: city.name,\r\n      value: city.id,\r\n    }));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return cities;\r\n};\r\n\r\nconst fetchSuggestTrip = async (city, placeIds) => {\r\n  let places = [];\r\n\r\n  placeIds = placeIds.join(', ');\r\n\r\n  try {\r\n    const response = await axios.post(\r\n        `https://still-castle-31935.herokuapp.com/api/auth/suggest-trip/${city}`,\r\n        { places: placeIds },\r\n        { headers: {\"Content-Type\": \"application/json\"} }\r\n        );\r\n    places = response.data.places;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n\r\n  return places;\r\n};\r\n\r\nconst fetchCityData = async (city) => {\r\n  let result = {};\r\n\r\n  try {\r\n    const response = await axios.get(`https://still-castle-31935.herokuapp.com/api/city/${city}`);\r\n    result = response.data.city;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst SuggestTrip = () => {\r\n  const [form] = Form.useForm();\r\n  const [cities, setCities] = useState([]);\r\n  const [cityValue, setCityValue] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const debounceSearchTerm = useDebounce(searchTerm, 800);\r\n  const [loadingCities, setLoadingCities] = useState(false);\r\n  const [suggestTripLoading, setSuggestTripLoading] = useState(false);\r\n  const [suggestedPlaces, setSuggestedPlaces] = useState(null);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [city, setCity] = useState({});\r\n  const [loadingCity, setLoadingCity] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (debounceSearchTerm) {\r\n      setCities([]);\r\n      setLoadingCities(true);\r\n\r\n      searchCity(debounceSearchTerm).then(cities => {\r\n        setCities(cities);\r\n        setLoadingCities(false);\r\n      });\r\n    }\r\n  }, [debounceSearchTerm]);\r\n\r\n  const handleSelectCityChange = ({ value }) => {\r\n    setCity({});\r\n    setLoadingCity(true);\r\n\r\n    fetchCityData(value).then(city => {\r\n      setCity(city);\r\n      setLoadingCity(false);\r\n    }).catch(err => {\r\n      console.log(err);\r\n      setLoadingCity(false);\r\n    });\r\n\r\n    setCityValue(value);\r\n  };\r\n  const fetchCity = value => setSearchTerm(value);\r\n  const onSelectChange = selectedRowKeys => setSelectedRowKeys(selectedRowKeys);\r\n  const handleSuggestTrip = values => {\r\n    const { city: { value } } = values;\r\n    setSuggestedPlaces([]);\r\n    setSuggestTripLoading(true);\r\n\r\n    fetchSuggestTrip(value, selectedRowKeys).then(places => {\r\n      places.splice(-1,1);\r\n      setSuggestedPlaces(places);\r\n      setSuggestTripLoading(false);\r\n      setSelectedRowKeys([])\r\n    }).catch(err => {\r\n      console.log(err);\r\n      setSuggestTripLoading(false);\r\n      setSelectedRowKeys([])\r\n    });\r\n  };\r\n\r\n  const rowSelection = { selectedRowKeys, onChange: onSelectChange };\r\n  const dataSourcePlaces = suggestedPlaces ? suggestedPlaces.map(pl => ({ ...pl, key: pl._id })) : (city && city.places ? city.places.map(pl => ({ ...pl.place, key: pl.place._id })) : []);\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        form={form}\r\n        onFinish={handleSuggestTrip}\r\n      >\r\n        <Form.Item name='city' rules={[{ required: true, message: 'Vui lòng chọng một thành phố' }]}>\r\n          <Select\r\n              labelInValue\r\n              value={cityValue}\r\n              placeholder='Select City'\r\n              showSearch\r\n              notFoundContent={loadingCities ? <Spin size='small' /> : null}\r\n              filterOption={false}\r\n              onSearch={fetchCity}\r\n              onChange={handleSelectCityChange}\r\n              style={{ width: '100%' }}\r\n          >\r\n            {cities.map(d => (\r\n                <Option key={d.value}>{d.text}</Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n        {\r\n          selectedRowKeys.length > 0 && (\r\n              <Form.Item>\r\n                <Button type='primary' htmlType='submit' loading={suggestTripLoading}>Gợi ý lịch trình</Button>\r\n              </Form.Item>\r\n          )\r\n        }\r\n\r\n      </Form>\r\n\r\n      <Spin spinning={loadingCity}>\r\n        <Table\r\n            rowSelection={rowSelection}\r\n            columns={columnsPlace}\r\n            dataSource={dataSourcePlaces}\r\n            pagination={false}\r\n        />\r\n        {/*{suggestedPlaces.length > 0 ? (*/}\r\n        {/*    <Table*/}\r\n        {/*        rowSelection={rowSelection}*/}\r\n        {/*        columns={columnsPlace}*/}\r\n        {/*        dataSource={suggestedPlaces}*/}\r\n        {/*        pagination={false}*/}\r\n        {/*    />*/}\r\n        {/*) : (*/}\r\n        {/*    <Table*/}\r\n        {/*        rowSelection={rowSelection}*/}\r\n        {/*        columns={columnsPlace}*/}\r\n        {/*        dataSource={city.places}*/}\r\n        {/*        pagination={false}*/}\r\n        {/*    />*/}\r\n        {/*)}*/}\r\n      </Spin>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SuggestTrip;","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Container } from 'react-bootstrap';\r\nimport {\r\n  Form,\r\n  InputNumber,\r\n  Select,\r\n  Spin,\r\n  Button,\r\n  Table,\r\n  Typography,\r\n  Divider,\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\nimport { columnsTable } from '../../../app/utils/config';\r\nimport { useDebounce } from '../../../app/Layout/common/CustomHook';\r\nimport SuggestTrip from './SuggestTrip';\r\n\r\nconst { Option } = Select;\r\nconst { Title, Text } = Typography;\r\n\r\nconst { columnsPlace, columnsHotel, columnsFood } = columnsTable;\r\n\r\nconst prepareTableDataSource = (type, city) => {\r\n  if (Object.keys(city).length > 0) {\r\n    if (type === 'places') {\r\n      return city.places.map(pl => ({ ...pl, key: pl._id }));\r\n    } else {\r\n      type = type.slice(0, -1);\r\n\r\n      return city[`${type}s`]\r\n        .filter(el => el[type])\r\n        .map(value => {\r\n          return {\r\n            ...value[type],\r\n            image: (\r\n              <img\r\n                alt='value'\r\n                src={value[type].image}\r\n                style={{ width: '100%', maxWidth: '100px' }}\r\n              />\r\n            ),\r\n            key: value[type]._id,\r\n          };\r\n        });\r\n    }\r\n  }\r\n\r\n  return [];\r\n};\r\n\r\nconst fetchSuggestPlaces = async (cityId, time) => {\r\n  let city = {};\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `/api/auth/suggest-place/${cityId}/${time}`\r\n    );\r\n    city = response.data.city;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return city;\r\n};\r\n\r\nconst searchCity = async keyWord => {\r\n  let cities = [];\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `https://still-castle-31935.herokuapp.com/api/city/search?keyWord=${keyWord}`\r\n    );\r\n    cities = await response.data.cities;\r\n\r\n    cities = cities.map(city => ({\r\n      text: city.name,\r\n      value: city.id,\r\n    }));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return cities;\r\n};\r\n\r\nconst MyTrip = () => {\r\n  const [cities, setCities] = useState([]);\r\n  const [loadingCities, setLoadingCities] = useState(false);\r\n  const [loadingSuggestPlaces, setLoadingSuggestPlaces] = useState(false);\r\n  const [cityValue, setCityValue] = useState(null);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState({\r\n    place: [],\r\n    hotel: [],\r\n    food: [],\r\n  });\r\n  const [city, setCity] = useState({});\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const debounceSearchTerm = useDebounce(searchTerm, 800);\r\n  const [prices, setPrices] = useState({\r\n    place: 0,\r\n    hotel: 0,\r\n    food: 0,\r\n  });\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    if (debounceSearchTerm) {\r\n      setCities([]);\r\n      setLoadingCities(true);\r\n\r\n      searchCity(debounceSearchTerm).then(cities => {\r\n        setCities(cities);\r\n        setLoadingCities(false);\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      setPrices({\r\n        place: 0,\r\n        hotel: 0,\r\n        food: 0,\r\n      });\r\n    };\r\n  }, [debounceSearchTerm]);\r\n\r\n  const fetchCity = value => setSearchTerm(value);\r\n\r\n  const handleSelectCityChange = value => setCityValue(value);\r\n\r\n  const handleSuggestPlace = async ({ city: { value }, time }) => {\r\n    setCity({});\r\n    setLoadingSuggestPlaces(true);\r\n\r\n    fetchSuggestPlaces(value, time)\r\n      .then(city => {\r\n        setCity(city);\r\n        setLoadingSuggestPlaces(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        setLoadingSuggestPlaces(false);\r\n      });\r\n  };\r\n\r\n  const onSelectPlaceChange = selectedPlaceRowKeys => {\r\n    let placePrice = prices.place;\r\n    selectedPlaceRowKeys.forEach(rowKey => {\r\n      let place = places.find(place => place._id === rowKey);\r\n\r\n      if (place) {\r\n        placePrice += Number(place.price);\r\n      }\r\n    });\r\n\r\n    setPrices({ ...prices, place: placePrice });\r\n    setSelectedRowKeys({\r\n      ...selectedRowKeys,\r\n      place: selectedPlaceRowKeys,\r\n    });\r\n  };\r\n\r\n  const onSelectHotelChange = selectedHotelRowKeys => {\r\n    let hotelPrice = prices.hotel;\r\n    selectedHotelRowKeys.forEach(rowKey => {\r\n      let hotel = hotels.find(hotel => hotel._id === rowKey);\r\n\r\n      if (hotel) {\r\n        hotelPrice += Number(hotel.price);\r\n      }\r\n    });\r\n\r\n    setPrices({ ...prices, hotel: hotelPrice });\r\n\r\n    setSelectedRowKeys({\r\n      ...selectedRowKeys,\r\n      hotel: selectedHotelRowKeys,\r\n    });\r\n  };\r\n\r\n  const onSelectFoodChange = selectedFoodRowKeys => {\r\n    let foodPrice = prices.food;\r\n    selectedFoodRowKeys.forEach(rowKey => {\r\n      let food = foods.find(food => food._id === rowKey);\r\n\r\n      if (food) {\r\n        foodPrice += Number(food.price);\r\n      }\r\n    });\r\n\r\n    setPrices({ ...prices, food: foodPrice });\r\n\r\n    setSelectedRowKeys({\r\n      ...selectedRowKeys,\r\n      food: selectedFoodRowKeys,\r\n    });\r\n  };\r\n\r\n  // const rowSelection = { selectedRowKeys, onChange: onSelectChange };\r\n  const rowPlaceSelection = {\r\n    selectedRowKeys: selectedRowKeys.place,\r\n    onChange: onSelectPlaceChange,\r\n  };\r\n  const rowHotelSelection = {\r\n    selectedRowKeys: selectedRowKeys.hotel,\r\n    onChange: onSelectHotelChange,\r\n  };\r\n  const rowFoodSelection = {\r\n    selectedRowKeys: selectedRowKeys.food,\r\n    onChange: onSelectFoodChange,\r\n  };\r\n\r\n  const places = prepareTableDataSource('places', city);\r\n  const hotels = prepareTableDataSource('hotels', city).map(hotel => ({\r\n    ...hotel,\r\n    price: Math.round((Number(hotel.priceMin) + Number(hotel.priceMax)) / 2),\r\n  }));\r\n  const foods = prepareTableDataSource('foods', city);\r\n\r\n  return (\r\n    <div className='my-trip'>\r\n      <div className='module-banner'>\r\n        <img\r\n          className='img-respon img-banner'\r\n          src='./../../assets/images/banner-post.jpg'\r\n          alt=''\r\n        />\r\n        <div className='title-bn'>\r\n          <h2>Lịch trình của tôi</h2>\r\n          <div>Trang chủ &nbsp;/&nbsp; Bạn muốn đến?</div>\r\n        </div>\r\n      </div>\r\n      <Container>\r\n        <div className='content-trip'>\r\n          <Row gutter={[16, 16]}>\r\n            <Col xs={24} sm={24} md={18} lg={18} xl={18}>\r\n              <h3 className='paci-font'>\r\n                Hãy tự tạo cho mình một lịch trình phù hợp với quỹ thời gian và\r\n                hầu bao của bản thân nào!\r\n              </h3>\r\n              <Form form={form} onFinish={handleSuggestPlace}>\r\n                <Form.Item\r\n                  name='city'\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: 'Vui lòng nhập tên tỉnh',\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Select\r\n                    labelInValue\r\n                    value={cityValue}\r\n                    placeholder='Tìm kiếm tỉnh/thành phố'\r\n                    showSearch\r\n                    notFoundContent={\r\n                      loadingCities ? <Spin size='small' /> : null\r\n                    }\r\n                    filterOption={false}\r\n                    onSearch={fetchCity}\r\n                    onChange={handleSelectCityChange}\r\n                    style={{ width: '100%' }}\r\n                  >\r\n                    {cities.map(d => (\r\n                      <Option key={d.value}>{d.text}</Option>\r\n                    ))}\r\n                  </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                  name='time'\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: 'Vui lòng nhập số ngày du lịch',\r\n                    },\r\n                  ]}\r\n                  style={{ width: '100%' }}\r\n                >\r\n                  <InputNumber\r\n                    placeholder='Nhập số ngày du lịch'\r\n                    min={1}\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                  <Button\r\n                    type='primary'\r\n                    className='fr'\r\n                    htmlType='submit'\r\n                    loading={loadingSuggestPlaces}\r\n                  >\r\n                    Gợi ý chuyến đi\r\n                  </Button>\r\n                </Form.Item>\r\n              </Form>\r\n              <div className='food'>\r\n                <div className='table-responsive'>\r\n                  {places.length > 0 && (\r\n                    <Table\r\n                      rowSelection={rowPlaceSelection}\r\n                      columns={columnsPlace}\r\n                      dataSource={places}\r\n                      pagination={false}\r\n                      title={() => (\r\n                        <Title level={4}>\r\n                          Những địa điểm tham quan phù hợp với số ngày của bạn\r\n                        </Title>\r\n                      )}\r\n                    />\r\n                  )}\r\n\r\n                  {foods.length > 0 && (\r\n                    <Table\r\n                      rowSelection={rowFoodSelection}\r\n                      columns={columnsFood}\r\n                      dataSource={foods}\r\n                      pagination={false}\r\n                      title={() => (\r\n                        <Title level={4}>\r\n                          Những món ăn bạn không nên bỏ lỡ\r\n                        </Title>\r\n                      )}\r\n                    />\r\n                  )}\r\n\r\n                  {hotels.length > 0 && (\r\n                    <Table\r\n                      rowSelection={rowHotelSelection}\r\n                      columns={columnsHotel}\r\n                      dataSource={hotels}\r\n                      pagination={false}\r\n                      title={() => (\r\n                        <Title level={4}>\r\n                          Bạn có thể tham khảo những khách sạn dưới đây\r\n                        </Title>\r\n                      )}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col xs={24} sm={24} md={6} lg={6} xl={6}>\r\n              <Title level={4}>Giá cả</Title>\r\n\r\n              <div>\r\n                <Text strong>Places: </Text>\r\n                <Text>{prices.place}</Text>\r\n                <Text> VND</Text>\r\n              </div>\r\n\r\n              <div>\r\n                <Text strong>Hotels: </Text>\r\n                <Text>{prices.hotel}</Text>\r\n                <Text> VND</Text>\r\n              </div>\r\n\r\n              <div>\r\n                <Text strong>Foods: </Text>\r\n                <Text>{prices.food}</Text>\r\n                <Text> VND</Text>\r\n              </div>\r\n\r\n              <Divider />\r\n\r\n              <div>\r\n                <Text strong>Total: </Text>\r\n                <Text>{prices.place + prices.hotel + prices.food}</Text>\r\n                <Text> VND</Text>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Divider />\r\n          <SuggestTrip />\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyTrip;\r\n","/**\n * Custom module for quilljs to allow user to resize <img> elements\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\n * @see https://quilljs.com/blog/building-a-custom-module/\n */\nexport class ImageResize {\n\n  constructor(quill, options = {}) {\n    // save the quill reference and options\n    this.quill = quill;\n    this.options = options;\n    // bind handlers to this instance\n    this.handleClick = this.handleClick.bind(this);\n    this.handleMousedown = this.handleMousedown.bind(this);\n    this.handleMouseup = this.handleMouseup.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n    this.checkImage = this.checkImage.bind(this);\n    // track resize handles\n    this.boxes = [];\n    // disable native image resizing on firefox\n    document.execCommand('enableObjectResizing', false, 'false');\n    // respond to clicks inside the editor\n    this.quill.root.addEventListener('click', this.handleClick, false);\n  }\n\n  handleClick(evt) {\n    if (evt.target && evt.target.tagName && evt.target.tagName.toUpperCase() === 'IMG') {\n      if (this.img === evt.target) {\n        // we are already focused on this image\n        return;\n      }\n      if (this.img) {\n        // we were just focused on another image\n        this.hide();\n      }\n      // clicked on an image inside the editor\n      this.show(evt.target);\n    }\n    else if (this.img) {\n      // clicked on a non image\n      this.hide();\n    }\n  }\n\n  show(img) {\n    // keep track of this img element\n    this.img = img;\n    this.showResizers();\n    this.showSizeDisplay();\n    // position the resize handles at the corners\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  hide() {\n    this.hideResizers();\n    // this.hideSizeDisplay();\n    this.img = undefined;\n  }\n\n  showResizers() {\n    // prevent spurious text selection\n    this.setUserSelect('none');\n    // add 4 resize handles\n    this.addBox('nwse-resize'); // top left\n    this.addBox('nesw-resize'); // top right\n    this.addBox('nwse-resize'); // bottom right\n    this.addBox('nesw-resize'); // bottom left\n    // listen for the image being deleted or moved\n    document.addEventListener('keyup', this.checkImage, true);\n    this.quill.root.addEventListener('input', this.checkImage, true);\n  }\n\n  hideResizers() {\n    // stop listening for image deletion or movement\n    document.removeEventListener('keyup', this.checkImage);\n    this.quill.root.removeEventListener('input', this.checkImage);\n    // reset user-select\n    this.setUserSelect('');\n    this.setCursor('');\n    // remove boxes\n    this.boxes.forEach(box => document.body.removeChild(box));\n    // release memory\n    this.dragBox = undefined;\n    this.dragStartX = undefined;\n    this.preDragWidth = undefined;\n    this.boxes = [];\n  }\n\n  addBox(cursor) {\n    // create div element for resize handle\n    const box = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      height: '12px',\n      width: '12px',\n      backgroundColor: 'white',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: cursor,\n    };\n    this.extend(box.style, styles, this.options.handleStyles || {});\n    // listen for mousedown on each box\n    box.addEventListener('mousedown', this.handleMousedown, false);\n    // add drag handle to document\n    document.body.appendChild(box);\n    // keep track of drag handle\n    this.boxes.push(box);\n  }\n\n  extend(destination, ...sources) {\n    sources.forEach(source => {\n      for (let prop in source) {\n        if (source.hasOwnProperty(prop)) {\n          destination[prop] = source[prop];\n        }\n      }\n    });\n    return destination;\n  }\n\n  positionBoxes(rect) {\n    // set the top and left for each drag handle\n    [\n      { left: rect.left - 6,              top: rect.top - 6 },               // top left\n      { left: rect.left + rect.width - 6, top: rect.top - 6 },               // top right\n      { left: rect.left + rect.width - 6, top: rect.top + rect.height - 6 }, // bottom right\n      { left: rect.left - 6,              top: rect.top + rect.height - 6 }, // bottom left\n    ].forEach((pos, idx) => {\n      this.extend(this.boxes[idx].style, {\n        top: Math.round(pos.top + window.pageYOffset) + 'px',\n        left: Math.round(pos.left + window.pageXOffset) + 'px',\n      });\n    });\n  }\n\n  handleMousedown(evt) {\n    // note which box\n    this.dragBox = evt.target;\n    // note starting mousedown position\n    this.dragStartX = evt.clientX;\n    // store the width before the drag\n    this.preDragWidth = this.img.width || this.img.naturalWidth;\n    // set the proper cursor everywhere\n    this.setCursor(this.dragBox.style.cursor);\n    // listen for movement and mouseup\n    document.addEventListener('mousemove', this.handleDrag, false);\n    document.addEventListener('mouseup', this.handleMouseup, false);\n  }\n\n  handleMouseup() {\n    // reset cursor everywhere\n    this.setCursor('');\n    // stop listening for movement and mouseup\n    document.removeEventListener('mousemove', this.handleDrag);\n    document.removeEventListener('mouseup', this.handleMouseup);\n  }\n\n  handleDrag(evt) {\n    if (!this.img) {\n      // image not set yet\n      return;\n    }\n    // update image size\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\n      // left-side resize handler; draging right shrinks image\n      this.img.width = Math.round(this.preDragWidth - evt.clientX - this.dragStartX);\n    }\n    else {\n      // right-side resize handler; draging right enlarges image\n      this.img.width = Math.round(this.preDragWidth + evt.clientX - this.dragStartX);\n    }\n    // reposition the drag handles around the image\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  setUserSelect(value) {\n    [\n      'userSelect',\n      'mozUserSelect',\n      'webkitUserSelect',\n      'msUserSelect'\n    ].forEach(prop => {\n      // set on contenteditable element and <html>\n      this.quill.root.style[prop] = value;\n      document.documentElement.style[prop] = value;\n    });\n  }\n\n  setCursor(value) {\n    [\n      document.body,\n      this.img,\n      this.quill.root\n    ].forEach(el => el.style.cursor = value);\n  }\n\n  checkImage() {\n    if (this.img) {\n      this.hide();\n    }\n  }\n\n  showSizeDisplay() {\n    if (!this.options.displaySize) {\n      return;\n    }\n    this.display = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      font: '12px/1.0 Arial, Helvetica, sans-serif',\n      padding: '4px 8px',\n      textAlign: 'center',\n      backgroundColor: 'white',\n      color: '#333',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: 'default',\n    };\n    this.extend(this.display.style, styles, this.options.displayStyles || {});\n    document.body.appendChild(this.display);\n  }\n\n  hideSizeDisplay() {\n    document.body.removeChild(this.display);\n    this.display = undefined;\n  }\n\n  positionSizeDisplay(rect) {\n    if (!this.display || !this.img) {\n      return;\n    }\n    const size = this.getCurrentSize();\n    this.display.innerHTML = size.join(' &times; ');\n    if (size[0] > 120 && size[1] > 30) {\n      // position on top of image\n      const dispRect = this.display.getBoundingClientRect();\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset - dispRect.width - 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset - dispRect.height - 8) + 'px',\n      });\n    }\n    else {\n      // position off bottom right\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset + 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset + 8) + 'px',\n      });\n    }\n  }\n\n  getCurrentSize() {\n    return [\n      this.img.width,\n      Math.round(this.img.width / this.img.naturalWidth * this.img.naturalHeight),\n    ];\n  }\n\n}\n","import { Quill } from 'react-quill'\nconst BlockEmbed = Quill.import('blots/block/embed');\nconst Parchment = Quill.import('parchment');\nconst ATTRIBUTES = [ 'height', 'width' ];\n\nconst nubStyles = {\n  tLeft: {\n    top: '-5px',\n    left: '-5px',\n  },\n  tRight: {\n    top: '-5px',\n    right: '-5px',\n  },\n  bLeft: {\n    bottom: '-5px',\n    left: '-5px',\n  },\n  bRight: {\n    bottom: '-5px',\n    right: '-5px',\n  },\n}\n\nconst getClosest = (el, sel) => {\n  while ((el = el.parentElement) && !((el.matches || el.matchesSelector).call(el, sel)));\n  return el;\n}\n\nconst createSpacer = () => {\n  let spacer = document.createElement('div')\n  spacer.appendChild(document.createElement('br'));\n  return spacer\n}\n\nclass VideoBuilder {\n\n  buildIFrame(src, node) {\n    let iframe = document.createElement('iframe');\n    iframe.setAttribute('frameborder', '0');\n    iframe.setAttribute('allowfullscreen', true);\n    iframe.className = 'td-quill-video-editing'\n    iframe.setAttribute('width', node.getAttribute('width') || 300);\n    iframe.setAttribute('height', node.getAttribute('height') || 150);\n    iframe.setAttribute('src', src);\n    return iframe;\n  }\n\n  buildNode(node, wrapper) {\n    node.appendChild(wrapper);\n    setTimeout(() => {\n      node.setAttribute('contenteditable', 'false');\n      node.parentElement && node.parentElement.insertBefore(createSpacer(), node)\n      node.parentElement && node.parentElement.appendChild(createSpacer());\n      let iframe = node.getElementsByTagName('iframe')[0];\n      iframe.setAttribute('width', node.getAttribute('width') || 300);\n      iframe.setAttribute('height', node.getAttribute('height') || 150);\n    }, 0);\n    return node;\n  }\n\n  buildOverlay() {\n    let overlay = document.createElement('div');\n    overlay.setAttribute('class', \"td-quill-video-overlay\");\n    overlay.setAttribute('contenteditable', 'false');\n    overlay.addEventListener('click', (event) => {\n      let rootElement = getClosest(overlay, \".ql-editor\");\n      if(rootElement && rootElement.quill){\n        let node = Parchment.find(overlay.parentElement.parentElement);\n        if (node instanceof Video) {\n          node.domNode.builder.select(overlay, rootElement.quill, node);\n        }\n      }\n    });\n\n    return overlay;\n  }\n\n  select(overlay, quill, node) {\n\n    this.selectedElement = overlay;\n    if (this.selectedElement.className.indexOf('active') === -1){\n      this.quill = quill;\n      this.quill.setSelection(null);\n      this.parentElement = this.selectedElement.parentElement;\n      this.node = node;\n      this.iframe = this.parentElement.getElementsByTagName('iframe')[0];\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay active')\n      //let toolBar = this.buildToolBar();\n      //this.selectedElement.appendChild(toolBar);\n      this.buildResize();\n      this.handelDeselect = this.deselect.bind(this);\n      this.quill.root.addEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  deselect(event) {\n    if (event.target !== this.selectedElement) {\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay');\n      this.clearNubEvents(true);\n      while (this.selectedElement.firstChild) { this.selectedElement.removeChild(this.selectedElement.firstChild); }\n      this.selectedElement = null;\n      this.quill.root.removeEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  buildToolBar() {\n    let toolbarWrapper = document.createElement('div');\n    toolbarWrapper.className = \"td-quill-video-toolbar-wrapper\"\n    let toolbar = document.createElement('div');\n    toolbar.className = \"td-quill-video-toolbar\"\n    toolbar = this.addToolBarActions(toolbar);\n    toolbarWrapper.appendChild(toolbar);\n    return toolbarWrapper;\n  }\n\n  addToolBarActions(toolbar) {\n    toolbar.appendChild(this.buildAction('left'));\n    toolbar.appendChild(this.buildAction('center'));\n    toolbar.appendChild(this.buildAction('right'));\n    return toolbar;\n  }\n\n  buildAction(type) {\n    const button = document.createElement('span');\n    button.className = `td-quill-video-align-action td-quill-video-${type}`;\n    button.innerHTML = `<i class=\"fa fa-align-${type} td-align-${type}\" aria-hidden=\"true\"></i>`;\n    button.addEventListener('click', () => {\n      this.quill.setSelection(this.node.offset(this.quill.scroll), 1, 'user');\n      if (type === 'left') { return this.quill.format('align', null); }\n      this.quill.format('align', type);\n      this.quill.setSelection(null);\n    });\n    return button;\n  }\n\n  buildResize(){\n    this.boxes = [];\n    this.dragHandeler = this.handleDrag.bind(this);\n    this.mouseUp = this.handelMouseUp.bind(this);\n    this.mouseDown = this.handleMousedown.bind(this);\n    for(let key in nubStyles){\n      let nub = this.buildNub(key);\n      this.boxes.push(nub);\n      this.selectedElement.appendChild(nub);\n    }\n    return this.selectedElement;\n  }\n\n  buildNub(pos) {\n    let nub = document.createElement('span');\n    nub.className = 'td-quill-resize-nub';\n    Object.assign(nub.style, nubStyles[pos])\n    nub.addEventListener('mousedown', this.mouseDown, false);\n    return nub;\n  }\n\n  handleMousedown(event){\n    this.dragBox = event.target;\n    this.dragStartX = event.clientX;\n    this.dragStartY = event.clientY;\n    this.preDragWidth = parseInt(this.iframe.width, 10) || 300;\n    this.preDragHeight = parseInt(this.iframe.height, 10) || 150;\n    document.addEventListener('mousemove', this.dragHandeler, false);\n    document.addEventListener('mouseup', this.mouseUp, false);\n  };\n\n  handleDrag(event){\n    if (!this.iframe) { return; }\n    const deltaX = event.clientX - this.dragStartX;\n    const deltaY = event.clientY - this.dragStartY;\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[2]) {\n      this.iframe.width = Math.round(this.preDragWidth - deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n    else {\n      this.iframe.width = Math.round(this.preDragWidth + deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n  }\n\n  handelMouseUp(event){\n    this.clearNubEvents();\n  }\n\n  clearNubEvents(include_nub){\n    for(let nub in this.boxes){\n      document.removeEventListener('mousemove', this.dragHandeler, false);\n      document.removeEventListener('mouseup', this.mouseUp, false);\n      if (include_nub){\n        this.boxes[nub].removeEventListener('mousedown', this.handleMousedown, false);\n      }\n    }\n  }\n\n}\n\nclass Video extends BlockEmbed {\n\n  static create(src) {\n    let node = super.create();\n    node.builder = new VideoBuilder();\n    let wrapper = document.createElement('div');\n    wrapper.className = 'td-quill-video-wrapper';\n    let iframe = node.builder.buildIFrame(src, node);\n    let overlay = node.builder.buildOverlay();\n    wrapper.appendChild(iframe);\n    wrapper.appendChild(overlay);\n    return node.builder.buildNode(node, wrapper);\n  }\n\n  static formats(domNode) {\n    let iframe = domNode.getElementsByTagName('iframe')[0];\n    return ATTRIBUTES.reduce(function (formats, attribute) {\n      if (iframe.hasAttribute(attribute)) {\n        formats[attribute] = iframe.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n\n  static value(domNode) {\n    return domNode.getElementsByTagName('iframe')[0].getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) { this.domNode.setAttribute(name, value); }\n      else { this.domNode.removeAttribute(name); }\n    }\n    else { super.format(name, value); }\n  }\n\n}\nVideo.blotName = 'video';\nVideo.className = 'td-video';\nVideo.tagName = 'div';\n\nexport { Video }\n","import React, { useEffect } from 'react';\r\nimport ReactQuill, { Quill } from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport { ImageResize } from './ImageResize';\r\nimport { Video } from './quill-video-resize';\r\nimport './quill-video-resize.css';\r\n\r\nQuill.register('modules/imageResize', ImageResize);\r\nQuill.register({ 'formats/video': Video });\r\n\r\nconst modules = {\r\n  toolbar: [\r\n    [{ header: '1' }, { header: '2' }, { font: [] }],\r\n    [{ size: [] }],\r\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n    [\r\n      { list: 'ordered' },\r\n      { list: 'bullet' },\r\n      { indent: '-1' },\r\n      { indent: '+1' },\r\n    ],\r\n    ['link', 'image', 'video'],\r\n    ['clean'],\r\n  ],\r\n  clipboard: {\r\n    matchVisual: false,\r\n  },\r\n  history: {\r\n    delay: 1000,\r\n    maxStack: 50,\r\n    userOnly: false,\r\n  },\r\n  imageResize: {\r\n    displayStyles: {\r\n      backgroundColor: 'black',\r\n      border: 'none',\r\n      color: 'white',\r\n    },\r\n    modules: ['Resize', 'DisplaySize', 'Toolbar'],\r\n  },\r\n};\r\nconst formats = [\r\n  'header',\r\n  'font',\r\n  'size',\r\n  'bold',\r\n  'italic',\r\n  'underline',\r\n  'strike',\r\n  'blockquote',\r\n  'list',\r\n  'bullet',\r\n  'indent',\r\n  'link',\r\n  'image',\r\n  'video',\r\n];\r\n\r\nconst TextEditor = ({ handleChange, text, clearContent, quillRef }) => {\r\n  useEffect(() => {\r\n    quillRef.current.focus();\r\n\r\n    return () => {\r\n      clearContent();\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <ReactQuill\r\n      value={text}\r\n      onChange={handleChange}\r\n      modules={modules}\r\n      formats={formats}\r\n      placeholder={'Enter new content here...'}\r\n      ref={quillRef}\r\n      theme='snow'\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextEditor;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Form, Input, Upload, Button, Spin, Select } from \"antd\";\r\nimport { UploadOutlined } from \"@ant-design/icons\";\r\nimport shortid from \"shortid\";\r\n\r\nimport { createPost, fetchPost, clearPost, updatePost } from \"../post.actions\";\r\nimport { actionTypes } from \"../../../app/utils/config\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport TextEditor from \"../../../app/Layout/common/TextEditor/TextEditor\";\r\n\r\nconst PostAction = (props) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const [form] = Form.useForm();\r\n  const post = useSelector((state) => state.post.currentPost);\r\n  const { loading, actionType } = useSelector((state) => state.async);\r\n  const [content, setContent] = useState(\"\");\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  const quillRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(fetchPost(id));\r\n    }\r\n\r\n    return () => {\r\n      form.resetFields();\r\n      handleClearContent();\r\n      setFileList([]);\r\n      dispatch(clearPost());\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      const image = {\r\n        uid: shortid.generate(),\r\n        status: \"done\",\r\n        url: post.mainPhoto,\r\n      };\r\n      form.setFieldsValue({ ...post, image });\r\n      setContent(post.content);\r\n      setFileList([...fileList, image]);\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [post]);\r\n\r\n  const handleEditorChange = (content, delta, source, editor) => {\r\n    setContent(content);\r\n  };\r\n\r\n  const handleSubmit = (values) => {\r\n    if (id && post) {\r\n      const updatedPost = {\r\n        ...post,\r\n        ...values,\r\n        content,\r\n      };\r\n      dispatch(updatePost(updatedPost, history));\r\n    } else {\r\n      const newArticle = {\r\n        ...values,\r\n        content: content,\r\n      };\r\n      dispatch(createPost(newArticle, history));\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    e.file.status = \"done\";\r\n    setFileList([e.file]);\r\n  };\r\n\r\n  const handleClearContent = () =>\r\n    quillRef.current.setEditorContents(quillRef.current.editor, \"\");\r\n\r\n  const contentValidator = (rule, value) => {\r\n    if (!content) {\r\n      return Promise.reject(\"Please enter the content\");\r\n    }\r\n\r\n    return Promise.resolve();\r\n  };\r\n\r\n  const fetchPostLoading = actionTypes.post.FETCH_POST ? loading : false;\r\n\r\n  const submitLoading =\r\n    actionType === actionTypes.post.CREATE_POST ||\r\n    actionType === actionTypes.post.UPDATE_POST\r\n      ? loading\r\n      : false;\r\n\r\n  return (\r\n    <Spin spinning={fetchPostLoading}>\r\n      <div className=\"create-post\">\r\n        <Container>\r\n          <div className=\"title-post\">\r\n            Hãy cùng chúng tôi lan tỏa đam mê khám phá thế giới <br />\r\n            Bạn đã sẵn sàng chia sẽ nhưng kinh nghiệm du lịch hữu ích của bản\r\n            thân cùng hội mê xê dịch rồi chứ? Let's go!\r\n          </div>\r\n          <Form form={form} size=\"large\" onFinish={handleSubmit}>\r\n            <Form.Item\r\n              name=\"title\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng điền tiêu đề cho bài viết\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"Tựa đề hay gây ấn tượng cho người đọc\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"type\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng điền tiêu đề cho bài viết\",\r\n                },\r\n              ]}\r\n            >\r\n              <Select placeholder=\"Chọn loại bài viết\">\r\n                <Select.Option value=\"food\">Bí kíp ăn uống</Select.Option>\r\n                <Select.Option value=\"experience\">\r\n                  Kinh nghiệm du lịch\r\n                </Select.Option>\r\n                <Select.Option value=\"place\">Địa điểm vui chơi</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"image\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please choose main image for your article\",\r\n                },\r\n              ]}\r\n            >\r\n              <Upload\r\n                defaultFileList={[]}\r\n                fileList={fileList}\r\n                onChange={handleImageChange}\r\n                listType=\"picture-card\"\r\n                customRequest={() => {}}\r\n                disabled={id ? fileList.length > 1 : fileList.length > 0}\r\n              >\r\n                <UploadOutlined />\r\n              </Upload>\r\n            </Form.Item>\r\n            {/* <Form.Item>\r\n              <ReactQuill\r\n                theme='snow'\r\n                onChange={handleEditorChange}\r\n                modules={textEditorConfig.modules}\r\n                formats={textEditorConfig.formats}\r\n                value={content}\r\n                bounds={'.app'}\r\n                placeholder='Write something...'\r\n                ref={quillRef}\r\n              />\r\n            </Form.Item> */}\r\n            <Form.Item name=\"content\" rules={[{ validator: contentValidator }]}>\r\n              <TextEditor\r\n                text={content}\r\n                handleChange={handleEditorChange}\r\n                quillRef={quillRef}\r\n                clearContent={handleClearContent}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button\r\n                htmlType=\"submit\"\r\n                className=\"fr\"\r\n                type=\"primary\"\r\n                loading={submitLoading}\r\n              >\r\n                Đăng bài\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Container>\r\n      </div>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default PostAction;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport '../../assets/css/style.css';\r\nimport '../../assets/css/header.css';\r\nimport '../../assets/css/footer.css';\r\nimport '../../assets/css/responsive.css';\r\nimport 'react-redux-toastr/lib/css/react-redux-toastr.min.css';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  BrowserRouter as Router,\r\n  HashRouter,\r\n} from 'react-router-dom';\r\n\r\nimport Menu from '../../features/navbar/Menu';\r\nimport Footer from './Footer';\r\nimport { getAuthUser } from '../../features/user/user.actions';\r\nimport Toastr from './common/Toastr';\r\nimport Home from '../../features/home/Home';\r\nimport NewsList from '../../features/post/NewsList/NewsList';\r\nimport PostDetail from '../../features/post/PostDetailed/PostDetail';\r\nimport Login from '../../features/user/Login/Login';\r\nimport Register from '../../features/user/Register/Register';\r\nimport PrivateRoute from './common/PrivateRoute';\r\nimport MyAccount from '../../features/user/MyAccount/MyAccount';\r\nimport MyTrip from '../../features/user/MyTrip/MyTrip';\r\nimport PostAction from '../../features/post/PostAction/PostAction';\r\nimport { setDefaultAxios } from '../utils/helper';\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      setDefaultAxios();\r\n      dispatch(getAuthUser(token));\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className='wrapper'>\r\n      <HashRouter>\r\n        <Toastr />\r\n        <Menu />\r\n        <main className='main-page'>\r\n          <Switch>\r\n            <Route exact path='/' component={Home} />\r\n            <Route exact path='/cam-nang-du-lich' component={NewsList} />\r\n            <Route exact path='/cam-nang-du-lich/:id' component={PostDetail} />\r\n            <Route exact path='/dang-nhap' component={Login} />\r\n            <Route exact path='/dang-ky' component={Register} />\r\n            <PrivateRoute exact path='/tai-khoan' component={MyAccount} />\r\n            <PrivateRoute exact path='/lich-trinh' component={MyTrip} />\r\n            <PrivateRoute\r\n              exact\r\n              path={['/chinh-sua-bai-viet/:id', '/viet-bai']}\r\n              component={PostAction}\r\n            />\r\n          </Switch>\r\n        </main>\r\n        <Footer />\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {\r\n  GET_POSTS,\r\n  GET_POST,\r\n  ADD_POST,\r\n  CLEAR_POST,\r\n  UPDATE_POST, COMMENT_ON_POST, LIKE_POST, UNLIKE_POST, DELETE_POST_COMMENT,\r\n} from './post.constant';\r\n\r\nconst initState = {\r\n  posts: {\r\n    docs: [],\r\n    totalDocs: 0,\r\n    limit: 10,\r\n    totalPages: 0,\r\n    page: 0,\r\n    hasPrevPage: false,\r\n    hasNextPage: false,\r\n    prevPage: null,\r\n    nextPage: null,\r\n  },\r\n  currentPost: null,\r\n};\r\n\r\nconst postReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: {\r\n          ...state.posts,\r\n          ...payload,\r\n        },\r\n      };\r\n    case GET_POST:\r\n      return {\r\n        ...state,\r\n        currentPost: payload.post,\r\n      };\r\n\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        currentPost: payload.post,\r\n      };\r\n    case UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        currentPost: payload.post,\r\n      };\r\n    case COMMENT_ON_POST:\r\n    case LIKE_POST:\r\n    case UNLIKE_POST:\r\n    case DELETE_POST_COMMENT:\r\n      return {\r\n        ...state,\r\n        currentPost: payload.post\r\n      };\r\n    case CLEAR_POST:\r\n      return {\r\n        ...state,\r\n        currentPost: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default postReducer;\r\n","import { SET_AUTH_USER, LOGOUT } from './user.constant';\r\n\r\nconst token = localStorage.getItem('token');\r\n\r\nconst initState = {\r\n  authUser: {},\r\n  authenticated: !!token,\r\n};\r\n\r\nconst userReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER:\r\n      return {\r\n        ...state,\r\n        authUser: action.payload.user,\r\n        authenticated: true,\r\n      };\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        authenticated: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import {\r\n  ASYNC_ACTION_FINISH,\r\n  ASYNC_ACTION_ERROR,\r\n  ASYNC_ACTION_START,\r\n} from './async.constants';\r\n\r\nconst initState = {\r\n  loading: false,\r\n  actionType: null,\r\n  elmId: null,\r\n  error: null,\r\n};\r\n\r\nconst asyncReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case ASYNC_ACTION_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        actionType: payload.actionType,\r\n        elmId: payload.elmId,\r\n        error: null,\r\n      };\r\n    case ASYNC_ACTION_FINISH:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        actionType: null,\r\n        elmId: null,\r\n        error: null,\r\n      };\r\n    case ASYNC_ACTION_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        actionType: null,\r\n        elmId: null,\r\n        error: payload.err,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default asyncReducer;\r\n","import { combineReducers } from 'redux';\r\nimport postReducer from '../../features/post/post.reducer';\r\nimport userReducer from '../../features/user/user.reducers';\r\nimport asyncReducer from '../../features/async/async.reducer';\r\nimport { reducer as toastrReducer } from 'react-redux-toastr';\r\n\r\nconst root = combineReducers({\r\n  post: postReducer,\r\n  user: userReducer,\r\n  async: asyncReducer,\r\n  toastr: toastrReducer,\r\n});\r\n\r\nexport default root;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer';\r\n\r\nconst configureStore = () => {\r\n  const middleware = [thunk];\r\n  const composerEnhancer = composeWithDevTools(applyMiddleware(...middleware));\r\n\r\n  const store = createStore(rootReducer, composerEnhancer);\r\n\r\n  return store;\r\n};\r\n\r\nconst store = configureStore();\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport './../node_modules/video-react/dist/video-react.css'; // import css\r\nimport App from './app/Layout/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './app/redux/store';\r\nimport 'antd/dist/antd.css';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n// serviceWorker();\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}