{"version":3,"sources":["features/async/async.actions.js","features/async/async.constants.js","features/modal/modal.actions.js","features/modal/modal.constants.js","features/user/user.actions.js","features/user/user.constant.js","features/navbar/Menu.js","app/Layout/Footer.js","app/Layout/common/Toastr.jsx","app/utils/config.js","features/post/post.actions.js","features/post/post.constant.js","app/utils/helper.js","app/Layout/common/IconText.jsx","features/home/BannerHome.js","features/post/ItemPost/ItemPost.js","features/home/Home.js","features/post/ItemPost/BannerPost.js","features/post/NewsList/NewsList.js","features/post/PostDetailed/Comments.jsx","features/post/PostDetailed/CommentEditor.jsx","features/post/ItemPost/ItemSlide.js","pages/Components/Sidebar/Sidebar.js","features/post/PostDetailed/PostDetail.js","features/user/Login/Login.js","features/user/Register/Register.js","app/Layout/common/PrivateRoute.jsx","features/user/MyAccount/MyAccount.js","app/Layout/common/CustomHook.jsx","features/user/MyTrip/SuggestTrip.jsx","features/user/MyTrip/MyTrip.js","app/Layout/common/TextEditor/ImageResize.jsx","app/Layout/common/TextEditor/quill-video-resize.js","app/Layout/common/TextEditor/TextEditor.jsx","features/post/PostAction/PostAction.jsx","features/user/MyAccount/UploadProfileImage.jsx","features/modal/ModalManger.jsx","features/modal/profile/UploadImage.jsx","serviceWorker.js","features/post/post.reducer.js","features/user/user.reducers.js","features/async/async.reducer.js","features/modal/modal.reducer.js","app/redux/rootReducer.js","app/redux/store.js","index.js","app/Layout/App.js"],"names":["asyncActionStart","actionType","elmId","type","payload","asyncActionError","err","openModal","modalType","modalProps","getAuthUser","token","dispatch","axios","defaults","headers","common","concat","get","then","res","user","data","catch","console","log","Menubar","authUser","useSelector","state","useDispatch","react_default","a","createElement","className","Container","Navbar","collapseOnSelect","expand","Brand","as","NavLink","to","src","alt","Toggle","aria-controls","Collapse","id","Nav","Link","Object","keys","length","react","NavDropdown","title","Item","onClick","localStorage","removeItem","placeholder","value","Footer","Component","Toastr","props","lib_default","timeOut","newestOnTop","preventDuplicates","position","getState","toastr","transitionIn","transitionOut","closeOnToastrClick","actionTypes","post","CREATE_POST","UPDATE_POST","FETCH_POSTS","FETCH_POST","COMMENT_ON_POST","DELETE_POST_COMMENT","LIKE_POST","UNLIKE_POST","defaultImage","columnsTable","dataIndex","key","fetchPosts","page","arguments","undefined","limit","query","fetchPostsByType","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","_x","apply","this","fetchPost","formatDate","string","moment","format","setDefaultAxios","getItem","Text","Typography","IconText","Icon","icon","text","rest","objectWithoutProperties","assign","style","display","alignItems","marginRight","BannerHome","react_router_dom","_id","mainPhoto","space","common_IconText","UserOutlined","name","CalendarOutlined","date","EyeOutlined","views","ItemPost","authenticated","Col","xs","sm","md","lg","shortDescription","justifyContent","es_button","EditOutlined","Home","posts","docs","_useSelector2","async","loading","_useSelector3","experiencePosts","foodPosts","placePosts","_useState","useState","_useState2","slicedToArray","postsCarousel","setPostsCarousel","useEffect","loadingGrid","spin","spinning","carousel","autoplay","map","home_BannerHome","es_Container","row","col","post_ItemPost_ItemPost","BannerPost","esm_Row","NewsList","_useSelector","totalDocs","fetchPostsLoading","ItemPost_BannerPost","divider","Row","pagination","size","total","showTotal","onChange","hideOnSinglePage","pageSize","Comments","comments","authUserId","loadingType","deleteComment","list","header","itemLayout","dataSource","renderItem","cmt","es_comment","actions","DeleteOutlined","danger","author","avatar","content","datetime","Comments_Text","TextArea","Input","CommentEditor","onSubmit","submitting","Fragment","es_form","rows","htmlType","ItemSlide","xl","dangerouslySetInnerHTML","__html","Sidebar","ItemPost_ItemSlide","postAction","PostDetail","useParams","currentPost","comment","setComment","_ref$comments","_ref$mainPhoto","_ref$title","_ref$content","_ref$date","_ref$user","_ref$likes","likes","_ref$views","commentLoading","likeLoading","unlikeLoading","textAlign","align","LikeFilled","postId","_ref4","_callee4","response","_context4","put","sent","t0","error","general","msg","_x4","DislikeFilled","_ref5","_callee5","_context5","_x5","PostDetailed_Comments","commentId","_ref3","_callee3","_context3","delete","_x3","deletePostComment","PostDetailed_CommentEditor","e","target","preventDefault","_ref2","_callee2","_context2","_x2","commentOnPost","Components_Sidebar_Sidebar","Login","history","useHistory","email","password","setState","objectSpread","defineProperty","loginLoading","userCredentials","setItem","push","login","Alert","variant","InputGroup","Prepend","FormControl","aria-label","aria-describedby","Button","Spinner","animation","Register","username","confirmPassword","register","PrivateRoute","component","react_router","render","MyAccount","initMyAccountPage","aria-hidden","shape","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","Option","Select","columnsPlace","searchCity","keyWord","cities","city","abrupt","fetchSuggestTrip","placeIds","places","suggest","matrixCostResult","join","Content-Type","pl","index","from","cost","fetchCityData","result","SuggestTrip","_Form$useForm","Form","useForm","form","setCities","_useState3","_useState4","cityValue","setCityValue","_useState5","_useState6","searchTerm","setSearchTerm","debounceSearchTerm","_useState7","_useState8","loadingCities","setLoadingCities","_useState9","_useState10","suggestTripLoading","setSuggestTripLoading","_useState11","_useState12","suggestedPlaces","setSuggestedPlaces","_useState13","_useState14","selectedRowKeys","setSelectedRowKeys","_useState15","_useState16","setCity","_useState17","_useState18","loadingCity","setLoadingCity","rowSelection","dataSourcePlaces","place","onFinish","values","splice","rules","required","message","es_select","labelInValue","showSearch","notFoundContent","filterOption","onSearch","width","d","table","columns","SuggestTrip_Text","strong","Title","TabPane","Tabs","columnsHotel","columnsFood","prepareTableDataSource","slice","filter","el","image","maxWidth","fetchSuggestPlaces","cityId","time","MyTrip","loadingSuggestPlaces","setLoadingSuggestPlaces","hotel","food","prices","setPrices","handleSuggestPlace","rowPlaceSelection","selectedPlaceRowKeys","placePrice","forEach","rowKey","find","Number","price","rowHotelSelection","selectedHotelRowKeys","hotelPrice","hotels","rowFoodSelection","selectedFoodRowKeys","foodPrice","foods","Math","round","priceMin","priceMax","tabs","defaultActiveKey","tab","gutter","MyTrip_Option","input_number","min","level","MyTrip_Text","MyTrip_SuggestTrip","ImageResize","quill","options","classCallCheck","handleClick","bind","handleMousedown","handleMouseup","handleDrag","checkImage","boxes","document","execCommand","root","addEventListener","createClass","evt","tagName","toUpperCase","img","hide","show","showResizers","showSizeDisplay","rect","getBoundingClientRect","positionBoxes","positionSizeDisplay","hideResizers","setUserSelect","addBox","removeEventListener","setCursor","box","body","removeChild","dragBox","dragStartX","preDragWidth","cursor","styles","height","backgroundColor","border","boxSizing","opacity","extend","handleStyles","appendChild","destination","_len","sources","Array","_key","source","prop","hasOwnProperty","_this","left","top","pos","idx","window","pageYOffset","pageXOffset","clientX","naturalWidth","_this2","documentElement","displaySize","font","padding","color","displayStyles","getCurrentSize","innerHTML","dispRect","naturalHeight","BlockEmbed","Quill","import","Parchment","ATTRIBUTES","nubStyles","tLeft","tRight","right","bLeft","bottom","bRight","createSpacer","spacer","VideoBuilder","node","iframe","setAttribute","getAttribute","wrapper","parentElement","insertBefore","getElementsByTagName","overlay","event","rootElement","sel","matches","matchesSelector","call","getClosest","Video","domNode","builder","select","selectedElement","indexOf","setSelection","buildResize","handelDeselect","deselect","clearNubEvents","firstChild","toolbarWrapper","toolbar","addToolBarActions","buildAction","button","offset","scroll","dragHandeler","mouseUp","handelMouseUp","mouseDown","nub","buildNub","dragStartY","clientY","parseInt","preDragHeight","deltaX","deltaY","include_nub","removeAttribute","getPrototypeOf","prototype","buildIFrame","buildOverlay","buildNode","reduce","formats","attribute","hasAttribute","blotName","formats/video","modules","indent","clipboard","matchVisual","maxStack","userOnly","imageResize","TextEditor","handleChange","clearContent","quillRef","current","focus","react_quill_lib_default","ref","theme","PostAction","setContent","fileList","setFileList","useRef","resetFields","handleClearContent","uid","shortid","generate","status","url","setFieldsValue","toConsumableArray","setEditorContents","editor","fetchPostLoading","submitLoading","updatedPost","formData","FormData","append","file","originFileObj","content-type","success","updatePost","newArticle","newPost","createPost","input","upload","defaultFileList","listType","customRequest","disabled","UploadOutlined","validator","rule","Promise","resolve","reject","common_TextEditor_TextEditor","delta","UpdateAvatar","handleCancel","handleOpenImageLibrary","setImage","setError","uploadLoading","card","bordered","bodyStyle","Meta","description","antd_img_crop_esm","rotate","modalTitle","multiple","files","LinkOutlined","UploadProfileImage_Text","config","modalLookup","UploadProfileImage","modal","visible","onCancel","footer","destroyOnClose","ModalManger","renderModal","currentModal","ModalComponent","Boolean","location","hostname","match","initState","totalPages","hasPrevPage","hasNextPage","prevPage","nextPage","postReducer","userReducer","action","asyncReducer","modalReducer","combineReducers","toastrReducer","store","middleware","thunk","composerEnhancer","composeWithDevTools","applyMiddleware","createStore","rootReducer","configureStore","ReactDOM","es","initApp","common_Toastr","modal_ModalManger","Menu","exact","path","common_PrivateRoute","Layout_Footer","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ibAMaA,EAAmB,SAACC,EAAYC,GAAb,MAAwB,CACtDC,KCPgC,qBDQhCC,QAAS,CAAEH,aAAYC,WAKZG,EAAmB,SAAAC,GAAG,MAAK,CACtCH,KCZgC,qBDahCC,QAAS,CAAEE,SEbAC,EAAY,SAACC,EAAWC,GAAZ,MAA4B,CACnDN,KCHwB,aDIxBC,QAAS,CAAEI,YAAWC,iCE+DXC,EAAc,SAACC,GAAD,OAAW,SAACC,GACrCC,IAAMC,SAASC,QAAQC,OAAvB,wBAAAC,OAA2DN,GAE3DE,IACGK,IAAI,sDACJC,KAAK,SAACC,GACL,IAAMC,EAAOD,EAAIE,KAEjBV,EAAS,CAAET,KCzEY,gBDyESC,QAAS,CAAEiB,YAE5CE,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,kCEEHoB,EA1EC,WAAM,IACZC,EAAaC,sBAAY,SAACC,GAAD,OAAWA,EAAMR,OAA1CM,SACFf,EAAWkB,wBAKjB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAQC,kBAAgB,EAACC,OAAO,MAC9BP,EAAAC,EAAAC,cAACG,EAAA,EAAOG,MAAR,CAAcC,GAAIC,IAASC,GAAG,KAC5BX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOS,IAAI,2BAA2BC,IAAI,MAE3Db,EAAAC,EAAAC,cAACG,EAAA,EAAOS,OAAR,CAAeC,gBAAc,0BAC7Bf,EAAAC,EAAAC,cAACG,EAAA,EAAOW,SAAR,CAAiBC,GAAG,yBAClBjB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAKf,UAAU,WACbH,EAAAC,EAAAC,cAACgB,EAAA,EAAIC,KAAL,CAAUV,GAAIC,IAASC,GAAG,KAA1B,kBAGAX,EAAAC,EAAAC,cAACgB,EAAA,EAAIC,KAAL,CAAUV,GAAIC,IAASC,GAAG,qBAA1B,8BAGAX,EAAAC,EAAAC,cAACgB,EAAA,EAAIC,KAAL,CAAUV,GAAIC,IAASC,GAAG,eAA1B,qCAGCS,OAAOC,KAAKzB,GAAU0B,OAAS,EAC9BtB,EAAAC,EAAAC,cAACqB,EAAA,SAAD,KACEvB,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAAaC,MAAM,oBAAYR,GAAG,2BAChCjB,EAAAC,EAAAC,cAACsB,EAAA,EAAYE,KAAb,CAAkBjB,GAAIC,IAASC,GAAG,cAAlC,qCAIAX,EAAAC,EAAAC,cAACsB,EAAA,EAAYE,KAAb,CAAkBC,QA9Bf,WACnB9C,EFwGwB,SAACA,GAC3B+C,aAAaC,WAAW,SACxBhD,EAAS,CAAET,KClHgB,gBDkHKC,QAAS,CAAEiB,KAAM,MACjDT,EAAS,CAAET,KClHS,eCoCF,6BAIF4B,EAAAC,EAAAC,cAACgB,EAAA,EAAIC,KAAL,CAAUV,GAAIC,IAASC,GAAG,aACxBX,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBADf,qBAMFH,EAAAC,EAAAC,cAACqB,EAAA,SAAD,KACEvB,EAAAC,EAAAC,cAACgB,EAAA,EAAIC,KAAL,CAAUV,GAAIC,IAASC,GAAG,YAA1B,wBAIAX,EAAAC,EAAAC,cAACgB,EAAA,EAAIC,KAAL,CAAUV,GAAIC,IAASC,GAAG,cAA1B,8BAMNX,EAAAC,EAAAC,cAACgB,EAAA,EAAD,KACElB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eACdH,EAAAC,EAAAC,cAAA,SACE9B,KAAK,OACL+B,UAAU,eACV2B,YAAY,wCAEd9B,EAAAC,EAAAC,cAAA,SAAO9B,KAAK,SAAS2D,MAAM,WAOvC/B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2DC8BN6B,mLApGX,OACEhC,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAkFfH,EAAAC,EAAAC,cAAA,WAASC,UAAU,iBACjBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,yFA1FK8B,aCeNC,MAff,SAAgBC,GACd,OACEnC,EAAAC,EAAAC,cAACkC,EAAAnC,EAAD,CACEoC,QAAS,IACTC,aAAa,EACbC,mBAAiB,EACjBC,SAAS,eACTC,SAAU,SAAA3C,GAAK,OAAIA,EAAM4C,QACzBC,aAAa,SACbC,cAAc,UACdC,oBAAkB,gDCyBXC,EAAc,CACzBC,KAAM,CACJC,YAAa,cACbC,YAAa,cACbC,YAAa,cACbC,WAAY,aACZC,gBAAiB,kBACjBC,oBAAqB,sBACrBC,UAAW,YACXC,YAAa,gBAIJC,EACC,4BAGDC,EACG,CACZ,CACEhC,MAAO,sCACPiC,UAAW,OACXC,IAAK,QAEP,CACElC,MAAO,SACPiC,UAAW,QACXC,IAAK,SAEP,CACElC,MAAO,yBACPiC,UAAW,UACXC,IAAK,WAEP,CACElC,MAAO,2BACPiC,UAAW,OACXC,IAAK,SApBEF,EAuBG,CACZ,CACEhC,MAAO,2BACPiC,UAAW,OACXC,IAAK,QAEP,CACElC,MAAO,SACPiC,UAAW,QACXC,IAAK,SAEP,CACElC,MAAO,yBACPiC,UAAW,UACXC,IAAK,WAEP,CACElC,MAAO,WACPiC,UAAW,QACXC,IAAK,UA1CEF,EA6CE,CACX,CACEhC,MAAO,wBACPiC,UAAW,OACXC,IAAK,QAEP,CACElC,MAAO,SACPiC,UAAW,QACXC,IAAK,SAEP,CACElC,MAAO,yBACPiC,UAAW,UACXC,IAAK,WAEP,CACElC,MAAO,WACPiC,UAAW,QACXC,IAAK,UClGEC,EAAa,eAACC,EAADC,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAQ,KAAME,EAAdF,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAsB,KAAtB,OAA+B,SAACjF,GACxDA,EAASZ,EAAiB6E,EAAYC,KAAKG,cAC3C,IAAMe,EAAQJ,GAAQG,EAAR,SAAA9E,OAAyB2E,EAAzB,WAAA3E,OAAuC8E,GAAU,GAE/DlF,IACGK,IADH,qDAAAD,OAC4D+E,IACzD7E,KAAK,SAACC,GACLI,QAAQC,IAAIL,EAAIE,MAChBV,EAAS,CACPT,KC9BiB,YD+BjBC,QAASgB,EAAIE,OAEfV,EVtBkC,CAAET,KCVP,0BSkC9BoB,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,GACZM,EAASP,SAIF4F,EAAmB,SAAC9F,GAAD,IAAOyF,EAAPC,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAc,KAAME,EAApBF,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAA4B,KAA5B,sBAAAK,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAqC,SAAAC,EACnE1F,GADmE,IAAAoF,EAAA,OAAAI,EAAApE,EAAAuE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGnE9F,EAASZ,EAAiB6E,EAAYC,KAAKG,cACrCe,EAAQJ,GAAQG,EAAR,SAAA9E,OAAyB2E,EAAzB,WAAA3E,OAAuC8E,GAAU,GAE/DlF,IACGK,IADH,0DAAAD,OAE8Dd,EAF9D,KAAAc,OAEsE+E,IAEnE7E,KAAK,SAACC,GACLR,EAAS,CACPT,KCpDyB,oBDqDzBC,QAAS,CACPkB,KAAMF,EAAIE,KACVnB,UAGJS,EVhDkC,CAAET,KCVP,0BS4D9BoB,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,GACZM,EAASP,OAtBsD,wBAAAmG,EAAAG,SAAAL,MAArC,gBAAAM,GAAA,OAAAV,EAAAW,MAAAC,KAAAjB,YAAA,IA0BnBkB,EAAY,SAAC/D,GAAD,OAAQ,SAACpC,GAChCA,EAASZ,EAAiB6E,EAAYC,KAAKI,aAC3CrE,IACGK,IADH,qDAAAD,OAC4D+B,IACzD7B,KAAK,SAACC,GAAQ,IACL0D,EAAS1D,EAAIE,KAAbwD,KACRlE,EAAS,CAAET,KCvEO,WDuESC,QAAS,CAAE0E,UACtClE,EV/DkC,CAAET,KCVP,0BS2E9BoB,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,GACZM,EAASP,uEEjEF2G,EAAa,SAAAC,GAAM,OAAIC,IAAOD,GAAQE,OAAO,eAS7CC,GAAkB,WAC7B,IAAMzG,EAAQgD,aAAa0D,QAAQ,SAInCxG,IAAMC,SAASC,QAAQ+D,KAAK,gBAAkB,mBAE1CnE,EACFE,IAAMC,SAASC,QAAQC,OAAvB,wBAAAC,OAA2DN,UAEpDE,IAAMC,SAASC,QAAQC,OAAvB,mCC7BHsG,GAASC,KAATD,KASQE,GAPC,SAAAtB,GAAA,IAASuB,EAATvB,EAAGwB,KAAYC,EAAfzB,EAAeyB,KAASC,EAAxBzE,OAAA0E,GAAA,EAAA1E,CAAA+C,EAAA,wBACfnE,EAAAC,EAAAC,cAACqF,GAADnE,OAAA2E,OAAA,GAAUF,EAAV,CAAgBG,MAAO,CAAEC,QAAS,OAAQC,WAAY,YACpDlG,EAAAC,EAAAC,cAACwF,EAAD,CAAMM,MAAO,CAAEG,YAAa,KAC5BnG,EAAAC,EAAAC,cAAA,YAAO0F,KCqBIQ,GArBI,SAAAjC,GAAA,IAAGpB,EAAHoB,EAAGpB,KAAH,OACjB/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAE,qBAAAzB,OAAuB6D,EAAKuD,MAClCtG,EAAAC,EAAAC,cAAA,OACEC,UAAU,wBACVS,IAAKmC,EAAKwD,WAAa/C,EACvB3C,IAAI,KAGNb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,EAAKtB,OAChCzB,EAAAC,EAAAC,cAACsG,EAAA,EAAD,KACExG,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMe,IAAcd,KAAM7C,EAAKzD,KAAKqH,OADhD,IAEE3G,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMiB,IAAkBhB,KAAMX,EAAWlC,EAAK8D,QAF1D,IAGE7G,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMmB,IAAalB,KAAM7C,EAAKgE,0CC8BnCC,GAtCE,SAAA7C,GAAA,IAAGpB,EAAHoB,EAAGpB,KAAMkE,EAAT9C,EAAS8C,cAAerH,EAAxBuE,EAAwBvE,SAAxB,OACfI,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAC5BtH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,aACVS,IAAKmC,EAAKwD,WAAa/C,EACvB3C,IAAI,MAGRb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAE,qBAAAzB,OAAuB6D,EAAKuD,MAClCtG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,EAAKtB,QAElCzB,EAAAC,EAAAC,cAACsG,EAAA,EAAD,KACExG,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMe,IAAcd,KAAM7C,EAAKzD,KAAKqH,OADhD,IAEE3G,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMiB,IAAkBhB,KAAMX,EAAWlC,EAAK8D,QAF1D,IAGE7G,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMmB,IAAalB,KAAM7C,EAAKgE,SAE1C/G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgB4C,EAAKwE,kBACpCvH,EAAAC,EAAAC,cAAA,OACE8F,MAAO,CACLC,QAAS,OACTuB,eAAgB,gBAChBtB,WAAY,aAGbe,GAAiBrH,EAAS0G,MAAQvD,EAAKzD,KAAKgH,KAC3CtG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAE,uBAAAzB,OAAyB6D,EAAKuD,MACpCtG,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CAAQrJ,KAAK,OAAOuH,KAAM3F,EAAAC,EAAAC,cAACwH,GAAA,EAAD,wBCsGzBC,GAvIF,WACX,IAAM9I,EAAWkB,wBACH6H,EAAU/H,sBAAY,SAACC,GAAD,OAAWA,EAAMiD,KAAK6E,QAAlDC,KAFSC,EAGejI,sBAAY,SAACC,GAAD,OAAWA,EAAMiI,QAArDC,EAHSF,EAGTE,QAAS9J,EAHA4J,EAGA5J,WAHA+J,EAQbpI,sBAAY,SAACC,GAAD,OAAWA,EAAMiD,OAHNmF,EALVD,EAKfC,gBAAmBL,KACAM,EANJF,EAMfE,UAAaN,KACOO,EAPLH,EAOfG,WAAcP,KAPCQ,EASyBC,mBAAS,IATlCC,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GASVI,EATUF,EAAA,GASKG,EATLH,EAAA,GAWjBI,oBAAU,WACR9J,EAAS+E,KACT/E,EAASqF,EAAiB,aAAc,EAAG,IAC3CrF,EAASqF,EAAiB,OAAQ,EAAG,IACrCrF,EAASqF,EAAiB,QAAS,EAAG,KAGrC,IAEHyE,oBAAU,WACJf,GAASA,EAAMtG,QAAmC,IAAzBmH,EAAcnH,QACzCoH,EAAiBd,IAGlB,CAACA,IAEJ,IAAMgB,EACJ1K,IAAe4E,EAAYC,KAAKG,aAAc8E,EAEhD,OACEhI,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAMC,SAAUF,GACd5I,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,IACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAC6I,EAAA,EAAD,CAAUC,UAAQ,GACfP,EAAcQ,IAAI,SAAClG,GAAD,OACjB/C,EAAAC,EAAAC,cAACgJ,GAAD,CAAYnG,KAAMA,EAAMY,IAAKZ,EAAKuD,UAKxCtG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAACiJ,GAAA,EAAD,KACEnJ,EAAAC,EAAAC,cAACkJ,EAAA,EAAD,KACEpJ,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAK/B,GAAI,GAAID,GAAI,GAAID,GAAI,GAAID,GAAI,IAC/BnH,EAAAC,EAAAC,cAAA,OACEC,UAAU,aACVS,IAAI,gCACJC,IAAI,MAGRb,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAK/B,GAAI,GAAID,GAAI,GAAID,GAAI,GAAID,GAAI,IAC/BnH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,8BACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YAAd,+BAEFH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uIAGAF,EAAAC,EAAAC,cAAA,+nCAoBZF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAACiJ,GAAA,EAAD,KACEnJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,WAAhB,8CAEFH,EAAAC,EAAAC,cAACkJ,EAAA,EAAD,KACGlB,GACCA,EAAgB5G,OAAS,GACzB4G,EAAgBe,IAAI,SAAClG,GAAD,OAClB/C,EAAAC,EAAAC,cAACoJ,GAAD,CAAUvG,KAAMA,EAAMY,IAAKZ,EAAKuD,SAGtCtG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAG,qBAAT,iBAIJX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAACiJ,GAAA,EAAD,KACEnJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,WAAhB,wBAEFH,EAAAC,EAAAC,cAACkJ,EAAA,EAAD,KACGjB,GACCA,EAAU7G,OAAS,GACnB6G,EAAUc,IAAI,SAAClG,GAAD,OACZ/C,EAAAC,EAAAC,cAACoJ,GAAD,CAAUvG,KAAMA,EAAMY,IAAKZ,EAAKuD,SAGtCtG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAG,qBAAT,iBAIJX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAACiJ,GAAA,EAAD,KACEnJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,WAAhB,wCAEFH,EAAAC,EAAAC,cAACkJ,EAAA,EAAD,KACGhB,GACCA,EAAW9G,OAAS,GACpB8G,EAAWa,IAAI,SAAClG,GAAD,OACb/C,EAAAC,EAAAC,cAACoJ,GAAD,CAAUvG,KAAMA,EAAMY,IAAKZ,EAAKuD,SAGtCtG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAG,qBAAT,6DCrGC4I,GA1BI,SAAApF,GAAA,IAAGpB,EAAHoB,EAAGpB,KAAH,OACjB/C,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAE,qBAAAzB,OAAuB6D,EAAKuD,MAClCtG,EAAAC,EAAAC,cAACsJ,GAAA,EAAD,KACExJ,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAC5BtH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,aACVS,IAAKmC,EAAKwD,WAAa/C,EACvB3C,IAAI,OAIVb,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAKC,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAC5BtH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,EAAKtB,OAChCzB,EAAAC,EAAAC,cAACsG,EAAA,EAAD,KACExG,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMe,IAAcd,KAAM7C,EAAKzD,KAAKqH,OADhD,IAEE3G,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMiB,IAAkBhB,KAAMX,EAAWlC,EAAK8D,QAF1D,IAGE7G,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMmB,IAAalB,KAAM7C,EAAKgE,SAE1C/G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgB4C,EAAKwE,sBCmD7BkC,GAtEE,SAAAtH,GACf,IAAMtD,EAAWkB,wBADO2J,EAEQ7J,sBAAY,SAAAC,GAAK,OAAIA,EAAMiI,QAAnDC,EAFgB0B,EAEhB1B,QAAS9J,EAFOwL,EAEPxL,WAFO4J,EAGWjI,sBAAY,SAAAC,GAAK,OAAIA,EAAMiD,KAAK6E,QAArDA,EAHUE,EAGhBD,KAAa8B,EAHG7B,EAGH6B,UACb/J,EAAaC,sBAAY,SAAAC,GAAK,OAAIA,EAAMR,OAAxCM,SAJgByI,EAMkBC,mBAAS,IAN3BC,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GAMjBI,EANiBF,EAAA,GAMFG,EANEH,EAAA,GAQxBI,oBAAU,WACR9J,EAAS+E,EAAW,EAAG,MAGtB,IAEH+E,oBAAU,WACJf,GAASA,EAAMtG,QAAmC,IAAzBmH,EAAcnH,QACzCoH,EAAiBd,IAIlB,CAACA,IAEJ,IAIMgC,EACJ1L,IAAe4E,EAAYC,KAAKG,aAAc8E,EAE1Cf,EAAgB7F,OAAOC,KAAKzB,GAAU0B,OAAS,EAErD,OACEtB,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAMC,SAAUc,GACd5J,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAEbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAACiJ,GAAA,EAAD,KACEnJ,EAAAC,EAAAC,cAAC6I,EAAA,EAAD,CAAUC,UAAQ,GACfP,EAAcQ,IAAI,SAAAlG,GAAI,OACrB/C,EAAAC,EAAAC,cAAC2J,GAAD,CAAY9G,KAAMA,EAAMY,IAAKZ,EAAKuD,SAGtCtG,EAAAC,EAAAC,cAAC4J,GAAA,EAAD,MACA9J,EAAAC,EAAAC,cAAC6J,GAAA,EAAD,KACGnC,GACCA,EAAMqB,IAAI,SAAAlG,GAAI,OACZ/C,EAAAC,EAAAC,cAACoJ,GAAD,CACEvG,KAAMA,EACNY,IAAKZ,EAAKuD,IACVW,cAAeA,EACfrH,SAAUA,MAIhBI,EAAAC,EAAAC,cAAC8J,GAAA,EAAD,CACEC,KAAK,QACLC,MAAOP,EACPQ,UAnCI,SAAAD,GAAK,4BAAAhL,OAAgBgL,EAAhB,sBAoCTE,SAlCG,SAAAvG,GAAI,OAAIhF,EAAS+E,EAAWC,EAAM,KAmCrCwG,kBAAgB,EAChBC,SAAU,yCC/DlB/E,GAASC,KAATD,KAwDOgF,OAtDf,SAAApG,GAOG,IANDqG,EAMCrG,EANDqG,SACAC,EAKCtG,EALDsG,WACAzC,EAIC7D,EAJD6D,QACA0C,EAGCvG,EAHDuG,YACAvM,EAECgG,EAFDhG,MACAwM,EACCxG,EADDwG,cAEA,OACE3K,EAAAC,EAAAC,cAACqB,EAAA,SAAD,KACGiJ,EAASlJ,OAAS,EACjBtB,EAAAC,EAAAC,cAAC0K,GAAA,EAAD,CACEzK,UAAU,eACV0K,OAAM,GAAA3L,OAAKsL,EAASlJ,OAAd,YACNwJ,WAAW,aACXC,WAAYP,EACZQ,WAAY,SAAAC,GAAG,OACbjL,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACgL,GAAA,EAAD,CACEC,QACEF,EAAI3L,KAAKgH,MAAQmE,EACb,CACEzK,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACE9B,KAAM3F,EAAAC,EAAAC,cAACkL,GAAA,EAAD,MACNhN,KAAK,OACLiN,QAAM,EACNrD,QACE0C,IAAgB5H,EAAYC,KAAKM,qBACjClF,IAAU8M,EAAI3E,KACV0B,EAGNrG,QAAS,kBAAMgJ,EAAcM,EAAI3E,OAVnC,mBAeF,GAENgF,OAAQL,EAAI3L,KAAKqH,KACjB4E,OAAQN,EAAI3L,KAAKiM,OACjBC,QAASP,EAAIrF,KACb6F,SAAUxG,EAAWgG,EAAIpE,YAMjC7G,EAAAC,EAAAC,cAACwL,GAAD,oECrDAC,GAAaC,KAAbD,SAoBOE,GAlBO,SAAA1H,GAAA,IAAGiG,EAAHjG,EAAGiG,SAAU0B,EAAb3H,EAAa2H,SAAUC,EAAvB5H,EAAuB4H,WAAYhK,EAAnCoC,EAAmCpC,MAAnC,OACpB/B,EAAAC,EAAAC,cAAAF,EAAAC,EAAA+L,SAAA,KACEhM,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAACyL,GAAD,CAAUO,KAAM,EAAG9B,SAAUA,EAAUrI,MAAOA,KAEhD/B,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACE0E,SAAS,SACTnE,QAAS+D,EACTpK,QAASmK,EACT1N,KAAK,WAJP,4CCuBSgO,GA9BG,SAAAjI,GAAA,IAAGpB,EAAHoB,EAAGpB,KAAH,OAChB/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAE,qBAAAzB,OAAuB6D,EAAKuD,MAClCtG,EAAAC,EAAAC,cAACkJ,EAAA,EAAD,KACEpJ,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAKlC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG+E,GAAI,GACnCrM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaS,IAAKmC,EAAKwD,UAAW1F,IAAI,OAGzDb,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAKlC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAI+E,GAAI,IACvCrM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,IACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgB4C,EAAKtB,SAOvCzB,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAKlC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC/BtH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKoM,wBAAyB,CAAEC,OAAQxJ,EAAKyI,iBCR1CgB,GAbC,SAAArI,GAAe,IAAZyD,EAAYzD,EAAZyD,MACjB,OACE5H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAd,sCACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACZyH,EAAMqB,IAAI,SAAAlG,GACT,OAAO/C,EAAAC,EAAAC,cAACuM,GAAD,CAAW1J,KAAMA,EAAMY,IAAKZ,EAAKuD,WCkB5CoG,GAAa5J,EAAYC,KAkKhB4J,GAhKI,WAAM,IACf1L,EAAO2L,cAAP3L,GACFpC,EAAWkB,wBAFM2J,EAMnB7J,sBAAY,SAAAC,GAAK,OAAIA,EAAMiD,OAF7B8J,EAJqBnD,EAIrBmD,YACejF,EALM8B,EAKrB9B,MAASC,KALYC,EAOgBjI,sBAAY,SAAAC,GAAK,OAAIA,EAAMiI,QAA1DC,EAPeF,EAOfE,QAAS9J,EAPM4J,EAON5J,WAAYC,EAPN2J,EAOM3J,MAPN8J,EAQapI,sBAAY,SAAAC,GAAK,OAAIA,EAAMR,OAAvDM,EAReqI,EAQfrI,SAAUqH,EARKgB,EAQLhB,cARKoB,EASOC,mBAAS,IAThBC,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GAShByE,EATgBvE,EAAA,GASPwE,EATOxE,EAAA,GAWvBI,oBAAU,WACJ1H,GACFpC,EAASmG,EAAU/D,KAIpB,CAACA,IAEJ0H,oBAAU,WACR9J,EAAS+E,MAER,IAEH,IAxBuBO,EA+DnB0I,GAA4B,GA/DTG,EAAA7I,EAuDrBqG,gBAvDqB,IAAAwC,EAuDV,GAvDUA,EAAAC,EAAA9I,EAwDrBoC,iBAxDqB,IAAA0G,EAwDT,GAxDSA,EAAAC,EAAA/I,EAyDrB1C,aAzDqB,IAAAyL,EAyDb,GAzDaA,EAAAC,EAAAhJ,EA0DrBqH,eA1DqB,IAAA2B,EA0DX,GA1DWA,EAAAC,EAAAjJ,EA2DrB0C,YA3DqB,IAAAuG,EA2Dd,GA3DcA,EAAAC,EAAAlJ,EA4DrB7E,YA5DqB,IAAA+N,EA4Dd,GA5DcA,EAAAC,EAAAnJ,EA6DrBoJ,aA7DqB,IAAAD,EA6Db,GA7DaA,EAAAE,EAAArJ,EA8DrB4C,aA9DqB,IAAAyG,EA8Db,EA9DaA,EAiEjBC,GACJvP,IAAewO,GAAW1J,aAAcgF,EACpC0F,GAAcxP,IAAewO,GAAWpJ,WAAY0E,EACpD2F,GAAgBzP,IAAewO,GAAWnJ,aAAcyE,EAE9D,OACEhI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAEbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBS,IAAK2F,EAAW1F,IAAI,KAE3Db,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,UAAKuB,GACLzB,EAAAC,EAAAC,cAAA,iCAEEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,8BAFf,uCAIEH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,8BAJf,QAKUsB,GAEVzB,EAAAC,EAAAC,cAACsG,EAAA,EAAD,KACExG,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMe,IAAcd,KAAMtG,EAAKqH,OAD3C,IAEE3G,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMiB,IAAkBhB,KAAMX,EAAW4B,KAFrD,IAGE7G,EAAAC,EAAAC,cAACuG,GAAD,CAAUd,KAAMmB,IAAalB,KAAMmB,OAIzC/G,EAAAC,EAAAC,cAACiJ,GAAA,EAAD,KACEnJ,EAAAC,EAAAC,cAACkJ,EAAA,EAAD,KACEpJ,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAKlC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAI+E,GAAI,IACvCrM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKoM,wBAAyB,CAAEC,OAAQf,MAGzCvE,GACCjH,EAAAC,EAAAC,cAACqB,EAAA,SAAD,KACEvB,EAAAC,EAAAC,cAAA,OAAK8F,MAAO,CAAE4H,UAAW,WACvB5N,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAAOqH,MAAM,UACX7N,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACErJ,KAAK,UACLuH,KAAM3F,EAAAC,EAAAC,cAAC4N,GAAA,EAAD,MACN9F,QAAS0F,GACT/L,QA1EG,kBAAM9C,GbqKNkP,EarKwB9M,EbqKzB,eAAA+M,EAAA5M,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAY,SAAA2J,EAAOpP,GAAP,IAAAqP,EAAAnL,EAAA,OAAAsB,EAAApE,EAAAuE,KAAA,SAAA2J,GAAA,cAAAA,EAAAzJ,KAAAyJ,EAAAxJ,MAAA,cAClC9F,EAASZ,EAAiB6E,EAAYC,KAAKO,YADT6K,EAAAzJ,KAAA,EAAAyJ,EAAAxJ,KAAA,EAIT7F,IAAMsP,IAAN,0DAAAlP,OACqC6O,IAL5B,OAI1BG,EAJ0BC,EAAAE,KAOxBtL,EAASmL,EAAS3O,KAAlBwD,KAERlE,EAAS,CAAET,KCrOU,YDqOOC,QAAS,CAAE0E,UACvClE,EVlOoC,CAAET,KCVP,wBSkOC+P,EAAAxJ,KAAA,iBAAAwJ,EAAAzJ,KAAA,GAAAyJ,EAAAG,GAAAH,EAAA,SAYhC1O,QAAQC,IAARyO,EAAAG,IACAzP,EAASP,KACToE,SAAO6L,MAAM,OAAQJ,EAAAG,GAAIJ,SAAS3O,KAAKiP,QAAQC,KAdf,yBAAAN,EAAAvJ,SAAAqJ,EAAA,kBAAZ,gBAAAS,GAAA,OAAAV,EAAAlJ,MAAAC,KAAAjB,YAAA,SAACiK,Ia/FL,mBAMmBR,EAAMjM,OANzB,WAQAtB,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACErJ,KAAK,UACLuH,KAAM3F,EAAAC,EAAAC,cAACyO,GAAA,EAAD,MACNtD,QAAQ,EACRrD,QAAS2F,GACThM,QAlFK,kBAAM9C,GbsLNkP,EatL0B9M,EbsL3B,eAAA2N,EAAAxN,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAY,SAAAuK,EAAOhQ,GAAP,IAAAqP,EAAAnL,EAAA,OAAAsB,EAAApE,EAAAuE,KAAA,SAAAsK,GAAA,cAAAA,EAAApK,KAAAoK,EAAAnK,MAAA,cACpC9F,EAASZ,EAAiB6E,EAAYC,KAAKQ,cADPuL,EAAApK,KAAA,EAAAoK,EAAAnK,KAAA,EAIX7F,IAAMsP,IAAN,4DAAAlP,OACuC6O,IAL5B,OAI5BG,EAJ4BY,EAAAT,KAO1BtL,EAASmL,EAAS3O,KAAlBwD,KAERlE,EAAS,CAAET,KCtPY,cDsPOC,QAAS,CAAE0E,UACzClE,EVpPoC,CAAET,KCVP,wBSoPG0Q,EAAAnK,KAAA,iBAAAmK,EAAApK,KAAA,GAAAoK,EAAAR,GAAAQ,EAAA,SAYlCrP,QAAQC,IAAIoP,EAAAR,GAAIJ,SAAS3O,MACzBV,EAASP,KACToE,SAAO6L,MAAM,OAAQO,EAAAR,GAAIJ,SAAS3O,KAAKiP,QAAQC,KAdb,yBAAAK,EAAAlK,SAAAiK,EAAA,kBAAZ,gBAAAE,GAAA,OAAAH,EAAA9J,MAAAC,KAAAjB,YAAA,SAACiK,IazGP,qBAOqBR,EAAMjM,OAP3B,aAWJtB,EAAAC,EAAAC,cAAC4J,GAAA,EAAD,OAGJ9J,EAAAC,EAAAC,cAAC8O,GAAD,CACExE,SAAUA,EACVC,WAAY7K,EAAS0G,IACrB0B,QAASA,EACT0C,YAAaxM,EACbC,MAAOA,EACPwM,cA3GgB,SAAAsE,GAAS,OACnCpQ,Eb2J6B,SAACkP,EAAQkB,GAAT,sBAAAC,EAAA9N,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAuB,SAAA6K,EAAOtQ,GAAP,IAAAqP,EAAAnL,EAAA,OAAAsB,EAAApE,EAAAuE,KAAA,SAAA4K,GAAA,cAAAA,EAAA1K,KAAA0K,EAAAzK,MAAA,cACtD9F,EAASZ,EAAiB6E,EAAYC,KAAKM,oBAAqB4L,IADVG,EAAA1K,KAAA,EAAA0K,EAAAzK,KAAA,EAI7B7F,IAAMuQ,OAAN,6DAAAnQ,OACwC6O,EADxC,KAAA7O,OACkD+P,IALrB,OAI9Cf,EAJ8CkB,EAAAf,KAO5CtL,EAASmL,EAAS3O,KAAlBwD,KAERlE,EAAS,CAAET,KCjNoB,sBDiNOC,QAAS,CAAE0E,UACjDlE,EVhNoC,CAAET,KCVP,wBSgNqBgR,EAAAzK,KAAA,iBAAAyK,EAAA1K,KAAA,GAAA0K,EAAAd,GAAAc,EAAA,SAYpD3P,QAAQC,IAAR0P,EAAAd,IACAzP,EAASP,KACToE,SAAO6L,MAAM,OAAQ,2CAd+B,yBAAAa,EAAAxK,SAAAuK,EAAA,kBAAvB,gBAAAG,GAAA,OAAAJ,EAAApK,MAAAC,KAAAjB,YAAA,Ga3JpByL,CAAkBtO,EAAIgO,OA6GtBhI,GACCjH,EAAAC,EAAAC,cAACqB,EAAA,SAAD,KACEvB,EAAAC,EAAAC,cAACgL,GAAA,EAAD,CACEK,OAAQvL,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQ3K,IAAKhB,EAAS2L,OAAQ1K,IAAKjB,EAAS+G,OACpD6E,QACExL,EAAAC,EAAAC,cAACsP,GAAD,CACEpF,SAlHQ,SAAAqF,GAAC,OAAI1C,EAAW0C,EAAEC,OAAO3N,QAmHjC+J,SAlHE,SAAA2D,GACpBA,EAAEE,iBACF5C,EAAW,IACXlO,EbmIyB,SAACkP,EAAQjB,GAAT,sBAAA8C,EAAAxO,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAqB,SAAAuL,EAAOhR,GAAP,IAAAqP,EAAAnL,EAAA,OAAAsB,EAAApE,EAAAuE,KAAA,SAAAsL,GAAA,cAAAA,EAAApL,KAAAoL,EAAAnL,MAAA,cAChD9F,EAASZ,EAAiB6E,EAAYC,KAAKC,cADK8M,EAAApL,KAAA,EAAAoL,EAAAnL,KAAA,EAIvB7F,IAAMiE,KAAN,6DAAA7D,OACwC6O,GAC7DjB,GAN4C,OAIxCoB,EAJwC4B,EAAAzB,KAQtCtL,EAASmL,EAAS3O,KAAlBwD,KAERlE,EAAS,CAAET,KClMgB,kBDkMOC,QAAS,CAAE0E,UAC7ClE,EV9LoC,CAAET,KCVP,wBS6Le0R,EAAAnL,KAAA,iBAAAmL,EAAApL,KAAA,GAAAoL,EAAAxB,GAAAwB,EAAA,SAa9CrQ,QAAQC,IAARoQ,EAAAxB,IACA5L,SAAO6L,MAAM,OAAQ,2CACrB1P,EAASP,KAfqC,yBAAAwR,EAAAlL,SAAAiL,EAAA,kBAArB,gBAAAE,GAAA,OAAAH,EAAA9K,MAAAC,KAAAjB,YAAA,GanIhBkM,CAAc/O,EAAI,CAAE2E,KAAMkH,MAgHjBf,WAAY0B,GACZ1L,MAAO+K,OAMjB9M,EAAAC,EAAAC,cAAC4J,GAAA,EAAD,OAEF9J,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAKlC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAG+E,GAAI,GACtCrM,EAAAC,EAAAC,cAAC+P,GAAD,CAASrI,MAAOA,qECpFbsI,GArFD,WACZ,IAAMrR,EAAWkB,wBACXoQ,EAAUC,cAFE1G,EAGqB7J,sBAAY,SAAAC,GAAK,OAAIA,EAAMiI,QAA1DC,EAHU0B,EAGV1B,QAAS9J,EAHCwL,EAGDxL,WAAYqQ,EAHX7E,EAGW6E,MAHXlG,EAIQC,mBAAS,CACjC+H,MAAO,GACPC,SAAU,KANM/H,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GAIXvI,EAJWyI,EAAA,GAIJgI,EAJIhI,EAAA,GASZ6B,EAAW,SAAAqF,GACfc,EAASnP,OAAAoP,EAAA,EAAApP,CAAA,GACJtB,EADGsB,OAAAqP,GAAA,EAAArP,CAAA,GAELqO,EAAEC,OAAO/I,KAAO8I,EAAEC,OAAO3N,UAaxB2O,EAA8B,UAAfxS,GAAyB8J,EAE9C,OACEhI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,QAAM4L,SAbW,SAAA2D,GACnBA,EAAEE,iBACF,IAAMrQ,EAAO,CACX+Q,MAAOvQ,EAAMuQ,MACbC,SAAUxQ,EAAMwQ,UAElBzR,EpBxBiB,SAAC8R,EAAiBR,GAAlB,OAA8B,SAACtR,GAAa,IACvDwR,EAAoBM,EAApBN,MAAOC,EAAaK,EAAbL,SAEfzR,EAASZ,EAAiB,UAE1Ba,IACGiE,KAAK,0DAA2D,CAC/DsN,QACAC,aAEDlR,KAAK,SAACC,GACL,IAAMT,EAAQS,EAAIE,KAAKX,MAIvB,OAHAgD,aAAagP,QAAQ,QAAShS,GAC9BE,IAAMC,SAASC,QAAQC,OAAvB,wBAAAC,OAA2DN,GAEpDE,IAAMK,IAAI,wDAElBC,KAAK,SAACC,GACL,IAAMC,EAAOD,EAAIE,KAEjBV,EAAS,CAAET,KC5BY,gBD4BSC,QAAS,CAAEiB,UAC3CT,EJpBkC,CAAET,KCVP,wBG+B7B+R,EAAQU,KAAK,OAEdrR,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,GACZM,EAASP,EAAiBC,EAAI2P,SAAS3O,UoBFhCuR,CAAMxR,EAAM6Q,MAQhB5B,GAASA,EAAMA,OAASA,EAAMA,MAAM8B,OACnCrQ,EAAAC,EAAAC,cAAC6Q,GAAA,EAAD,CAAO5Q,UAAU,QAAQ6Q,QAAQ,UAC9BzC,EAAMA,MAAM8B,MAAM5B,KAGtBF,GAASA,EAAM+B,UACdtQ,EAAAC,EAAAC,cAAC6Q,GAAA,EAAD,CAAO5Q,UAAU,QAAQ6Q,QAAQ,UAC9BzC,EAAM+B,SAAS7B,KAGnBF,GAASA,EAAMC,SAAWD,EAAMC,QAAQC,KACvCzO,EAAAC,EAAAC,cAAC6Q,GAAA,EAAD,CAAO5Q,UAAU,QAAQ6Q,QAAQ,UAC9BzC,EAAMC,QAAQC,KAGnBzO,EAAAC,EAAAC,cAAC+Q,GAAA,EAAD,CAAY9Q,UAAU,QACpBH,EAAAC,EAAAC,cAAC+Q,GAAA,EAAWC,QAAZ,KACElR,EAAAC,EAAAC,cAAC+Q,GAAA,EAAW1L,KAAZ,CAAiBtE,GAAG,gBAClBjB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBAGjBH,EAAAC,EAAAC,cAACiR,GAAA,EAAD,CACErP,YAAY,QACZsP,aAAW,QACXzK,KAAK,QACL0K,mBAAiB,eACjBjH,SAAUA,KAIdpK,EAAAC,EAAAC,cAAC+Q,GAAA,EAAD,CAAY9Q,UAAU,QACpBH,EAAAC,EAAAC,cAAC+Q,GAAA,EAAWC,QAAZ,KACElR,EAAAC,EAAAC,cAAC+Q,GAAA,EAAW1L,KAAZ,CAAiBtE,GAAG,QAClBjB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAGjBH,EAAAC,EAAAC,cAACiR,GAAA,EAAD,CACErP,YAAY,qBACZ1D,KAAK,WACLgT,aAAW,WACXzK,KAAK,WACL0K,mBAAiB,OACjBjH,SAAUA,KAIdpK,EAAAC,EAAAC,cAACoR,GAAA,EAAD,CAAQlT,KAAK,UACVsS,GAAgB1Q,EAAAC,EAAAC,cAACqR,GAAA,EAAD,CAASC,UAAU,SAASR,QAAQ,YADvD,+BCiBOS,GAnGE,WACf,IAAM5S,EAAWkB,wBACXoQ,EAAUC,cAFK/H,EAGKC,mBAAS,CACjC+H,MAAO,GACPC,SAAU,GACVoB,SAAU,GACVC,gBAAiB,KAPEpJ,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GAGdvI,EAHcyI,EAAA,GAGPgI,EAHOhI,EAAA,GAUf6B,EAAW,SAAAqF,GACfc,EAASnP,OAAAoP,EAAA,EAAApP,CAAA,GACJtB,EADGsB,OAAAqP,GAAA,EAAArP,CAAA,GAELqO,EAAEC,OAAO/I,KAAO8I,EAAEC,OAAO3N,UAe9B,OACE/B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,QAAM4L,SAbW,SAAA2D,GACnBA,EAAEE,iBACFlQ,QAAQC,IAAII,GACZ,IAAMR,EAAO,CACX+Q,MAAOvQ,EAAMuQ,MACbqB,SAAU5R,EAAM4R,SAChBpB,SAAUxQ,EAAMwQ,SAChBqB,gBAAiB7R,EAAM6R,iBAEzB9S,ErBQoB,SAAC8R,EAAiBR,GAAlB,OAA8B,SAACtR,GAAa,IAC1D6S,EAA+Cf,EAA/Ce,SAAUrB,EAAqCM,EAArCN,MAAOC,EAA8BK,EAA9BL,SAAUqB,EAAoBhB,EAApBgB,gBACnC7S,IACGiE,KAAK,6DAA8D,CAClE2O,WACArB,QACAC,WACAqB,oBAEDvS,KAAK,SAACC,GACL,IAAMT,EAAQS,EAAIE,KAAKX,MAIvB,OAHAgD,aAAagP,QAAQ,QAAShS,GAC9BE,IAAMC,SAASC,QAAQC,OAAvB,wBAAAC,OAA2DN,GAEpDE,IAAMK,IAAI,wDAElBC,KAAK,SAACC,GACL,IAAMC,EAAOD,EAAIE,KAEjBV,EAAS,CAAET,KCzDY,gBDyDSC,QAAS,CAAEiB,UAC3C6Q,EAAQU,KAAK,OAEdrR,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,MqB/BLqT,CAAStS,EAAM6Q,MAKpBnQ,EAAAC,EAAAC,cAAC+Q,GAAA,EAAD,CAAY9Q,UAAU,QACpBH,EAAAC,EAAAC,cAAC+Q,GAAA,EAAWC,QAAZ,KACElR,EAAAC,EAAAC,cAAC+Q,GAAA,EAAW1L,KAAZ,CAAiBtE,GAAG,YAClBjB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAGjBH,EAAAC,EAAAC,cAACiR,GAAA,EAAD,CACErP,YAAY,kCACZ1D,KAAK,OACLgT,aAAW,WACXzK,KAAK,WACL0K,mBAAiB,WACjBjH,SAAUA,KAGdpK,EAAAC,EAAAC,cAAC+Q,GAAA,EAAD,CAAY9Q,UAAU,QACpBH,EAAAC,EAAAC,cAAC+Q,GAAA,EAAWC,QAAZ,KACElR,EAAAC,EAAAC,cAAC+Q,GAAA,EAAW1L,KAAZ,CAAiBtE,GAAG,gBAClBjB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBAGjBH,EAAAC,EAAAC,cAACiR,GAAA,EAAD,CACErP,YAAY,QACZ1D,KAAK,QACLgT,aAAW,QACXzK,KAAK,QACL0K,mBAAiB,eACjBjH,SAAUA,KAGdpK,EAAAC,EAAAC,cAAC+Q,GAAA,EAAD,CAAY9Q,UAAU,QACpBH,EAAAC,EAAAC,cAAC+Q,GAAA,EAAWC,QAAZ,KACElR,EAAAC,EAAAC,cAAC+Q,GAAA,EAAW1L,KAAZ,CAAiBtE,GAAG,QAClBjB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAGjBH,EAAAC,EAAAC,cAACiR,GAAA,EAAD,CACErP,YAAY,qBACZ1D,KAAK,WACLgT,aAAW,WACXzK,KAAK,WACL0K,mBAAiB,OACjBjH,SAAUA,KAGdpK,EAAAC,EAAAC,cAAC+Q,GAAA,EAAD,CAAY9Q,UAAU,QACpBH,EAAAC,EAAAC,cAAC+Q,GAAA,EAAWC,QAAZ,KACElR,EAAAC,EAAAC,cAAC+Q,GAAA,EAAW1L,KAAZ,CAAiBtE,GAAG,eAClBjB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAGjBH,EAAAC,EAAAC,cAACiR,GAAA,EAAD,CACErP,YAAY,+CACZ1D,KAAK,WACLgT,aAAW,kBACXzK,KAAK,kBACL0K,mBAAiB,cACjBjH,SAAUA,KAGdpK,EAAAC,EAAAC,cAAA,UAAQ9B,KAAK,SAAS+B,UAAU,qBAAhC,2BC3EO0R,GAlBM,SAAA1N,GAAuC,IAAzBlC,EAAyBkC,EAApC2N,UAAyBjM,EAAWzE,OAAA0E,GAAA,EAAA1E,CAAA+C,EAAA,eAClD6D,EAAYnI,sBAAY,SAAAC,GAAK,OAAIA,EAAMiI,QAAvCC,QACAf,EAAkBpH,sBAAY,SAAAC,GAAK,OAAIA,EAAMR,OAA7C2H,cAER,OACEjH,EAAAC,EAAAC,cAAC6R,EAAA,EAAD3Q,OAAA2E,OAAA,GACMF,EADN,CAEEmM,OAAQ,SAAA7P,GAAK,OACV6F,GAAYf,EAGXjH,EAAAC,EAAAC,cAAC+B,EAAcE,GAFfnC,EAAAC,EAAAC,cAAC6R,EAAA,EAAD,CAAUpR,GAAG,oBC8IRsR,GA/IG,SAAC9P,GACjB,IAAMtD,EAAWkB,wBACH6H,EAAU/H,sBAAY,SAACC,GAAD,OAAWA,EAAMiD,KAAK6E,QAAlDC,KACAjI,EAAaC,sBAAY,SAACC,GAAD,OAAWA,EAAMR,OAA1CM,SAHmBqI,EAIKpI,sBAAY,SAACC,GAAD,OAAWA,EAAMiI,QAArDC,EAJmBC,EAInBD,QAAS9J,EAJU+J,EAIV/J,WAEjByK,oBAAU,WACRuJ,KAGC,IAEH,IAAMA,EAAiB,eAAA/N,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAG,SAAAC,IAAA,OAAAF,EAAApE,EAAAuE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAClB9F,EAAS+E,EAAW,EAAG,IADL,wBAAAa,EAAAG,SAAAL,MAAH,yBAAAJ,EAAAW,MAAAC,KAAAjB,YAAA,GAMjBmD,EAAgB7F,OAAOC,KAAKzB,GAAU0B,OAAS,EAE/CwH,EACJ5K,IAAe4E,EAAYC,KAAKG,aAAc8E,EAEhD,OACEhI,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAMC,SAAUA,GACd9I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAACsJ,GAAA,EAAD,KACExJ,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAKC,GAAG,KAAKE,GAAG,IAAID,GAAG,KAAKE,GAAG,KAC7BtH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAACsJ,GAAA,EAAD,KACExJ,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAKC,GAAG,IAAIE,GAAG,IAAID,GAAG,IAAIE,GAAG,KAC3BtH,EAAAC,EAAAC,cAAA,OACEC,UAAU,yBACVS,IAAKhB,EAAS2L,QAAU,2BACxB1K,IAAKjB,EAAS+G,MAAQ,UAG1B3G,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAKC,GAAG,IAAIE,GAAG,IAAID,GAAG,IAAIE,GAAG,KAC3BtH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,UAAKN,EAAS+G,MAAQ,QACtB3G,EAAAC,EAAAC,cAAA,yCACAF,EAAAC,EAAAC,cAAA,yCAKRF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAd,sCACAH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,yCACfH,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,0CACAF,EAAAC,EAAAC,cAAA,yCACAF,EAAAC,EAAAC,cAAA,8CACAF,EAAAC,EAAAC,cAAA,8BAGJF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,sBAEEF,EAAAC,EAAAC,cAAA,WAFF,mBAGYF,EAAAC,EAAAC,cAAA,WAHZ,wBAIeF,EAAAC,EAAAC,cAAA,YAEfF,EAAAC,EAAAC,cAAA,6CAEEF,EAAAC,EAAAC,cAAA,WAFF,sBAIEF,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAAA,wBAEFF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,sBAEEF,EAAAC,EAAAC,cAAA,WAFF,mBAGYF,EAAAC,EAAAC,cAAA,WAHZ,wBAIeF,EAAAC,EAAAC,cAAA,YAEfF,EAAAC,EAAAC,cAAA,6CAEEF,EAAAC,EAAAC,cAAA,WAFF,sBAIEF,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAAA,2BAMRF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAd,oCACAH,EAAAC,EAAAC,cAACsJ,GAAA,EAAD,KACG5B,GAASA,EAAMtG,OAAS,EACvBsG,EAAMqB,IAAI,SAAClG,GAAD,OACR/C,EAAAC,EAAAC,cAACoJ,GAAD,CACEvG,KAAMA,EACNY,IAAKZ,EAAKuD,IACVW,cAAeA,EACfrH,SAAUA,MAIdI,EAAAC,EAAAC,cAAA,kEAKRF,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAKC,GAAG,KAAKE,GAAG,IAAID,GAAG,KAAKE,GAAG,IAAInH,UAAU,QAC3CH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,+CACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAqBgS,cAAY,SAC9CnS,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAG,aAAT,qBAEFX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAqBgS,cAAY,SAC9CnS,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAM1F,GAAG,KACTX,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACErJ,KAAK,OACLgU,MAAM,SACNjS,UAAU,oCACVwB,QA/GW,kBAAM9C,EAASL,EAAU,yBA2GtC,2CAWJwB,EAAAC,EAAAC,cAAC+P,GAAD,CAASrI,MAAOA,kDChJjByK,GAAc,SAACtQ,EAAOuQ,GAAU,IAAAjK,EAEGC,mBAASvG,GAFZwG,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GAElCkK,EAFkChK,EAAA,GAElBiK,EAFkBjK,EAAA,GAqBzC,OAjBAI,oBACI,WAEI,IAAM8J,EAAUC,WAAW,WACvBF,EAAkBzQ,IACnBuQ,GAKH,OAAO,WACHK,aAAaF,KAGrB,CAAC1Q,EAAOuQ,IAGLC,GCjBHK,GAAWC,KAAXD,OACArN,GAASC,KAATD,KAEAuN,GAAiBrP,EAEnBsP,GAAU,eAAA5O,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAG,SAAAC,EAAMyO,GAAN,IAAAC,EAAA/E,EAAA,OAAA7J,EAAApE,EAAAuE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACbsO,EAAS,GADIxO,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIQ7F,IAAMK,IAAN,oEAAAD,OAC+C8T,IALvD,cAIT9E,EAJSzJ,EAAA4J,KAAA5J,EAAAE,KAAA,EAOAuJ,EAAS3O,KAAK0T,OAPd,OASfA,GAFAA,EAPexO,EAAA4J,MASCpF,IAAI,SAAAiK,GAAI,MAAK,CAC3BtN,KAAMsN,EAAKvM,KACX5E,MAAOmR,EAAKjS,MAXCwD,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA6J,GAAA7J,EAAA,SAcfhF,QAAQC,IAAR+E,EAAA6J,IAde,eAAA7J,EAAA0O,OAAA,SAiBVF,GAjBU,yBAAAxO,EAAAG,SAAAL,EAAA,kBAAH,gBAAAM,GAAA,OAAAV,EAAAW,MAAAC,KAAAjB,YAAA,GAoBVsP,GAAgB,eAAAxD,EAAAxO,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAG,SAAAuL,EAAOqD,EAAMG,GAAb,IAAAC,EAAAC,EAAArF,EAAAsF,EAAA,OAAAnP,EAAApE,EAAAuE,KAAA,SAAAsL,GAAA,cAAAA,EAAApL,KAAAoL,EAAAnL,MAAA,cACnB2O,EAAS,GACTC,EAAU,GAEdF,EAAWA,EAASI,KAAK,MAJF3D,EAAApL,KAAA,EAAAoL,EAAAnL,KAAA,EAOE7F,IAAMiE,KAAN,kEAAA7D,OAC6CgU,GAClE,CAAEI,OAAQD,GACV,CAAErU,QAAS,CAAE0U,eAAgB,sBAVV,OAOfxF,EAPe4B,EAAAzB,KAYrBiF,EAASpF,EAAS3O,KAAK+T,OACjBE,EAAmBtF,EAAS3O,KAAKiU,iBAEvCD,EAAUD,EAAOrK,IAAI,SAAC0K,EAAIC,GAAL,OACnBA,IAAUN,EAAOhS,OAAS,EACtB,CACEuS,KAAMF,EAAGhN,KACThG,GAAI2S,EAAO,GAAG3M,KACdmN,KAAI,GAAA5U,OAAKsU,EAAiBI,GAAO,GAA7B,QACJjQ,IAAG,IAAAzE,OAAMyU,EAAGrN,IAAT,KAAApH,OAAgBoU,EAAO,GAAGhN,MAE/B,CACEuN,KAAMF,EAAGhN,KACThG,GAAI2S,EAAOM,EAAQ,GAAGjN,KACtBmN,KAAI,GAAA5U,OAAKsU,EAAiBI,GAAOA,EAAQ,GAArC,QACJjQ,IAAG,GAAAzE,OAAKyU,EAAGrN,IAAR,KAAApH,OAAeoU,EAAOM,EAAQ,GAAGtN,QA3BvBwJ,EAAAnL,KAAA,iBAAAmL,EAAApL,KAAA,GAAAoL,EAAAxB,GAAAwB,EAAA,SA+BrBrQ,QAAQC,IAARoQ,EAAAxB,IA/BqB,eAAAwB,EAAAqD,OAAA,SAkChBI,GAlCgB,yBAAAzD,EAAAlL,SAAAiL,EAAA,kBAAH,gBAAAE,EAAAT,GAAA,OAAAM,EAAA9K,MAAAC,KAAAjB,YAAA,GAqChBiQ,GAAa,eAAA7E,EAAA9N,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAG,SAAA6K,EAAM+D,GAAN,IAAAc,EAAA9F,EAAA,OAAA7J,EAAApE,EAAAuE,KAAA,SAAA4K,GAAA,cAAAA,EAAA1K,KAAA0K,EAAAzK,MAAA,cAChBqP,EAAS,GADO5E,EAAA1K,KAAA,EAAA0K,EAAAzK,KAAA,EAIK7F,IAAMK,IAAN,qDAAAD,OACgCgU,IALrC,OAIZhF,EAJYkB,EAAAf,KAOlB2F,EAAS9F,EAAS3O,KAAK2T,KAPL9D,EAAAzK,KAAA,gBAAAyK,EAAA1K,KAAA,EAAA0K,EAAAd,GAAAc,EAAA,SASlB3P,QAAQC,IAAR0P,EAAAd,IATkB,eAAAc,EAAA+D,OAAA,SAYba,GAZa,yBAAA5E,EAAAxK,SAAAuK,EAAA,iBAAH,gBAAAT,GAAA,OAAAQ,EAAApK,MAAAC,KAAAjB,YAAA,GAgKJmQ,GAjJK,WAAM,IAAAC,EACTC,KAAKC,UAAbC,EADiBjT,OAAAoH,EAAA,EAAApH,CAAA8S,EAAA,MAAA7L,EAEIC,mBAAS,IAFbC,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GAEjB4K,EAFiB1K,EAAA,GAET+L,EAFS/L,EAAA,GAAAgM,EAGUjM,mBAAS,MAHnBkM,EAAApT,OAAAoH,EAAA,EAAApH,CAAAmT,EAAA,GAGjBE,EAHiBD,EAAA,GAGNE,EAHMF,EAAA,GAAAG,EAIYrM,mBAAS,IAJrBsM,EAAAxT,OAAAoH,EAAA,EAAApH,CAAAuT,EAAA,GAIjBE,EAJiBD,EAAA,GAILE,EAJKF,EAAA,GAKlBG,EAAqB1C,GAAYwC,EAAY,KAL3BG,EAMkB1M,oBAAS,GAN3B2M,EAAA7T,OAAAoH,EAAA,EAAApH,CAAA4T,EAAA,GAMjBE,EANiBD,EAAA,GAMFE,EANEF,EAAA,GAAAG,EAO4B9M,oBAAS,GAPrC+M,EAAAjU,OAAAoH,EAAA,EAAApH,CAAAgU,EAAA,GAOjBE,EAPiBD,EAAA,GAOGE,EAPHF,EAAA,GAAAG,EAQsBlN,mBAAS,MAR/BmN,EAAArU,OAAAoH,EAAA,EAAApH,CAAAoU,EAAA,GAQjBE,EARiBD,EAAA,GAQAE,EARAF,EAAA,GAAAG,EASsBtN,mBAAS,IAT/BuN,EAAAzU,OAAAoH,EAAA,EAAApH,CAAAwU,EAAA,GASjBE,EATiBD,EAAA,GASAE,EATAF,EAAA,GAAAG,EAUA1N,mBAAS,IAVT2N,EAAA7U,OAAAoH,EAAA,EAAApH,CAAA4U,EAAA,GAUjB9C,EAViB+C,EAAA,GAUXC,EAVWD,EAAA,GAAAE,EAWc7N,oBAAS,GAXvB8N,EAAAhV,OAAAoH,EAAA,EAAApH,CAAA+U,EAAA,GAWjBE,EAXiBD,EAAA,GAWJE,EAXIF,EAAA,GAaxBzN,oBAAU,WACJoM,IACFT,EAAU,IACVa,GAAiB,GAEjBpC,GAAWgC,GAAoB3V,KAAK,SAAA6T,GAClCqB,EAAUrB,GACVkC,GAAiB,OAGpB,CAACJ,IAEJ,IAuCMwB,EAAe,CAAET,kBAAiB1L,SAtBjB,SAAA0L,GAAe,OAAIC,EAAmBD,KA6BvDU,EACJtD,GAAQA,EAAKI,OACTJ,EAAKI,OAAOrK,IAAI,SAAA0K,GAAE,OAAAvS,OAAAoP,EAAA,EAAApP,CAAA,GAAUuS,EAAG8C,MAAb,CAAoB9S,IAAKgQ,EAAG8C,MAAMnQ,QACpD,GACN,OACEtG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC+L,GAAA,EAAD,CAAMoI,KAAMA,EAAMqC,SAlCI,SAAAC,GAAU,IAExB5U,EACN4U,EADFzD,KAAQnR,MAEV4T,EAAmB,IACnBJ,GAAsB,GAEtBnC,GAAiBrR,EAAO+T,GACrB1W,KAAK,SAAAkU,GACJA,EAAOsD,QAAQ,EAAG,GAClBjB,EAAmBrC,GACnBiC,GAAsB,GACtBQ,EAAmB,MAEpBvW,MAAM,SAAAjB,GACLkB,QAAQC,IAAInB,GACZgX,GAAsB,GACtBQ,EAAmB,QAkBnB/V,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,CACEiF,KAAK,OACLkQ,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,uDAEnC/W,EAAAC,EAAAC,cAAC8W,GAAA,EAAD,CACEC,cAAY,EACZlV,MAAO0S,EACP3S,YAAY,cACZoV,YAAU,EACVC,gBAAiBjC,EAAgBlV,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAMoB,KAAK,UAAa,KACzDmN,cAAc,EACdC,SAhDQ,SAAAtV,GAAK,OAAI+S,EAAc/S,IAiD/BqI,SAjEqB,SAAA4D,GAAe,IAAZjM,EAAYiM,EAAZjM,MAChCmU,EAAQ,IACRI,GAAe,GAEfvC,GAAchS,GACX3C,KAAK,SAAA8T,GACJgD,EAAQhD,GACRoD,GAAe,KAEhB9W,MAAM,SAAAjB,GACLkB,QAAQC,IAAInB,GACZ+X,GAAe,KAGnB5B,EAAa3S,IAoDLiE,MAAO,CAAEsR,MAAO,SAEfrE,EAAOhK,IAAI,SAAAsO,GAAC,OACXvX,EAAAC,EAAAC,cAAC0S,GAAD,CAAQjP,IAAK4T,EAAExV,OAAQwV,EAAE3R,UAI9BkQ,EAAgBxU,OAAS,GACxBtB,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACErJ,KAAK,UACL+N,SAAS,SACTnE,QAASsN,GAHX,sCAWNtV,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAMC,SAAUuN,GACdrW,EAAAC,EAAAC,cAACsX,GAAA,EAAD,CACEjB,aAAcA,EACdkB,QAAS3E,GACT/H,WAAYyL,EACZxM,YAAY,IAEb0L,GAAmBA,EAAgBpU,OAAS,GAC3CtB,EAAAC,EAAAC,cAACqB,EAAA,SAAD,KACEvB,EAAAC,EAAAC,cAAC4J,GAAA,EAAD,MACA9J,EAAAC,EAAAC,cAACsX,GAAA,EAAD,CACE/V,MAAO,kBAAMzB,EAAAC,EAAAC,cAACwX,GAAD,CAAMC,QAAM,GAAZ,wDACb5M,WAAY2K,EACZ1L,YAAY,EACZyN,QAAS,CACP,CACEhW,MAAO,mCACPiC,UAAW,OACXC,IAAK,QAEP,CACElC,MAAO,2BACPiC,UAAW,KACXC,IAAK,aCtMfiP,GAAWC,KAAXD,OACAgF,GAAgBpS,KAAhBoS,MAAOrS,GAASC,KAATD,KACPsS,GAAYC,KAAZD,QAEA/E,GAA4CrP,EAA9BsU,GAA8BtU,EAAhBuU,GAAgBvU,EAE9CwU,GAAyB,SAAC7Z,EAAM8U,GACpC,OAAI9R,OAAOC,KAAK6R,GAAM5R,OAAS,EAChB,WAATlD,EACK8U,EAAKI,OAAOrK,IAAI,SAAC0K,GAAD,OAAAvS,OAAAoP,EAAA,EAAApP,CAAA,GAAcuS,EAAd,CAAkBhQ,IAAKgQ,EAAGrN,SAEjDlI,EAAOA,EAAK8Z,MAAM,GAAI,GAEfhF,EAAI,GAAAhU,OAAId,EAAJ,MACR+Z,OAAO,SAACC,GAAD,OAAQA,EAAGha,KAClB6K,IAAI,SAAClH,GACJ,OAAOX,OAAAoP,EAAA,EAAApP,CAAA,GACFW,EAAM3D,GADX,CAEEia,MACErY,EAAAC,EAAAC,cAAA,OACEW,IAAI,QACJD,IAAKmB,EAAM3D,GAAMia,MACjBrS,MAAO,CAAEsR,MAAO,OAAQgB,SAAU,WAGtC3U,IAAK5B,EAAM3D,GAAMkI,SAMpB,IAGHiS,GAAkB,eAAApU,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAG,SAAAC,EAAOiU,EAAQC,GAAf,IAAAvF,EAAAhF,EAAA,OAAA7J,EAAApE,EAAAuE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACrBuO,EAAO,GADczO,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIA7F,IAAMK,IAAN,mEAAAD,OAC8CsZ,EAD9C,KAAAtZ,OACwDuZ,IALxD,OAIjBvK,EAJiBzJ,EAAA4J,KAOvB6E,EAAOhF,EAAS3O,KAAK2T,KAPEzO,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAA6J,GAAA7J,EAAA,SASvBhF,QAAQC,IAAR+E,EAAA6J,IATuB,eAAA7J,EAAA0O,OAAA,SAYlBD,GAZkB,yBAAAzO,EAAAG,SAAAL,EAAA,iBAAH,gBAAAM,EAAAkL,GAAA,OAAA5L,EAAAW,MAAAC,KAAAjB,YAAA,GAelBiP,GAAU,eAAAnD,EAAAxO,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAG,SAAAuL,EAAOmD,GAAP,IAAAC,EAAA/E,EAAA,OAAA7J,EAAApE,EAAAuE,KAAA,SAAAsL,GAAA,cAAAA,EAAApL,KAAAoL,EAAAnL,MAAA,cACbsO,EAAS,GADInD,EAAApL,KAAA,EAAAoL,EAAAnL,KAAA,EAIQ7F,IAAMK,IAAN,oEAAAD,OAC+C8T,IALvD,cAIT9E,EAJS4B,EAAAzB,KAAAyB,EAAAnL,KAAA,EAOAuJ,EAAS3O,KAAK0T,OAPd,OASfA,GAFAA,EAPenD,EAAAzB,MASCpF,IAAI,SAACiK,GAAD,MAAW,CAC7BtN,KAAMsN,EAAKvM,KACX5E,MAAOmR,EAAKjS,MAXC6O,EAAAnL,KAAA,iBAAAmL,EAAApL,KAAA,GAAAoL,EAAAxB,GAAAwB,EAAA,SAcfrQ,QAAQC,IAARoQ,EAAAxB,IAde,eAAAwB,EAAAqD,OAAA,SAiBVF,GAjBU,yBAAAnD,EAAAlL,SAAAiL,EAAA,kBAAH,gBAAAP,GAAA,OAAAM,EAAA9K,MAAAC,KAAAjB,YAAA,GAkUD4U,GA9SA,WAAM,IAAArQ,EACSC,mBAAS,IADlBC,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GACZ4K,EADY1K,EAAA,GACJ+L,EADI/L,EAAA,GAAAgM,EAEuBjM,oBAAS,GAFhCkM,EAAApT,OAAAoH,EAAA,EAAApH,CAAAmT,EAAA,GAEZW,EAFYV,EAAA,GAEGW,EAFHX,EAAA,GAAAG,EAGqCrM,oBAAS,GAH9CsM,EAAAxT,OAAAoH,EAAA,EAAApH,CAAAuT,EAAA,GAGZgE,EAHY/D,EAAA,GAGUgE,EAHVhE,EAAA,GAAAI,EAIe1M,mBAAS,MAJxB2M,EAAA7T,OAAAoH,EAAA,EAAApH,CAAA4T,EAAA,GAIZP,EAJYQ,EAAA,GAIDP,EAJCO,EAAA,GAAAG,EAK2B9M,mBAAS,CACrDmO,MAAO,GACPoC,MAAO,GACPC,KAAM,KARWzD,EAAAjU,OAAAoH,EAAA,EAAApH,CAAAgU,EAAA,GAKZU,EALYT,EAAA,GAKKU,EALLV,EAAA,GAAAG,EAUKlN,mBAAS,IAVdmN,EAAArU,OAAAoH,EAAA,EAAApH,CAAAoU,EAAA,GAUZtC,EAVYuC,EAAA,GAUNS,EAVMT,EAAA,GAAAG,EAWiBtN,mBAAS,IAX1BuN,EAAAzU,OAAAoH,EAAA,EAAApH,CAAAwU,EAAA,GAWZf,EAXYgB,EAAA,GAWAf,EAXAe,EAAA,GAYbd,EAAqB1C,GAAYwC,EAAY,KAZhCmB,EAaS1N,mBAAS,CACnCmO,MAAO,EACPoC,MAAO,EACPC,KAAM,IAhBW7C,EAAA7U,OAAAoH,EAAA,EAAApH,CAAA4U,EAAA,GAaZ+C,EAbY9C,EAAA,GAaJ+C,EAbI/C,EAAA,GAAA/B,EAmBJC,KAAKC,UAAbC,EAnBYjT,OAAAoH,EAAA,EAAApH,CAAA8S,EAAA,MAqBnBvL,oBAAU,WAWR,OAVIoM,IACFT,EAAU,IACVa,GAAiB,GAEjBpC,GAAWgC,GAAoB3V,KAAK,SAAC6T,GACnCqB,EAAUrB,GACVkC,GAAiB,MAId,WACL6D,EAAU,CACRvC,MAAO,EACPoC,MAAO,EACPC,KAAM,MAGT,CAAC/D,IAEJ,IAIMkE,EAAkB,eAAAjL,EAAA5M,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAG,SAAA6K,EAAAD,GAAA,IAAAnN,EAAA0W,EAAA,OAAApU,EAAApE,EAAAuE,KAAA,SAAA4K,GAAA,cAAAA,EAAA1K,KAAA0K,EAAAzK,MAAA,OAAiB5C,EAAjBmN,EAASgE,KAAQnR,MAAS0W,EAA1BvJ,EAA0BuJ,KACnDvC,EAAQ,IACR0C,GAAwB,GAExBL,GAAmBxW,EAAO0W,GACvBrZ,KAAK,SAAC8T,GACLgD,EAAQhD,GACR0F,GAAwB,KAEzBpZ,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,GACZqa,GAAwB,KAXH,wBAAAxJ,EAAAxK,SAAAuK,MAAH,gBAAAT,GAAA,OAAAV,EAAAlJ,MAAAC,KAAAjB,YAAA,GAqElBoV,EAAoB,CACxBpD,gBAAiBA,EAAgBW,MACjCrM,SAxD0B,SAAC+O,GAC3B,IAAIC,EAAaL,EAAOtC,MACxB0C,EAAqBE,QAAQ,SAACC,GAC5B,IAAI7C,EAAQnD,EAAOiG,KAAK,SAAC9C,GAAD,OAAWA,EAAMnQ,MAAQgT,IAE7C7C,IACF2C,GAAcI,OAAO/C,EAAMgD,UAI/BT,EAAU5X,OAAAoP,EAAA,EAAApP,CAAA,GAAK2X,EAAN,CAActC,MAAO2C,KAC9BrD,EAAmB3U,OAAAoP,EAAA,EAAApP,CAAA,GACd0U,EADa,CAEhBW,MAAO0C,OA6CLO,EAAoB,CACxB5D,gBAAiBA,EAAgB+C,MACjCzO,SA3C0B,SAACuP,GAC3B,IAAIC,EAAab,EAAOF,MACxBc,EAAqBN,QAAQ,SAACC,GAC5B,IAAIT,EAAQgB,EAAON,KAAK,SAACV,GAAD,OAAWA,EAAMvS,MAAQgT,IAE7CT,IACFe,GAAcJ,OAAOX,EAAMY,UAI/BT,EAAU5X,OAAAoP,EAAA,EAAApP,CAAA,GAAK2X,EAAN,CAAcF,MAAOe,KAE9B7D,EAAmB3U,OAAAoP,EAAA,EAAApP,CAAA,GACd0U,EADa,CAEhB+C,MAAOc,OA+BLG,EAAmB,CACvBhE,gBAAiBA,EAAgBgD,KACjC1O,SA7ByB,SAAC2P,GAC1B,IAAIC,EAAYjB,EAAOD,KACvBiB,EAAoBV,QAAQ,SAACC,GAC3B,IAAIR,EAAOmB,EAAMV,KAAK,SAACT,GAAD,OAAUA,EAAKxS,MAAQgT,IAEzCR,IACFkB,GAAaR,OAAOV,EAAKW,UAI7BT,EAAU5X,OAAAoP,EAAA,EAAApP,CAAA,GAAK2X,EAAN,CAAcD,KAAMkB,KAE7BjE,EAAmB3U,OAAAoP,EAAA,EAAApP,CAAA,GACd0U,EADa,CAEhBgD,KAAMiB,OAkBJzG,EAAS2E,GAAuB,SAAU/E,GAC1C2G,EAAS5B,GAAuB,SAAU/E,GAAMjK,IAAI,SAAC4P,GAAD,OAAAzX,OAAAoP,EAAA,EAAApP,CAAA,GACrDyX,EADqD,CAExDY,MAAOS,KAAKC,OAAOX,OAAOX,EAAMuB,UAAYZ,OAAOX,EAAMwB,WAAa,OAElEJ,EAAQhC,GAAuB,QAAS/E,GAE9C,OACElT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,wBACVS,IAAI,kCACJC,IAAI,KAENb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,gDACAF,EAAAC,EAAAC,cAAA,2EAGJF,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAACoa,GAAA,EAAD,CAAMC,iBAAiB,KACrBva,EAAAC,EAAAC,cAAC2X,GAAD,CAAS2C,IAAI,8DAAsC7W,IAAI,KACrD3D,EAAAC,EAAAC,cAACkJ,EAAA,EAAD,CAAKqR,OAAQ,CAAC,GAAI,KAChBza,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAKlC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAI+E,GAAI,IACvCrM,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,yKAIAH,EAAAC,EAAAC,cAAC+L,GAAA,EAAD,CAAMoI,KAAMA,EAAMqC,SAAUuC,GAC1BjZ,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,CACEiF,KAAK,OACLkQ,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,4CAIb/W,EAAAC,EAAAC,cAAC8W,GAAA,EAAD,CACEC,cAAY,EACZlV,MAAO0S,EACP3S,YAAY,+CACZoV,YAAU,EACVC,gBACEjC,EAAgBlV,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAMoB,KAAK,UAAa,KAE1CmN,cAAc,EACdC,SAvIJ,SAACtV,GAAD,OAAW+S,EAAc/S,IAwIrBqI,SAtIS,SAACrI,GAAD,OAAW2S,EAAa3S,IAuIjCiE,MAAO,CAAEsR,MAAO,SAEfrE,EAAOhK,IAAI,SAACsO,GAAD,OACVvX,EAAAC,EAAAC,cAACwa,GAAD,CAAQ/W,IAAK4T,EAAExV,OAAQwV,EAAE3R,UAI/B5F,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,CACEiF,KAAK,OACLkQ,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,uDAGb/Q,MAAO,CAAEsR,MAAO,SAEhBtX,EAAAC,EAAAC,cAACya,GAAA,EAAD,CACE7Y,YAAY,yCACZ8Y,IAAK,EACL5U,MAAO,CAAEsR,MAAO,WAGpBtX,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACErJ,KAAK,UACL+B,UAAU,KACVgM,SAAS,SACTnE,QAAS2Q,GAJX,uCAUJ3Y,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACZmT,EAAOhS,OAAS,GACftB,EAAAC,EAAAC,cAACsX,GAAA,EAAD,CACEjB,aAAc2C,EACdzB,QAAS3E,GACT/H,WAAYuI,EACZtJ,YAAY,EACZvI,MAAO,kBACLzB,EAAAC,EAAAC,cAAC0X,GAAD,CAAOiD,MAAO,GAAd,wSASLZ,EAAM3Y,OAAS,GACdtB,EAAAC,EAAAC,cAACsX,GAAA,EAAD,CACEjB,aAAcuD,EACdrC,QAASO,GACTjN,WAAYkP,EACZjQ,YAAY,EACZvI,MAAO,kBACLzB,EAAAC,EAAAC,cAAC0X,GAAD,CAAOiD,MAAO,GAAd,yEAOLhB,EAAOvY,OAAS,GACftB,EAAAC,EAAAC,cAACsX,GAAA,EAAD,CACEjB,aAAcmD,EACdjC,QAASM,GACThN,WAAY8O,EACZ7P,YAAY,EACZvI,MAAO,kBACLzB,EAAAC,EAAAC,cAAC0X,GAAD,CAAOiD,MAAO,GAAd,wGASZ7a,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CAAKlC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAG+E,GAAI,GACrCrM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAd,cACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAC4a,GAAD,CAAMnD,QAAM,GAAZ,wBACA3X,EAAAC,EAAAC,cAAC4a,GAAD,KAAO/B,EAAOtC,OACdzW,EAAAC,EAAAC,cAAC4a,GAAD,cAGF9a,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAC4a,GAAD,CAAMnD,QAAM,GAAZ,kCACA3X,EAAAC,EAAAC,cAAC4a,GAAD,KAAO/B,EAAOF,OACd7Y,EAAAC,EAAAC,cAAC4a,GAAD,cAGF9a,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAC4a,GAAD,CAAMnD,QAAM,GAAZ,kCACA3X,EAAAC,EAAAC,cAAC4a,GAAD,KAAO/B,EAAOD,MACd9Y,EAAAC,EAAAC,cAAC4a,GAAD,cAGF9a,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAC4a,GAAD,CAAMnD,QAAM,GAAZ,WACA3X,EAAAC,EAAAC,cAAC4a,GAAD,KAAO/B,EAAOtC,MAAQsC,EAAOF,MAAQE,EAAOD,MAC5C9Y,EAAAC,EAAAC,cAAC4a,GAAD,mBAOZ9a,EAAAC,EAAAC,cAAC2X,GAAD,CAAS2C,IAAI,wEAAoC7W,IAAI,KACnD3D,EAAAC,EAAAC,cAAC6a,GAAD,oFCxXDC,WAAb,WAEE,SAAAA,EAAYC,GAAqB,IAAdC,EAAcpX,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAJ,GAAI1C,OAAA+Z,EAAA,EAAA/Z,CAAA2D,KAAAiW,GAE/BjW,KAAKkW,MAAQA,EACblW,KAAKmW,QAAUA,EAEfnW,KAAKqW,YAAcrW,KAAKqW,YAAYC,KAAKtW,MACzCA,KAAKuW,gBAAkBvW,KAAKuW,gBAAgBD,KAAKtW,MACjDA,KAAKwW,cAAgBxW,KAAKwW,cAAcF,KAAKtW,MAC7CA,KAAKyW,WAAazW,KAAKyW,WAAWH,KAAKtW,MACvCA,KAAK0W,WAAa1W,KAAK0W,WAAWJ,KAAKtW,MAEvCA,KAAK2W,MAAQ,GAEbC,SAASC,YAAY,wBAAwB,EAAO,SAEpD7W,KAAKkW,MAAMY,KAAKC,iBAAiB,QAAS/W,KAAKqW,aAAa,GAjBhE,OAAAha,OAAA2a,EAAA,EAAA3a,CAAA4Z,EAAA,EAAArX,IAAA,cAAA5B,MAAA,SAoBcia,GACV,GAAIA,EAAItM,QAAUsM,EAAItM,OAAOuM,SAAgD,QAArCD,EAAItM,OAAOuM,QAAQC,cAAyB,CAClF,GAAInX,KAAKoX,MAAQH,EAAItM,OAEnB,OAEE3K,KAAKoX,KAEPpX,KAAKqX,OAGPrX,KAAKsX,KAAKL,EAAItM,aAEP3K,KAAKoX,KAEZpX,KAAKqX,SAnCX,CAAAzY,IAAA,OAAA5B,MAAA,SAuCOoa,GAEHpX,KAAKoX,IAAMA,EACXpX,KAAKuX,eACLvX,KAAKwX,kBAEL,IAAMC,EAAOzX,KAAKoX,IAAIM,wBACtB1X,KAAK2X,cAAcF,GACnBzX,KAAK4X,oBAAoBH,KA/C7B,CAAA7Y,IAAA,OAAA5B,MAAA,WAmDIgD,KAAK6X,eAEL7X,KAAKoX,SAAMpY,IArDf,CAAAJ,IAAA,eAAA5B,MAAA,WA0DIgD,KAAK8X,cAAc,QAEnB9X,KAAK+X,OAAO,eACZ/X,KAAK+X,OAAO,eACZ/X,KAAK+X,OAAO,eACZ/X,KAAK+X,OAAO,eAEZnB,SAASG,iBAAiB,QAAS/W,KAAK0W,YAAY,GACpD1W,KAAKkW,MAAMY,KAAKC,iBAAiB,QAAS/W,KAAK0W,YAAY,KAlE/D,CAAA9X,IAAA,eAAA5B,MAAA,WAuEI4Z,SAASoB,oBAAoB,QAAShY,KAAK0W,YAC3C1W,KAAKkW,MAAMY,KAAKkB,oBAAoB,QAAShY,KAAK0W,YAElD1W,KAAK8X,cAAc,IACnB9X,KAAKiY,UAAU,IAEfjY,KAAK2W,MAAMrC,QAAQ,SAAA4D,GAAG,OAAItB,SAASuB,KAAKC,YAAYF,KAEpDlY,KAAKqY,aAAUrZ,EACfgB,KAAKsY,gBAAatZ,EAClBgB,KAAKuY,kBAAevZ,EACpBgB,KAAK2W,MAAQ,KAlFjB,CAAA/X,IAAA,SAAA5B,MAAA,SAqFSwb,GAEL,IAAMN,EAAMtB,SAASzb,cAAc,OAE7Bsd,EAAS,CACbhb,SAAU,WACVib,OAAQ,OACRnG,MAAO,OACPoG,gBAAiB,QACjBC,OAAQ,iBACRC,UAAW,aACXC,QAAS,OACTN,OAAQA,GAEVxY,KAAK+Y,OAAOb,EAAIjX,MAAOwX,EAAQzY,KAAKmW,QAAQ6C,cAAgB,IAE5Dd,EAAInB,iBAAiB,YAAa/W,KAAKuW,iBAAiB,GAExDK,SAASuB,KAAKc,YAAYf,GAE1BlY,KAAK2W,MAAM7K,KAAKoM,KAzGpB,CAAAtZ,IAAA,SAAA5B,MAAA,SA4GSkc,GAAyB,QAAAC,EAAApa,UAAAxC,OAAT6c,EAAS,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAATF,EAASE,EAAA,GAAAva,UAAAua,GAQ9B,OAPAF,EAAQ9E,QAAQ,SAAAiF,GACd,IAAK,IAAIC,KAAQD,EACXA,EAAOE,eAAeD,KACxBN,EAAYM,GAAQD,EAAOC,MAI1BN,IApHX,CAAAta,IAAA,gBAAA5B,MAAA,SAuHgBya,GAAM,IAAAiC,EAAA1Z,KAElB,CACE,CAAE2Z,KAAMlC,EAAKkC,KAAO,EAAgBC,IAAKnC,EAAKmC,IAAM,GACpD,CAAED,KAAMlC,EAAKkC,KAAOlC,EAAKlF,MAAQ,EAAGqH,IAAKnC,EAAKmC,IAAM,GACpD,CAAED,KAAMlC,EAAKkC,KAAOlC,EAAKlF,MAAQ,EAAGqH,IAAKnC,EAAKmC,IAAMnC,EAAKiB,OAAS,GAClE,CAAEiB,KAAMlC,EAAKkC,KAAO,EAAgBC,IAAKnC,EAAKmC,IAAMnC,EAAKiB,OAAS,IAClEpE,QAAQ,SAACuF,EAAKC,GACdJ,EAAKX,OAAOW,EAAK/C,MAAMmD,GAAK7Y,MAAO,CACjC2Y,IAAKzE,KAAKC,MAAMyE,EAAID,IAAMG,OAAOC,aAAe,KAChDL,KAAMxE,KAAKC,MAAMyE,EAAIF,KAAOI,OAAOE,aAAe,WAjI1D,CAAArb,IAAA,kBAAA5B,MAAA,SAsIkBia,GAEdjX,KAAKqY,QAAUpB,EAAItM,OAEnB3K,KAAKsY,WAAarB,EAAIiD,QAEtBla,KAAKuY,aAAevY,KAAKoX,IAAI7E,OAASvS,KAAKoX,IAAI+C,aAE/Cna,KAAKiY,UAAUjY,KAAKqY,QAAQpX,MAAMuX,QAElC5B,SAASG,iBAAiB,YAAa/W,KAAKyW,YAAY,GACxDG,SAASG,iBAAiB,UAAW/W,KAAKwW,eAAe,KAjJ7D,CAAA5X,IAAA,gBAAA5B,MAAA,WAsJIgD,KAAKiY,UAAU,IAEfrB,SAASoB,oBAAoB,YAAahY,KAAKyW,YAC/CG,SAASoB,oBAAoB,UAAWhY,KAAKwW,iBAzJjD,CAAA5X,IAAA,aAAA5B,MAAA,SA4Jaia,GACT,GAAKjX,KAAKoX,IAAV,CAKIpX,KAAKqY,UAAYrY,KAAK2W,MAAM,IAAM3W,KAAKqY,UAAYrY,KAAK2W,MAAM,GAEhE3W,KAAKoX,IAAI7E,MAAQ4C,KAAKC,MAAMpV,KAAKuY,aAAetB,EAAIiD,QAAUla,KAAKsY,YAInEtY,KAAKoX,IAAI7E,MAAQ4C,KAAKC,MAAMpV,KAAKuY,aAAetB,EAAIiD,QAAUla,KAAKsY,YAGrE,IAAMb,EAAOzX,KAAKoX,IAAIM,wBACtB1X,KAAK2X,cAAcF,GACnBzX,KAAK4X,oBAAoBH,MA7K7B,CAAA7Y,IAAA,gBAAA5B,MAAA,SAgLgBA,GAAO,IAAAod,EAAApa,KACnB,CACE,aACA,gBACA,mBACA,gBACAsU,QAAQ,SAAAkF,GAERY,EAAKlE,MAAMY,KAAK7V,MAAMuY,GAAQxc,EAC9B4Z,SAASyD,gBAAgBpZ,MAAMuY,GAAQxc,MAzL7C,CAAA4B,IAAA,YAAA5B,MAAA,SA6LYA,GACR,CACE4Z,SAASuB,KACTnY,KAAKoX,IACLpX,KAAKkW,MAAMY,MACXxC,QAAQ,SAAAjB,GAAE,OAAIA,EAAGpS,MAAMuX,OAASxb,MAlMtC,CAAA4B,IAAA,aAAA5B,MAAA,WAsMQgD,KAAKoX,KACPpX,KAAKqX,SAvMX,CAAAzY,IAAA,kBAAA5B,MAAA,WA4MI,GAAKgD,KAAKmW,QAAQmE,YAAlB,CAGAta,KAAKkB,QAAU0V,SAASzb,cAAc,OActC6E,KAAK+Y,OAAO/Y,KAAKkB,QAAQD,MAZV,CACbxD,SAAU,WACV8c,KAAM,wCACNC,QAAS,UACT3R,UAAW,SACX8P,gBAAiB,QACjB8B,MAAO,OACP7B,OAAQ,iBACRC,UAAW,aACXC,QAAS,OACTN,OAAQ,WAE8BxY,KAAKmW,QAAQuE,eAAiB,IACtE9D,SAASuB,KAAKc,YAAYjZ,KAAKkB,YA9NnC,CAAAtC,IAAA,kBAAA5B,MAAA,WAkOI4Z,SAASuB,KAAKC,YAAYpY,KAAKkB,SAC/BlB,KAAKkB,aAAUlC,IAnOnB,CAAAJ,IAAA,sBAAA5B,MAAA,SAsOsBya,GAClB,GAAKzX,KAAKkB,SAAYlB,KAAKoX,IAA3B,CAGA,IAAMlS,EAAOlF,KAAK2a,iBAElB,GADA3a,KAAKkB,QAAQ0Z,UAAY1V,EAAKwJ,KAAK,aAC/BxJ,EAAK,GAAK,KAAOA,EAAK,GAAK,GAAI,CAEjC,IAAM2V,EAAW7a,KAAKkB,QAAQwW,wBAC9B1X,KAAK+Y,OAAO/Y,KAAKkB,QAAQD,MAAO,CAC9B0Y,KAAMxE,KAAKC,MAAMqC,EAAKkC,KAAOlC,EAAKlF,MAAQwH,OAAOE,YAAcY,EAAStI,MAAQ,GAAK,KACrFqH,IAAKzE,KAAKC,MAAMqC,EAAKmC,IAAMnC,EAAKiB,OAASqB,OAAOC,YAAca,EAASnC,OAAS,GAAK,YAKvF1Y,KAAK+Y,OAAO/Y,KAAKkB,QAAQD,MAAO,CAC9B0Y,KAAMxE,KAAKC,MAAMqC,EAAKkC,KAAOlC,EAAKlF,MAAQwH,OAAOE,YAAc,GAAK,KACpEL,IAAKzE,KAAKC,MAAMqC,EAAKmC,IAAMnC,EAAKiB,OAASqB,OAAOC,YAAc,GAAK,UAxP3E,CAAApb,IAAA,iBAAA5B,MAAA,WA8PI,MAAO,CACLgD,KAAKoX,IAAI7E,MACT4C,KAAKC,MAAMpV,KAAKoX,IAAI7E,MAAQvS,KAAKoX,IAAI+C,aAAena,KAAKoX,IAAI0D,oBAhQnE7E,EAAA,cCJM8E,GAAaC,SAAMC,OAAO,qBAC1BC,GAAYF,SAAMC,OAAO,aACzBE,GAAa,CAAE,SAAU,SAEzBC,GAAY,CAChBC,MAAO,CACLzB,IAAK,OACLD,KAAM,QAER2B,OAAQ,CACN1B,IAAK,OACL2B,MAAO,QAETC,MAAO,CACLC,OAAQ,OACR9B,KAAM,QAER+B,OAAQ,CACND,OAAQ,OACRF,MAAO,SASLI,GAAe,WACnB,IAAIC,EAAShF,SAASzb,cAAc,OAEpC,OADAygB,EAAO3C,YAAYrC,SAASzb,cAAc,OACnCygB,GAGHC,uGAEQhgB,EAAKigB,GACf,IAAIC,EAASnF,SAASzb,cAAc,UAOpC,OANA4gB,EAAOC,aAAa,cAAe,KACnCD,EAAOC,aAAa,mBAAmB,GACvCD,EAAO3gB,UAAY,yBACnB2gB,EAAOC,aAAa,QAASF,EAAKG,aAAa,UAAY,KAC3DF,EAAOC,aAAa,SAAUF,EAAKG,aAAa,WAAa,KAC7DF,EAAOC,aAAa,MAAOngB,GACpBkgB,oCAGCD,EAAMI,GAUd,OATAJ,EAAK7C,YAAYiD,GACjBvO,WAAW,WACTmO,EAAKE,aAAa,kBAAmB,SACrCF,EAAKK,eAAiBL,EAAKK,cAAcC,aAAaT,KAAgBG,GACtEA,EAAKK,eAAiBL,EAAKK,cAAclD,YAAY0C,MACrD,IAAII,EAASD,EAAKO,qBAAqB,UAAU,GACjDN,EAAOC,aAAa,QAASF,EAAKG,aAAa,UAAY,KAC3DF,EAAOC,aAAa,SAAUF,EAAKG,aAAa,WAAa,MAC5D,GACIH,yCAIP,IAAIQ,EAAU1F,SAASzb,cAAc,OAarC,OAZAmhB,EAAQN,aAAa,QAAS,0BAC9BM,EAAQN,aAAa,kBAAmB,SACxCM,EAAQvF,iBAAiB,QAAS,SAACwF,GACjC,IAAIC,EA1CS,SAACnJ,EAAIoJ,GACtB,MAAQpJ,EAAKA,EAAG8I,kBAAqB9I,EAAGqJ,SAAWrJ,EAAGsJ,iBAAiBC,KAAKvJ,EAAIoJ,KAChF,OAAOpJ,EAwCewJ,CAAWP,EAAS,cACtC,GAAGE,GAAeA,EAAYtG,MAAM,CAClC,IAAI4F,EAAOZ,GAAU1G,KAAK8H,EAAQH,cAAcA,eAC5CL,aAAgBgB,IAClBhB,EAAKiB,QAAQC,QAAQC,OAAOX,EAASE,EAAYtG,MAAO4F,MAKvDQ,iCAGFA,EAASpG,EAAO4F,GAErB9b,KAAKkd,gBAAkBZ,GACmC,IAAtDtc,KAAKkd,gBAAgB9hB,UAAU+hB,QAAQ,YACzCnd,KAAKkW,MAAQA,EACblW,KAAKkW,MAAMkH,aAAa,MACxBpd,KAAKmc,cAAgBnc,KAAKkd,gBAAgBf,cAC1Cnc,KAAK8b,KAAOA,EACZ9b,KAAK+b,OAAS/b,KAAKmc,cAAcE,qBAAqB,UAAU,GAChErc,KAAKkd,gBAAgBlB,aAAa,QAAS,iCAG3Chc,KAAKqd,cACLrd,KAAKsd,eAAiBtd,KAAKud,SAASjH,KAAKtW,MACzCA,KAAKkW,MAAMY,KAAKC,iBAAiB,QAAS/W,KAAKsd,gBAAgB,qCAI1Df,GACP,GAAIA,EAAM5R,SAAW3K,KAAKkd,gBAAiB,CAGzC,IAFAld,KAAKkd,gBAAgBlB,aAAa,QAAS,0BAC3Chc,KAAKwd,gBAAe,GACbxd,KAAKkd,gBAAgBO,YAAczd,KAAKkd,gBAAgB9E,YAAYpY,KAAKkd,gBAAgBO,YAChGzd,KAAKkd,gBAAkB,KACvBld,KAAKkW,MAAMY,KAAKkB,oBAAoB,QAAShY,KAAKsd,gBAAgB,2CAKpE,IAAII,EAAiB9G,SAASzb,cAAc,OAC5CuiB,EAAetiB,UAAY,iCAC3B,IAAIuiB,EAAU/G,SAASzb,cAAc,OAIrC,OAHAwiB,EAAQviB,UAAY,yBACpBuiB,EAAU3d,KAAK4d,kBAAkBD,GACjCD,EAAezE,YAAY0E,GACpBD,4CAGSC,GAIhB,OAHAA,EAAQ1E,YAAYjZ,KAAK6d,YAAY,SACrCF,EAAQ1E,YAAYjZ,KAAK6d,YAAY,WACrCF,EAAQ1E,YAAYjZ,KAAK6d,YAAY,UAC9BF,sCAGGtkB,GAAM,IAAAqgB,EAAA1Z,KACV8d,EAASlH,SAASzb,cAAc,QAStC,OARA2iB,EAAO1iB,UAAP,8CAAAjB,OAAiEd,GACjEykB,EAAOlD,UAAP,yBAAAzgB,OAA4Cd,EAA5C,cAAAc,OAA6Dd,EAA7D,6BACAykB,EAAO/G,iBAAiB,QAAS,WAE/B,GADA2C,EAAKxD,MAAMkH,aAAa1D,EAAKoC,KAAKiC,OAAOrE,EAAKxD,MAAM8H,QAAS,EAAG,QACnD,SAAT3kB,EAAmB,OAAOqgB,EAAKxD,MAAM7V,OAAO,QAAS,MACzDqZ,EAAKxD,MAAM7V,OAAO,QAAShH,GAC3BqgB,EAAKxD,MAAMkH,aAAa,QAEnBU,wCAQP,IAAI,IAAIlf,KAJRoB,KAAK2W,MAAQ,GACb3W,KAAKie,aAAeje,KAAKyW,WAAWH,KAAKtW,MACzCA,KAAKke,QAAUle,KAAKme,cAAc7H,KAAKtW,MACvCA,KAAKoe,UAAYpe,KAAKuW,gBAAgBD,KAAKtW,MAC5Bob,GAAU,CACvB,IAAIiD,EAAMre,KAAKse,SAAS1f,GACxBoB,KAAK2W,MAAM7K,KAAKuS,GAChBre,KAAKkd,gBAAgBjE,YAAYoF,GAEnC,OAAOre,KAAKkd,iDAGLrD,GACP,IAAIwE,EAAMzH,SAASzb,cAAc,QAIjC,OAHAkjB,EAAIjjB,UAAY,sBAChBiB,OAAO2E,OAAOqd,EAAIpd,MAAOma,GAAUvB,IACnCwE,EAAItH,iBAAiB,YAAa/W,KAAKoe,WAAW,GAC3CC,0CAGO9B,GACdvc,KAAKqY,QAAUkE,EAAM5R,OACrB3K,KAAKsY,WAAaiE,EAAMrC,QACxBla,KAAKue,WAAahC,EAAMiC,QACxBxe,KAAKuY,aAAekG,SAASze,KAAK+b,OAAOxJ,MAAO,KAAO,IACvDvS,KAAK0e,cAAgBD,SAASze,KAAK+b,OAAOrD,OAAQ,KAAO,IACzD9B,SAASG,iBAAiB,YAAa/W,KAAKie,cAAc,GAC1DrH,SAASG,iBAAiB,UAAW/W,KAAKke,SAAS,sCAG1C3B,GACT,GAAKvc,KAAK+b,OAAV,CACA,IAAM4C,EAASpC,EAAMrC,QAAUla,KAAKsY,WAC9BsG,EAASrC,EAAMiC,QAAUxe,KAAKue,WAChCve,KAAKqY,UAAYrY,KAAK2W,MAAM,IAAM3W,KAAKqY,UAAYrY,KAAK2W,MAAM,IAChE3W,KAAK+b,OAAOxJ,MAAQ4C,KAAKC,MAAMpV,KAAKuY,aAAeoG,GACnD3e,KAAK+b,OAAOrD,OAASvD,KAAKC,MAAMpV,KAAK0e,cAAgBE,KAGrD5e,KAAK+b,OAAOxJ,MAAQ4C,KAAKC,MAAMpV,KAAKuY,aAAeoG,GACnD3e,KAAK+b,OAAOrD,OAASvD,KAAKC,MAAMpV,KAAK0e,cAAgBE,2CAI3CrC,GACZvc,KAAKwd,wDAGQqB,GACb,IAAI,IAAIR,KAAOre,KAAK2W,MAClBC,SAASoB,oBAAoB,YAAahY,KAAKie,cAAc,GAC7DrH,SAASoB,oBAAoB,UAAWhY,KAAKke,SAAS,GAClDW,GACF7e,KAAK2W,MAAM0H,GAAKrG,oBAAoB,YAAahY,KAAKuW,iBAAiB,YAOzEuG,kLA4BGlb,EAAM5E,GACPme,GAAWgC,QAAQvb,IAAS,EAC1B5E,EAASgD,KAAK+c,QAAQf,aAAapa,EAAM5E,GACtCgD,KAAK+c,QAAQ+B,gBAAgBld,GAE/BvF,OAAAjC,GAAA,EAAAiC,QAAA0iB,EAAA,EAAA1iB,CAAAygB,EAAAkC,WAAA,SAAAhf,MAAA4c,KAAA5c,KAAa4B,EAAM5E,oCA/BdnB,GACZ,IAAIigB,EAAIzf,OAAAjC,GAAA,EAAAiC,QAAA0iB,EAAA,EAAA1iB,CAAAygB,GAAA,SAAA9c,MAAA4c,KAAA5c,MACR8b,EAAKkB,QAAU,IAAInB,GACnB,IAAIK,EAAUtF,SAASzb,cAAc,OACrC+gB,EAAQ9gB,UAAY,yBACpB,IAAI2gB,EAASD,EAAKkB,QAAQiC,YAAYpjB,EAAKigB,GACvCQ,EAAUR,EAAKkB,QAAQkC,eAG3B,OAFAhD,EAAQjD,YAAY8C,GACpBG,EAAQjD,YAAYqD,GACbR,EAAKkB,QAAQmC,UAAUrD,EAAMI,mCAGvBa,GACb,IAAIhB,EAASgB,EAAQV,qBAAqB,UAAU,GACpD,OAAOlB,GAAWiE,OAAO,SAAUC,EAASC,GAI1C,OAHIvD,EAAOwD,aAAaD,KACtBD,EAAQC,GAAavD,EAAOE,aAAaqD,IAEpCD,GACN,kCAGQtC,GACX,OAAOA,EAAQV,qBAAqB,UAAU,GAAGJ,aAAa,cAzB9ClB,IAqCpB+B,GAAM0C,SAAW,QACjB1C,GAAM1hB,UAAY,WAClB0hB,GAAM5F,QAAU,aCrOhB8D,SAAMnO,SAAS,sBAAuBoJ,IACtC+E,SAAMnO,SAAS,CAAE4S,gBAAiB3C,KAElC,IAAM4C,GAAU,CACd/B,QAAS,CACP,CAAC,CAAE7X,OAAQ,KAAO,CAAEA,OAAQ,KAAO,CAAEyU,KAAM,KAC3C,CAAC,CAAErV,KAAM,KACT,CAAC,OAAQ,SAAU,YAAa,SAAU,cAC1C,CACE,CAAEW,KAAM,WACR,CAAEA,KAAM,UACR,CAAE8Z,OAAQ,MACV,CAAEA,OAAQ,OAEZ,CAAC,OAAQ,QAAS,SAClB,CAAC,UAEHC,UAAW,CACTC,aAAa,GAEfzU,QAAS,CACPmC,MAAO,IACPuS,SAAU,GACVC,UAAU,GAEZC,YAAa,CACXtF,cAAe,CACb/B,gBAAiB,QACjBC,OAAQ,OACR6B,MAAO,SAETiF,QAAS,CAAC,SAAU,cAAe,aAGjCL,GAAU,CACd,SACA,OACA,OACA,OACA,SACA,YACA,SACA,aACA,OACA,SACA,SACA,OACA,QACA,SA2BaY,GAxBI,SAAA7gB,GAAoD,IAAjD8gB,EAAiD9gB,EAAjD8gB,aAAcrf,EAAmCzB,EAAnCyB,KAAMsf,EAA6B/gB,EAA7B+gB,aAAcC,EAAehhB,EAAfghB,SAWtD,OAVAxc,oBAAU,WAGR,OAFAwc,EAASC,QAAQC,QAEV,WACLH,MAID,IAGDllB,EAAAC,EAAAC,cAAColB,GAAArlB,EAAD,CACE8B,MAAO6D,EACPwE,SAAU6a,EACVR,QAASA,GACTL,QAASA,GACTtiB,YAAa,4BACbyjB,IAAKJ,EACLK,MAAM,UCqHGC,GAtLI,SAACtjB,GAClB,IAAMtD,EAAWkB,wBACXoQ,EAAUC,cACRnP,EAAO2L,cAAP3L,GAHoBiT,EAIbC,KAAKC,UAAbC,EAJqBjT,OAAAoH,EAAA,EAAApH,CAAA8S,EAAA,MAKtBnR,EAAOlD,sBAAY,SAACC,GAAD,OAAWA,EAAMiD,KAAK8J,cALnBnD,EAMI7J,sBAAY,SAACC,GAAD,OAAWA,EAAMiI,QAArDC,EANoB0B,EAMpB1B,QAAS9J,EANWwL,EAMXxL,WANWmK,EAOEC,mBAAS,IAPXC,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GAOrBmD,EAPqBjD,EAAA,GAOZmd,EAPYnd,EAAA,GAAAgM,EAQIjM,mBAAS,IARbkM,EAAApT,OAAAoH,EAAA,EAAApH,CAAAmT,EAAA,GAQrBoR,EARqBnR,EAAA,GAQXoR,EARWpR,EAAA,GAUtB2Q,EAAWU,iBAAO,MAExBld,oBAAU,WAKR,OAJI1H,GACFpC,EAASmG,EAAU/D,IAGd,WACLoT,EAAKyR,cACLC,IACAH,EAAY,IACZ/mB,ExBsO0B,CAAET,KClQR,iBuBgCrB,CAAC6C,IAEJ0H,oBAAU,WACR,GAAI5F,EAAM,CACR,IAAMsV,EAAQ,CACZ2N,IAAKC,KAAQC,WACbC,OAAQ,OACRC,IAAKrjB,EAAKwD,WAEZ8N,EAAKgS,eAALjlB,OAAAoP,EAAA,EAAApP,CAAA,GAAyB2B,EAAzB,CAA+BsV,WAC/BqN,EAAW3iB,EAAKyI,SAChBoa,EAAW,GAAA1mB,OAAAkC,OAAAklB,GAAA,EAAAllB,CAAKukB,GAAL,CAAetN,OAI3B,CAACtV,IAEJ,IA0BMgjB,EAAqB,kBACzBZ,EAASC,QAAQmB,kBAAkBpB,EAASC,QAAQoB,OAAQ,KAUxDC,IAAmB3jB,EAAYC,KAAKI,YAAa6E,EAEjD0e,GACJxoB,IAAe4E,EAAYC,KAAKC,aAChC9E,IAAe4E,EAAYC,KAAKE,cAC5B+E,EAGN,OACEhI,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAMC,SAAU2d,GACdzmB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAf,gGACsDH,EAAAC,EAAAC,cAAA,WADtD,4MAKAF,EAAAC,EAAAC,cAAC+L,GAAA,EAAD,CAAMoI,KAAMA,EAAMpK,KAAK,QAAQyM,SAlDlB,SAACC,GACpB,GAAI1V,GAAM8B,EAAM,CACd,IAAM4jB,EAAWvlB,OAAAoP,EAAA,EAAApP,CAAA,GACZ2B,EACA4T,EAFY,CAGfnL,YAEF3M,ExBqFoB,SAAC8nB,EAAaxW,GAAd,OAA0B,SAACtR,GACnD,IAAM+nB,EAAW,IAAIC,SAEjBF,EAAYllB,OAAOmlB,EAASE,OAAO,QAASH,EAAYllB,OACxDklB,EAAYnb,SAASob,EAASE,OAAO,UAAWH,EAAYnb,SAC5Dmb,EAAYvoB,MAAMwoB,EAASE,OAAO,OAAQH,EAAYvoB,MAEtDuoB,EAAYtO,MAAM0O,MACpBH,EAASE,OAAO,QAASH,EAAYtO,MAAM0O,KAAKC,eASlDnoB,EAASZ,EAAiB6E,EAAYC,KAAKE,cAE3CnE,IACGiE,KADH,qDAAA7D,OAEyDynB,EAAYrgB,KACjEsgB,EAXW,CACb5nB,QAAS,CACPioB,eAAgB,yBAYjB7nB,KAAK,SAACC,GAAQ,IACL0D,EAAS1D,EAAIE,KAAbwD,KAERlE,EAAS,CAAET,KC9KU,cD8KSC,QAAS,CAAE0E,UACzClE,EVxKkC,CAAET,KCVP,wBSmL7BsE,SAAOwkB,QAAQ,UAAW,8BAC1B/W,EAAQU,KAAR,qBAAA3R,OAAkC6D,EAAKuD,QAExC9G,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,GACZmE,SAAO6L,MAAM,OAAQ,2CACrB1P,EAASP,QwBzHA6oB,CAAWR,EAAaxW,QAC5B,CACL,IAAMiX,EAAUhmB,OAAAoP,EAAA,EAAApP,CAAA,GACXuV,EADW,CAEdnL,QAASA,IAEX3M,ExBuCoB,SAACwoB,EAASlX,GAAV,OAAsB,SAACtR,GAC/C,IAAM+nB,EAAW,IAAIC,SAErBD,EAASE,OAAO,QAASO,EAAQ5lB,OACjCmlB,EAASE,OAAO,UAAWO,EAAQ7b,SACnCob,EAASE,OAAO,OAAQO,EAAQjpB,MAE5BipB,EAAQhP,MAAM0O,MAChBH,EAASE,OAAO,QAASO,EAAQhP,MAAM0O,KAAKC,eAS9CnoB,EAASZ,EAAiB6E,EAAYC,KAAKC,cAE3ClE,IACGiE,KADH,qDAGI6jB,EAXW,CACb5nB,QAAS,CACPioB,eAAgB,yBAYjB7nB,KAAK,SAACC,GAAQ,IACL0D,EAAS1D,EAAIE,KAAbwD,KAERlE,EAAS,CAAET,KCvIO,WDuISC,QAAS,CAAE0E,UACtClE,EVhIkC,CAAET,KCVP,wBS2I7BsE,SAAOwkB,QAAQ,UAAW,8BAC1B/W,EAAQU,KAAR,qBAAA3R,OAAkC6D,EAAKuD,QAExC9G,MAAM,SAACjB,GACNkB,QAAQC,IAAInB,GACZmE,SAAO6L,MAAM,OAAQ,2CACrB1P,EAASP,QwB3EAgpB,CAAWF,EAAYjX,OAsC1BnQ,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,CACEiF,KAAK,QACLkQ,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,0EAIb/W,EAAAC,EAAAC,cAACqnB,GAAA,EAAD,CAAOzlB,YAAY,gGAErB9B,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,CACEiF,KAAK,OACLkQ,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,0EAIb/W,EAAAC,EAAAC,cAAC8W,GAAA,EAAD,CAAQlV,YAAY,wCAClB9B,EAAAC,EAAAC,cAAC8W,GAAA,EAAOpE,OAAR,CAAe7Q,MAAM,QAArB,kCACA/B,EAAAC,EAAAC,cAAC8W,GAAA,EAAOpE,OAAR,CAAe7Q,MAAM,cAArB,iCAGA/B,EAAAC,EAAAC,cAAC8W,GAAA,EAAOpE,OAAR,CAAe7Q,MAAM,SAArB,gDAGJ/B,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,CACEiF,KAAK,QACLkQ,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,+CAIb/W,EAAAC,EAAAC,cAACsnB,GAAA,EAAD,CACEC,gBAAiB,GACjB9B,SAAUA,EACVvb,SA1EY,SAACqF,GACzBA,EAAEsX,KAAKZ,OAAS,OAChBP,EAAY,CAACnW,EAAEsX,QAyEHW,SAAS,eACTC,cAAe,aACfC,SAAU3mB,EAAK0kB,EAASrkB,OAAS,EAAIqkB,EAASrkB,OAAS,GAEvDtB,EAAAC,EAAAC,cAAC2nB,GAAA,EAAD,QAeJ7nB,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,CAAWiF,KAAK,UAAUkQ,MAAO,CAAC,CAAEiR,UAtFrB,SAACC,EAAMhmB,GAC9B,OAAKyJ,EAIEwc,QAAQC,UAHND,QAAQE,OAAO,gCAqFdloB,EAAAC,EAAAC,cAACioB,GAAD,CACEviB,KAAM4F,EACNyZ,aAtHa,SAACzZ,EAAS4c,EAAO9J,EAAQkI,GAClDd,EAAWla,IAsHC2Z,SAAUA,EACVD,aAAca,KAGlB/lB,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACE0E,SAAS,SACThM,UAAU,KACV/B,KAAK,UACL4J,QAAS0e,GAJX,uEC3KNnhB,GAASC,KAATD,KAmFO8iB,GAjFM,SAAAlkB,GAA8C,IAA3CmkB,EAA2CnkB,EAA3CmkB,aAChBzpB,GAD2DsF,EAA7BokB,uBACnBxoB,yBADgD2J,EAEjC7J,sBAAY,SAAAC,GAAK,OAAIA,EAAMiI,QAAnDC,EAFyD0B,EAEzD1B,QAAS9J,EAFgDwL,EAEhDxL,WAFgDmK,EAGvCC,mBAAS,MAH8BC,EAAAnH,OAAAoH,EAAA,EAAApH,CAAAiH,EAAA,GAG1DgQ,EAH0D9P,EAAA,GAGnDigB,EAHmDjgB,EAAA,GAAAgM,EAIvCjM,mBAAS,MAJ8BkM,EAAApT,OAAAoH,EAAA,EAAApH,CAAAmT,EAAA,GAI1DhG,EAJ0DiG,EAAA,GAInDiU,EAJmDjU,EAAA,GAAAG,EAKjCrM,mBAAS,IALwBsM,EAAAxT,OAAAoH,EAAA,EAAApH,CAAAuT,EAAA,GAK1DgR,EAL0D/Q,EAAA,GAKhDgR,EALgDhR,EAAA,GAwB3D8T,EAA+B,iBAAfxqB,GAAgC8J,EAEtD,OACEhI,EAAAC,EAAAC,cAACyoB,GAAA,EAAD,CAAMC,UAAU,EAAOC,UAAW,CAAEtJ,QAAS,IAC3Cvf,EAAAC,EAAAC,cAACyoB,GAAA,EAAKG,KAAN,CACErnB,MAAM,2BACNsnB,YACE/oB,EAAAC,EAAAC,cAACqB,EAAA,SAAD,KACEvB,EAAAC,EAAAC,cAAC+L,GAAA,EAAD,KACEjM,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAAC8oB,GAAA,EAAD,CAASC,QAAM,EAACC,WAAW,sBACzBlpB,EAAAC,EAAAC,cAACsnB,GAAA,EAAD,CACEG,cA7BI,aA8BJwB,UAAU,EACVzB,SAAS,eACTtd,SA9BQ,SAAAqF,GACxB+Y,EAAS/Y,EAAEsX,MACX,IAAMqC,EAAQ3Z,EAAEkW,SAAS1c,IAAI,SAAA8d,GAAI,OAAA3lB,OAAAoP,EAAA,EAAApP,CAAA,GAAU2lB,EAAV,CAAgBZ,OAAQ,WACzDP,EAAYwD,GACZX,EAAS,OA2BOb,SAAUvP,EACVsN,SAAUA,EACV8B,gBAAiB,IAEjBznB,EAAAC,EAAAC,cAAC2nB,GAAA,EAAD,SAILxP,GAASA,EAAM1R,MACd3G,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAACmpB,GAAA,EAAD,CAAcrjB,MAAO,CAAEG,YAAa,MACpCnG,EAAAC,EAAAC,cAACopB,GAAD,KAAOjR,EAAM1R,OAGhB4H,GAASA,EAAM8J,OACdrY,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAACopB,GAAD,CAAMlrB,KAAK,UAAUmQ,EAAM8J,MAAM5J,MAIrCzO,EAAAC,EAAAC,cAAC+L,GAAA,EAAKvK,KAAN,KACE1B,EAAAC,EAAAC,cAACsG,EAAA,EAAD,KACExG,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CACErJ,KAAK,UACLuD,QAhDG,W/ByDW,IAAColB,E+BxD1B1O,EAGHxZ,G/BqD6BkoB,E+BrDD1O,E/BqDA,eAAAlU,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAU,SAAAC,EAAO1F,GAAP,IAAA+nB,EAAA2C,EAAAlqB,EAAAC,EAAA,OAAA+E,EAAApE,EAAAuE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACpCiiB,EAAW,IAAIC,SACf0C,EAAS,CACbvqB,QAAS,CACPioB,eAAgB,wBAGpBL,EAASE,OAAO,QAASC,EAAKC,eAE9BnoB,EAASZ,EAAiB,iBATgBwG,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAWtB7F,IAAMiE,KACtB,8DACA6jB,EACA2C,GAdsC,OAWlClqB,EAXkCoF,EAAA4J,KAgBhC/O,EAASD,EAAIE,KAAbD,KAERT,EAAS,CAAET,KClGc,gBDkGOC,QAAS,CAAEiB,UAC3CT,EAASF,KAETE,EJ5FoC,CAAET,KCVP,wBGuG/BS,EFjG6B,CAAET,KCNR,gBCwGvBsE,SAAOwkB,QAAQ,UAAW,gCAvBcziB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA6J,GAAA7J,EAAA,SAyBxChF,QAAQC,IAAI+E,EAAA6J,GAAIJ,SAAS3O,MAEzBV,EAASP,KACToE,SAAO6L,MAAM,OAAQ,2CA5BmB,yBAAA9J,EAAAG,SAAAL,EAAA,kBAAV,gBAAAM,GAAA,OAAAV,EAAAW,MAAAC,KAAAjB,YAAA,K+BvD5B2kB,EAAS,CAAEpQ,MAAO,CAAE5J,IAAK,uCA+CXzG,QAAS0gB,EACTvoB,UAAU,iBAJZ,UAQAH,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CAAQ9F,QAAS2mB,GAAjB,kBC1EZkB,GAAc,CAClBC,mBCAkB,SAAAtnB,GAClB,IAAMtD,EAAWkB,wBAEXuoB,EAAe,kBAAMzpB,EnCFI,CAAET,KCNR,iBkCYzB,OACE4B,EAAAC,EAAAC,cAACwpB,GAAA,EAAD,CACEC,SAAS,EACTC,SAAUtB,EACVuB,OAAQ,KACRpoB,MAAM,gBACNqoB,gBAAgB,GAEhB9pB,EAAAC,EAAAC,cAACupB,GAAD,CACEnB,aAAcA,EACdC,uBAZyB,kBAAM1pB,EAASL,EAAU,wBDa3CurB,OAdf,SAAqB5nB,GACnB,IACI6nB,EADEC,EAAepqB,sBAAY,SAAAC,GAAK,OAAIA,EAAM4pB,QAGhD,GAAIO,EAAc,KACRxrB,EAA0BwrB,EAA1BxrB,UAAWC,EAAeurB,EAAfvrB,WACbwrB,EAAiBV,GAAY/qB,GAEnCurB,EAAchqB,EAAAC,EAAAC,cAACgqB,EAAmBxrB,GAGpC,OAAOsB,EAAAC,EAAAC,cAAA,YAAO8pB,IEXIG,QACW,cAA7BrL,OAAOsL,SAASC,UAEe,UAA7BvL,OAAOsL,SAASC,UAEhBvL,OAAOsL,SAASC,SAASC,MACvB,4FCHAC,GAAY,CAChB3iB,MAAO,CACLC,KAAM,GACN8B,UAAW,EACX3F,MAAO,GACPwmB,WAAY,EACZ3mB,KAAM,EACN4mB,aAAa,EACbC,aAAa,EACbC,SAAU,KACVC,SAAU,MAEZ1iB,gBAAiB,CACfL,KAAM,GACN8B,UAAW,EACX3F,MAAO,GACPwmB,WAAY,EACZ3mB,KAAM,EACN4mB,aAAa,EACbC,aAAa,EACbC,SAAU,KACVC,SAAU,MAEZziB,UAAW,CACTN,KAAM,GACN8B,UAAW,EACX3F,MAAO,GACPwmB,WAAY,EACZ3mB,KAAM,EACN4mB,aAAa,EACbC,aAAa,EACbC,SAAU,KACVC,SAAU,MAEZxiB,WAAY,CACVP,KAAM,GACN8B,UAAW,EACX3F,MAAO,GACPwmB,WAAY,EACZ3mB,KAAM,EACN4mB,aAAa,EACbC,aAAa,EACbC,SAAU,KACVC,SAAU,MAEZ/d,YAAa,MAqEAge,GAlEK,WAA0C,IAAzC/qB,EAAyCgE,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAjCymB,GAAiCpmB,EAAAL,UAAAxC,OAAA,EAAAwC,UAAA,QAAAC,EAApB3F,EAAoB+F,EAApB/F,KAAMC,EAAc8F,EAAd9F,QAC9C,OAAQD,GACN,I5B/DqB,Y4BgEnB,OAAOgD,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEE8H,MAAMxG,OAAAoP,EAAA,EAAApP,CAAA,GACDtB,EAAM8H,MACNvJ,KAGT,I5BrEoB,W4BsElB,OAAO+C,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEE+M,YAAaxO,EAAQ0E,OAEzB,I5B3E6B,oB4B4E3B,OAAQ1E,EAAQD,MACd,IAAK,aACH,OAAOgD,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEoI,gBAAiB7J,EAAQkB,OAE7B,IAAK,OACH,OAAO6B,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEqI,UAAW9J,EAAQkB,OAEvB,IAAK,QACH,OAAO6B,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEsI,WAAY/J,EAAQkB,OAExB,QACE,OAAO6B,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEoI,gBAAiB7J,EAAQkB,OAGjC,I5BhGoB,W4BqGpB,I5BpGuB,c4BqGrB,OAAO6B,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEE+M,YAAaxO,EAAQ0E,OAEzB,I5BvG2B,kB4BwG3B,I5BvGqB,Y4BwGrB,I5BvGuB,c4BwGvB,I5BvG+B,sB4BwG7B,OAAO3B,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEE+M,YAAaxO,EAAQ0E,OAEzB,I5BhHsB,a4BiHpB,OAAO3B,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEE+M,YAAa,OAEjB,QACE,OAAO/M,ICvHPyqB,GAAY,CAChB3qB,SAAU,GACVqH,gBAJYrF,aAAa0D,QAAQ,UAyBpBwlB,GAlBK,WAA+B,IAA9BhrB,EAA8BgE,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAtBymB,GAAWQ,EAAWjnB,UAAAxC,OAAA,EAAAwC,UAAA,QAAAC,EACjD,OAAQgnB,EAAO3sB,MACb,InCTyB,gBmCUvB,OAAOgD,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEF,SAAUmrB,EAAO1sB,QAAQiB,KACzB2H,eAAe,IAEnB,InCdkB,SmCehB,OAAO7F,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEmH,eAAe,IAEnB,QACE,OAAOnH,ICjBPyqB,GAAY,CAChBviB,SAAS,EACT9J,WAAY,KACZC,MAAO,KACPoQ,MAAO,MAkCMyc,GA/BM,WAA0C,IAAzClrB,EAAyCgE,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAjCymB,GAAiCpmB,EAAAL,UAAAxC,OAAA,EAAAwC,UAAA,QAAAC,EAApB3F,EAAoB+F,EAApB/F,KAAMC,EAAc8F,EAAd9F,QAC/C,OAAQD,GACN,IxCf8B,qBwCgB5B,OAAOgD,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEkI,SAAS,EACT9J,WAAYG,EAAQH,WACpBC,MAAOE,EAAQF,MACfoQ,MAAO,OAEX,IxCtB+B,sBwCuB7B,OAAOnN,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEkI,SAAS,EACT9J,WAAY,KACZC,MAAO,KACPoQ,MAAO,OAEX,IxC7B8B,qBwC8B5B,OAAOnN,OAAAoP,EAAA,EAAApP,CAAA,GACFtB,EADL,CAEEkI,SAAS,EACT9J,WAAY,KACZC,MAAO,KACPoQ,MAAOlQ,EAAQE,MAEnB,QACE,OAAOuB,ICtBEmrB,GAfM,WAAyD,IAAxDnrB,EAAwDgE,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAD7C,KAC6CK,EAAAL,UAAAxC,OAAA,EAAAwC,UAAA,QAAAC,EAApB3F,EAAoB+F,EAApB/F,KAAMC,EAAc8F,EAAd9F,QAC9D,OAAQD,GACN,IvCLsB,auCOpB,MAAO,CACLK,UAFgCJ,EAA1BI,UAGNC,WAHgCL,EAAfK,YAKrB,IvCVuB,cuCWrB,OAV2B,KAW7B,QACE,OAAOoB,ICCE+b,GARFqP,2BAAgB,CAC3BnoB,KAAM8nB,GACNvrB,KAAMwrB,GACN/iB,MAAOijB,GACPtoB,OAAQyoB,UACRzB,MAAOuB,KCIMG,GAXQ,WACrB,IAAMC,EAAa,CAACC,MACdC,EAAmBC,+BAAoBC,mBAAe3mB,WAAf,EAAmBumB,IAIhE,OAFcK,uBAAYC,GAAaJ,GAK3BK,GCJdC,IAAS7Z,OACPhS,EAAAC,EAAAC,cAAC4rB,EAAA,SAAD,CAAUV,MAAOA,IACfprB,EAAAC,EAAAC,cCaW,WACb,IAAMrB,EAAWkB,wBAEjB4I,oBAAU,WACRojB,KAEC,IAEH,IAAMA,EAAO,eAAA5nB,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAApE,EAAAqE,KAAG,SAAAC,IAAA,IAAA3F,EAAA,OAAAyF,EAAApE,EAAAuE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,YACR/F,EAAQgD,aAAa0D,QAAQ,UADrB,CAAAb,EAAAE,KAAA,eAGZU,KAHYZ,EAAAE,KAAA,EAIN9F,EAASF,EAAYC,IAJf,wBAAA6F,EAAAG,SAAAL,MAAH,yBAAAJ,EAAAW,MAAAC,KAAAjB,YAAA,GAQb,OACE9D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAACmG,EAAA,EAAD,KACErG,EAAAC,EAAAC,cAAC8rB,EAAD,MACAhsB,EAAAC,EAAAC,cAAC+rB,GAAD,MACAjsB,EAAAC,EAAAC,cAACgsB,EAAD,MACAlsB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aACdH,EAAAC,EAAAC,cAAC6R,EAAA,EAAD,KACE/R,EAAAC,EAAAC,cAAC6R,EAAA,EAAD,CAAOoa,OAAK,EAACC,KAAK,IAAIta,UAAWnK,KACjC3H,EAAAC,EAAAC,cAAC6R,EAAA,EAAD,CAAOoa,OAAK,EAACC,KAAK,oBAAoBta,UAAWrI,KACjDzJ,EAAAC,EAAAC,cAAC6R,EAAA,EAAD,CAAOoa,OAAK,EAACC,KAAK,wBAAwBta,UAAWnF,KACrD3M,EAAAC,EAAAC,cAAC6R,EAAA,EAAD,CAAOoa,OAAK,EAACC,KAAK,aAAata,UAAW5B,KAC1ClQ,EAAAC,EAAAC,cAAC6R,EAAA,EAAD,CAAOoa,OAAK,EAACC,KAAK,WAAWta,UAAWL,KACxCzR,EAAAC,EAAAC,cAACmsB,GAAD,CAAcF,OAAK,EAACC,KAAK,aAAata,UAAWG,KACjDjS,EAAAC,EAAAC,cAACmsB,GAAD,CAAcF,OAAK,EAACC,KAAK,cAActa,UAAW4G,KAClD1Y,EAAAC,EAAAC,cAACmsB,GAAD,CACEF,OAAK,EACLC,KAAM,CAAC,0BAA2B,aAClCta,UAAW2T,OAIjBzlB,EAAAC,EAAAC,cAACosB,EAAD,SDnDJ,OAEF3Q,SAAS4Q,eAAe,SPiGpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMttB,KAAK,SAAAutB,GACjCA,EAAaC","file":"static/js/main.64189341.chunk.js","sourcesContent":["import {\r\n  ASYNC_ACTION_START,\r\n  ASYNC_ACTION_FINISH,\r\n  ASYNC_ACTION_ERROR,\r\n} from './async.constants';\r\n\r\nexport const asyncActionStart = (actionType, elmId) => ({\r\n  type: ASYNC_ACTION_START,\r\n  payload: { actionType, elmId },\r\n});\r\n\r\nexport const asyncActionFinish = () => ({ type: ASYNC_ACTION_FINISH });\r\n\r\nexport const asyncActionError = err => ({\r\n  type: ASYNC_ACTION_ERROR,\r\n  payload: { err },\r\n});\r\n","export const ASYNC_ACTION_START = 'ASYNC_ACTION_START';\r\nexport const ASYNC_ACTION_FINISH = 'ASYNC_ACTION_FINISH';\r\nexport const ASYNC_ACTION_ERROR = 'ASYNC_ACTION_ERROR';\r\nexport const ASYNC_ACTION_CLEAR = 'ASYNC_ACTION_CLEAR';\r\n","import { OPEN_MODAL, CLOSE_MODAL } from './modal.constants';\r\n\r\nexport const openModal = (modalType, modalProps) => ({\r\n  type: OPEN_MODAL,\r\n  payload: { modalType, modalProps },\r\n});\r\n\r\nexport const closeModal = () => ({ type: CLOSE_MODAL });\r\n","export const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\r\n","import axios from \"axios\";\r\nimport { SET_AUTH_USER, LOGOUT } from \"./user.constant\";\r\nimport {\r\n  asyncActionStart,\r\n  asyncActionFinish,\r\n  asyncActionError,\r\n} from \"../async/async.actions\";\r\nimport { closeModal } from \"../modal/modal.actions\";\r\nimport { toastr } from \"react-redux-toastr\";\r\n\r\nexport const login = (userCredentials, history) => (dispatch) => {\r\n  const { email, password } = userCredentials;\r\n\r\n  dispatch(asyncActionStart(\"login\"));\r\n\r\n  axios\r\n    .post(\"https://still-castle-31935.herokuapp.com/api/auth/login\", {\r\n      email,\r\n      password,\r\n    })\r\n    .then((res) => {\r\n      const token = res.data.token;\r\n      localStorage.setItem(\"token\", token);\r\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n\r\n      return axios.get(\"https://still-castle-31935.herokuapp.com/api/auth/\");\r\n    })\r\n    .then((res) => {\r\n      const user = res.data;\r\n\r\n      dispatch({ type: SET_AUTH_USER, payload: { user } });\r\n      dispatch(asyncActionFinish());\r\n      history.push(\"/\");\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      dispatch(asyncActionError(err.response.data));\r\n    });\r\n};\r\n\r\nexport const register = (userCredentials, history) => (dispatch) => {\r\n  const { username, email, password, confirmPassword } = userCredentials;\r\n  axios\r\n    .post(\"https://still-castle-31935.herokuapp.com/api/auth/register\", {\r\n      username,\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n    })\r\n    .then((res) => {\r\n      const token = res.data.token;\r\n      localStorage.setItem(\"token\", token);\r\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n\r\n      return axios.get(\"https://still-castle-31935.herokuapp.com/api/auth/\");\r\n    })\r\n    .then((res) => {\r\n      const user = res.data;\r\n\r\n      dispatch({ type: SET_AUTH_USER, payload: { user } });\r\n      history.push(\"/\");\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getAuthUser = (token) => (dispatch) => {\r\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n\r\n  axios\r\n    .get(\"https://still-castle-31935.herokuapp.com/api/auth/\")\r\n    .then((res) => {\r\n      const user = res.data;\r\n\r\n      dispatch({ type: SET_AUTH_USER, payload: { user } });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const uploadProfileImage = (file) => async (dispatch) => {\r\n  const formData = new FormData();\r\n  const config = {\r\n    headers: {\r\n      \"content-type\": \"multipart/form-data\",\r\n    },\r\n  };\r\n  formData.append(\"image\", file.originFileObj);\r\n\r\n  dispatch(asyncActionStart(\"uploadAvatar\"));\r\n  try {\r\n    const res = await axios.post(\r\n      \"https://still-castle-31935.herokuapp.com/api/auth/me/upload\",\r\n      formData,\r\n      config\r\n    );\r\n    const { user } = res.data;\r\n\r\n    dispatch({ type: SET_AUTH_USER, payload: { user } });\r\n    dispatch(getAuthUser());\r\n    // dispatch(getAuthProfile());\r\n    dispatch(asyncActionFinish());\r\n    dispatch(closeModal());\r\n    toastr.success(\"Success\", \"Your avatar has been updated\");\r\n  } catch (err) {\r\n    console.log(err.response.data);\r\n\r\n    dispatch(asyncActionError());\r\n    toastr.error(\"Oops\", \"Some thing went wrong, please try again\");\r\n  }\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  localStorage.removeItem(\"token\");\r\n  dispatch({ type: SET_AUTH_USER, payload: { user: {} } });\r\n  dispatch({ type: LOGOUT });\r\n};\r\n","export const LOGIN = 'LOGIN';\r\nexport const REGISTER = 'REGISTER';\r\nexport const SET_AUTH_USER = 'SET_AUTH_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n","import React, { Fragment } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport { logout } from \"../user/user.actions\";\r\nimport { Nav, NavDropdown, Container } from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nconst Menubar = () => {\r\n  const { authUser } = useSelector((state) => state.user);\r\n  const dispatch = useDispatch();\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Container>\r\n        <Navbar collapseOnSelect expand=\"lg\">\r\n          <Navbar.Brand as={NavLink} to=\"/\">\r\n            <img className=\"logo\" src=\"./assets/images/logo.png\" alt=\"\" />\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"mr-auto\">\r\n              <Nav.Link as={NavLink} to=\"/\">\r\n                Trang chủ\r\n              </Nav.Link>\r\n              <Nav.Link as={NavLink} to=\"/cam-nang-du-lich\">\r\n                Cẩm nang du lịch\r\n              </Nav.Link>\r\n              <Nav.Link as={NavLink} to=\"/lich-trinh\">\r\n                Bạn muốn đến?\r\n              </Nav.Link>\r\n              {Object.keys(authUser).length > 0 ? (\r\n                <Fragment>\r\n                  <NavDropdown title=\"Tài khoản\" id=\"collasible-nav-dropdown\">\r\n                    <NavDropdown.Item as={NavLink} to=\"/tai-khoan\">\r\n                      Tài khoản của tôi\r\n                    </NavDropdown.Item>\r\n\r\n                    <NavDropdown.Item onClick={handleLogout}>\r\n                      Đăng xuất\r\n                    </NavDropdown.Item>\r\n                  </NavDropdown>\r\n                  <Nav.Link as={NavLink} to=\"/viet-bai\">\r\n                    <i className=\"fas fa-edit\"></i>\r\n                    Viết bài\r\n                  </Nav.Link>\r\n                </Fragment>\r\n              ) : (\r\n                <Fragment>\r\n                  <Nav.Link as={NavLink} to=\"/dang-ky\">\r\n                    Đăng ký\r\n                  </Nav.Link>\r\n\r\n                  <Nav.Link as={NavLink} to=\"/dang-nhap\">\r\n                    Đăng nhập\r\n                  </Nav.Link>\r\n                </Fragment>\r\n              )}\r\n            </Nav>\r\n            <Nav>\r\n              <div className=\"igi_box_search\">\r\n                <form className=\"search-form\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Từ khóa tìm kiếm...\"\r\n                  />\r\n                  <input type=\"submit\" value=\"\" />\r\n                </form>\r\n              </div>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </Container>\r\n      <div className=\"clearfix\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menubar;\r\n","import React, { Component } from \"react\";\r\n// import { Container, Col, Row } from \"react-bootstrap\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer>\r\n        <div className=\"clear\"></div>\r\n        {/* <div className='content-footer'>\r\n          <div className='footer-top'>\r\n            <Container>\r\n              <Row>\r\n                <Col xs='12' sm='6' md='3' lg='3'>\r\n                  <div className='img-footer pl'>\r\n                    <img\r\n                      alt=''\r\n                      className='img-respon'\r\n                      src='./../../assets/images/logo.png'\r\n                    />\r\n                  </div>\r\n                </Col>\r\n                <Col xs='12' sm='6' md='3' lg='3'>\r\n                  <div className='pl mt'>\r\n                    <h3 className='title-menu'>The logde</h3>\r\n                    <div className='list-menu'>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>\r\n                          Add: Penny Rafferty, Executive Officer, Luxury Lodges\r\n                          of Australia Ltd\r\n                        </h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Phone: 0123.456.789</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Email: penny@luxurylodgesofaustralia.com.au</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Website: www.demo.com</h2>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                <Col xs='12' sm='6' md='3' lg='3'>\r\n                  <div className='footer-menu mt'>\r\n                    <h3 className='title-menu'>userful links</h3>\r\n                    <div className='list-menu'>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>About us</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Gallery</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Packege tour</h2>\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <h2>Book now</h2>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                <Col xs='12' sm='6' md='3' lg='3'>\r\n                  <div className='footer-icon mt'>\r\n                    <h3 className='title-menu'>Follow us</h3>\r\n                    <div className='list-menu'>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/fb.png' alt='' />\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/tw.png' alt='' />\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/yt.png' alt='' />\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/ma.png' alt='' />\r\n                      </a>\r\n                      <a href='#!' className='items-menu' title=''>\r\n                        <img src='./../../assets/images/p.png' alt='' />\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                <div className='clearfix'></div>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        </div> */}\r\n        <section className=\"bottom-footer\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"content-footer\">\r\n                <div className=\"copyright\">\r\n                  Copyright © DuLichVietNam: Chia sẻ kinh nghiệm từ A - Z\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport ReduxToastr from 'react-redux-toastr';\r\n\r\nfunction Toastr(props) {\r\n  return (\r\n    <ReduxToastr\r\n      timeOut={2000}\r\n      newestOnTop={false}\r\n      preventDuplicates\r\n      position='bottom-right'\r\n      getState={state => state.toastr} // This is the default\r\n      transitionIn='fadeIn'\r\n      transitionOut='fadeOut'\r\n      closeOnToastrClick\r\n    />\r\n  );\r\n}\r\n\r\nexport default Toastr;\r\n","export const textEditorConfig = {\r\n  modules: {\r\n    toolbar: [\r\n      [{ header: '1' }, { header: '2' }, { font: [] }],\r\n      [{ size: [] }],\r\n      ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n      [\r\n        { list: 'ordered' },\r\n        { list: 'bullet' },\r\n        { indent: '-1' },\r\n        { indent: '+1' },\r\n      ],\r\n      ['link', 'image', 'video'],\r\n      ['clean'],\r\n    ],\r\n    clipboard: {\r\n      // toggle to add extra line breaks when pasting HTML:\r\n      matchVisual: false,\r\n    },\r\n  },\r\n  formats: [\r\n    'header',\r\n    'font',\r\n    'size',\r\n    'bold',\r\n    'italic',\r\n    'underline',\r\n    'strike',\r\n    'blockquote',\r\n    'list',\r\n    'bullet',\r\n    'indent',\r\n    'link',\r\n    'image',\r\n    'video',\r\n  ],\r\n};\r\n\r\nexport const actionTypes = {\r\n  post: {\r\n    CREATE_POST: 'CREATE_POST',\r\n    UPDATE_POST: 'UPDATE_POST',\r\n    FETCH_POSTS: 'FETCH_POSTS',\r\n    FETCH_POST: 'FETCH_POST',\r\n    COMMENT_ON_POST: 'COMMENT_ON_POST',\r\n    DELETE_POST_COMMENT: 'DELETE_POST_COMMENT',\r\n    LIKE_POST: 'LIKE_POST',\r\n    UNLIKE_POST: 'UNLIKE_POST',\r\n  },\r\n};\r\n\r\nexport const defaultImage = {\r\n  BACKGROUND: 'assets/images/default.jpg',\r\n};\r\n\r\nexport const columnsTable = {\r\n  columnsPlace: [\r\n    {\r\n      title: 'Tên địa điểm',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Giá',\r\n      dataIndex: 'price',\r\n      key: 'price',\r\n    },\r\n    {\r\n      title: 'Địa chỉ',\r\n      dataIndex: 'address',\r\n      key: 'address',\r\n    },\r\n    {\r\n      title: 'Thời gian tham quan',\r\n      dataIndex: 'time',\r\n      key: 'time',\r\n    },\r\n  ],\r\n  columnsHotel: [\r\n    {\r\n      title: 'Tên khách sạn',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Giá',\r\n      dataIndex: 'price',\r\n      key: 'price',\r\n    },\r\n    {\r\n      title: 'Địa chỉ',\r\n      dataIndex: 'address',\r\n      key: 'address',\r\n    },\r\n    {\r\n      title: 'Ảnh',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n    },\r\n  ],\r\n  columnsFood: [\r\n    {\r\n      title: 'Tên món ăn',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Giá',\r\n      dataIndex: 'price',\r\n      key: 'price',\r\n    },\r\n    {\r\n      title: 'Địa chỉ',\r\n      dataIndex: 'address',\r\n      key: 'address',\r\n    },\r\n    {\r\n      title: 'Ảnh',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n    },\r\n  ],\r\n};\r\n","import axios from \"axios\";\r\nimport { toastr } from \"react-redux-toastr\";\r\nimport {\r\n  GET_POSTS,\r\n  GET_POST,\r\n  ADD_POST,\r\n  CLEAR_POST,\r\n  UPDATE_POST,\r\n  COMMENT_ON_POST,\r\n  DELETE_POST_COMMENT,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  GET_POSTS_BY_TYPE,\r\n} from \"./post.constant\";\r\nimport {\r\n  asyncActionStart,\r\n  asyncActionFinish,\r\n  asyncActionError,\r\n} from \"../async/async.actions\";\r\nimport { actionTypes } from \"../../app/utils/config\";\r\n\r\nexport const fetchPosts = (page = null, limit = null) => (dispatch) => {\r\n  dispatch(asyncActionStart(actionTypes.post.FETCH_POSTS));\r\n  const query = page && limit ? `?page=${page}&limit=${limit}` : \"\";\r\n\r\n  axios\r\n    .get(`https://still-castle-31935.herokuapp.com/api/post/${query}`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      dispatch({\r\n        type: GET_POSTS,\r\n        payload: res.data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const fetchPostsByType = (type, page = null, limit = null) => async (\r\n  dispatch\r\n) => {\r\n  dispatch(asyncActionStart(actionTypes.post.FETCH_POSTS));\r\n  const query = page && limit ? `?page=${page}&limit=${limit}` : \"\";\r\n\r\n  axios\r\n    .get(\r\n      `https://still-castle-31935.herokuapp.com/api/post/type/${type}/${query}`\r\n    )\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_POSTS_BY_TYPE,\r\n        payload: {\r\n          data: res.data,\r\n          type,\r\n        },\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const fetchPost = (id) => (dispatch) => {\r\n  dispatch(asyncActionStart(actionTypes.post.FETCH_POST));\r\n  axios\r\n    .get(`https://still-castle-31935.herokuapp.com/api/post/${id}`)\r\n    .then((res) => {\r\n      const { post } = res.data;\r\n      dispatch({ type: GET_POST, payload: { post } });\r\n      dispatch(asyncActionFinish());\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const fetchPostProfile = (token, page = 1, limit = 6) => (dispatch) => {\r\n  dispatch(asyncActionStart(actionTypes.post.FETCH_POSTS));\r\n\r\n  // axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n\r\n  axios\r\n    .get(\r\n      `https://still-castle-31935.herokuapp.com/api/post/me/?page=${page}&limit=${limit}`,\r\n      {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    )\r\n    .then((res) => {\r\n      const { docs, total, limit, page, pages } = res.data;\r\n      dispatch({\r\n        type: GET_POSTS,\r\n        payload: { posts: docs, total, limit, page, pages },\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const createPost = (newPost, history) => (dispatch) => {\r\n  const formData = new FormData();\r\n\r\n  formData.append(\"title\", newPost.title);\r\n  formData.append(\"content\", newPost.content);\r\n  formData.append(\"type\", newPost.type);\r\n\r\n  if (newPost.image.file) {\r\n    formData.append(\"image\", newPost.image.file.originFileObj);\r\n  }\r\n\r\n  const config = {\r\n    headers: {\r\n      \"content-type\": \"multipart/form-data\",\r\n    },\r\n  };\r\n\r\n  dispatch(asyncActionStart(actionTypes.post.CREATE_POST));\r\n\r\n  axios\r\n    .post(\r\n      `https://still-castle-31935.herokuapp.com/api/post/`,\r\n      formData,\r\n      config\r\n    )\r\n    .then((res) => {\r\n      const { post } = res.data;\r\n\r\n      dispatch({ type: ADD_POST, payload: { post } });\r\n      dispatch(asyncActionFinish());\r\n      toastr.success(\"Success\", \"Your post has been created\");\r\n      history.push(`/cam-nang-du-lich/${post._id}`);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      toastr.error(\"Oops\", \"Some thing when wrong, please try again\");\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const updatePost = (updatedPost, history) => (dispatch) => {\r\n  const formData = new FormData();\r\n\r\n  if (updatedPost.title) formData.append(\"title\", updatedPost.title);\r\n  if (updatedPost.content) formData.append(\"content\", updatedPost.content);\r\n  if (updatedPost.type) formData.append(\"type\", updatedPost.type);\r\n\r\n  if (updatedPost.image.file) {\r\n    formData.append(\"image\", updatedPost.image.file.originFileObj);\r\n  }\r\n\r\n  const config = {\r\n    headers: {\r\n      \"content-type\": \"multipart/form-data\",\r\n    },\r\n  };\r\n\r\n  dispatch(asyncActionStart(actionTypes.post.UPDATE_POST));\r\n\r\n  axios\r\n    .post(\r\n      `https://still-castle-31935.herokuapp.com/api/post/${updatedPost._id}`,\r\n      formData,\r\n      config\r\n    )\r\n    .then((res) => {\r\n      const { post } = res.data;\r\n\r\n      dispatch({ type: UPDATE_POST, payload: { post } });\r\n      dispatch(asyncActionFinish());\r\n      toastr.success(\"Success\", \"Your post has been updated\");\r\n      history.push(`/cam-nang-du-lich/${post._id}`);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      toastr.error(\"Oops\", \"Some thing when wrong, please try again\");\r\n      dispatch(asyncActionError());\r\n    });\r\n};\r\n\r\nexport const commentOnPost = (postId, comment) => async (dispatch) => {\r\n  dispatch(asyncActionStart(actionTypes.post.CREATE_POST));\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      `https://still-castle-31935.herokuapp.com/api/post/comment/${postId}`,\r\n      comment\r\n    );\r\n    const { post } = response.data;\r\n\r\n    dispatch({ type: COMMENT_ON_POST, payload: { post } });\r\n    dispatch(asyncActionFinish());\r\n  } catch (err) {\r\n    console.log(err);\r\n    toastr.error(\"Oops\", \"Some thing when wrong, please try again\");\r\n    dispatch(asyncActionError());\r\n  }\r\n};\r\n\r\nexport const deletePostComment = (postId, commentId) => async (dispatch) => {\r\n  dispatch(asyncActionStart(actionTypes.post.DELETE_POST_COMMENT, commentId));\r\n\r\n  try {\r\n    const response = await axios.delete(\r\n      `https://still-castle-31935.herokuapp.com/api/post/comment/${postId}/${commentId}`\r\n    );\r\n    const { post } = response.data;\r\n\r\n    dispatch({ type: DELETE_POST_COMMENT, payload: { post } });\r\n    dispatch(asyncActionFinish());\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(asyncActionError());\r\n    toastr.error(\"Oops\", \"Some thing went wrong, please try again\");\r\n  }\r\n};\r\n\r\nexport const likePost = (postId) => async (dispatch) => {\r\n  dispatch(asyncActionStart(actionTypes.post.LIKE_POST));\r\n\r\n  try {\r\n    const response = await axios.put(\r\n      `https://still-castle-31935.herokuapp.com/api/post/like/${postId}`\r\n    );\r\n    const { post } = response.data;\r\n\r\n    dispatch({ type: LIKE_POST, payload: { post } });\r\n    dispatch(asyncActionFinish());\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(asyncActionError());\r\n    toastr.error(\"Oops\", err.response.data.general.msg);\r\n  }\r\n};\r\n\r\nexport const unlikePost = (postId) => async (dispatch) => {\r\n  dispatch(asyncActionStart(actionTypes.post.UNLIKE_POST));\r\n\r\n  try {\r\n    const response = await axios.put(\r\n      `https://still-castle-31935.herokuapp.com/api/post/unlike/${postId}`\r\n    );\r\n    const { post } = response.data;\r\n\r\n    dispatch({ type: UNLIKE_POST, payload: { post } });\r\n    dispatch(asyncActionFinish());\r\n  } catch (err) {\r\n    console.log(err.response.data);\r\n    dispatch(asyncActionError());\r\n    toastr.error(\"Oops\", err.response.data.general.msg);\r\n  }\r\n};\r\n\r\nexport const clearPost = () => ({ type: CLEAR_POST });\r\n","export const GET_POSTS = 'GET_POSTS';\r\nexport const GET_POSTS_BY_TYPE = 'GET_POSTS_BY_TYPE';\r\nexport const GET_POST = 'GET_POST';\r\nexport const ADD_POST = 'ADD_POST';\r\nexport const UPDATE_POST = 'UPDATE_POST';\r\nexport const CLEAR_POST = 'CLEAR_POST';\r\nexport const COMMENT_ON_POST = 'COMMENT_ON_POST';\r\nexport const LIKE_POST = 'LIKE_POST';\r\nexport const UNLIKE_POST = 'UNLIKE_POST';\r\nexport const DELETE_POST_COMMENT = 'DELETE_POST_COMMENT';\r\n","import axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nexport const setAuthToken = () => {\r\n  const token = localStorage.getItem('token');\r\n\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n\r\nexport const formatDate = string => moment(string).format('YYYY-MM-DD');\r\n\r\nexport const formatRowData = dataSource =>\r\n  dataSource.map((data, index) => ({\r\n    ...data,\r\n    key: index,\r\n    year: `${formatDate(data.from)} - ${data.to ? formatDate(data.to) : 'Now'}`,\r\n  }));\r\n\r\nexport const setDefaultAxios = () => {\r\n  const token = localStorage.getItem('token');\r\n  // const PORT = process.env.PORT || 5000;\r\n\r\n  // axios.defaults.baseURL = `http://localhost:${PORT}/api`;\r\n  axios.defaults.headers.post['Content-Type'] = 'application/json';\r\n\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n","import React from 'react';\r\nimport {Typography} from 'antd'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst IconText = ({ icon: Icon, text, ...rest }) => (\r\n  <Text {...rest} style={{ display: 'flex', alignItems: 'center' }} >\r\n    <Icon style={{ marginRight: 8 }} />\r\n    <span>{text}</span>\r\n  </Text>\r\n);\r\n\r\nexport default  IconText;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { defaultImage } from \"../../app/utils/config\";\r\nimport { Space } from \"antd\";\r\nimport { CalendarOutlined, EyeOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport { formatDate } from \"../../app/utils/helper\";\r\nimport IconText from \"../../app/Layout/common/IconText\";\r\n\r\nconst BannerHome = ({ post }) => (\r\n  <div className=\"module-banner\">\r\n    <Link to={`/cam-nang-du-lich/${post._id}`}>\r\n      <img\r\n        className=\"img-respon img-banner\"\r\n        src={post.mainPhoto || defaultImage.BACKGROUND}\r\n        alt=\"\"\r\n      />\r\n\r\n      <div className=\"title-bn\">\r\n        <h2 className=\"link-news\">{post.title}</h2>\r\n        <Space>\r\n          <IconText icon={UserOutlined} text={post.user.name} />|\r\n          <IconText icon={CalendarOutlined} text={formatDate(post.date)} />|\r\n          <IconText icon={EyeOutlined} text={post.views} />\r\n        </Space>\r\n      </div>\r\n    </Link>\r\n  </div>\r\n);\r\n\r\nexport default BannerHome;\r\n","import React from \"react\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { defaultImage } from \"../../../app/utils/config\";\r\nimport { Button, Space } from \"antd\";\r\nimport {\r\n  EditOutlined,\r\n  UserOutlined,\r\n  CalendarOutlined,\r\n  EyeOutlined,\r\n} from \"@ant-design/icons\";\r\nimport IconText from \"../../../app/Layout/common/IconText\";\r\nimport { formatDate } from \"../../../app/utils/helper\";\r\n\r\nconst ItemPost = ({ post, authenticated, authUser }) => (\r\n  <Col xs=\"12\" sm=\"6\" md=\"4\" lg=\"3\">\r\n    <div className=\"item-news\">\r\n      <div className=\"img-news\">\r\n        <img\r\n          className=\"img-respon\"\r\n          src={post.mainPhoto || defaultImage.BACKGROUND}\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div className=\"txt-news\">\r\n        <Link to={`/cam-nang-du-lich/${post._id}`}>\r\n          <h2 className=\"link-news\">{post.title}</h2>\r\n        </Link>\r\n        <Space>\r\n          <IconText icon={UserOutlined} text={post.user.name} />|\r\n          <IconText icon={CalendarOutlined} text={formatDate(post.date)} />|\r\n          <IconText icon={EyeOutlined} text={post.views} />\r\n        </Space>\r\n        <div className=\"item-content\">{post.shortDescription}</div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"flex-end\",\r\n          }}\r\n        >\r\n          {authenticated && authUser._id === post.user._id && (\r\n            <Link to={`/chinh-sua-bai-viet/${post._id}`}>\r\n              <Button type=\"link\" icon={<EditOutlined />} />\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Col>\r\n);\r\n\r\nexport default ItemPost;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Carousel, Row, Col, Spin } from \"antd\";\r\nimport { fetchPosts, fetchPostsByType } from \"../post/post.actions\";\r\nimport BannerHome from \"./BannerHome\";\r\nimport ItemPost from \"../post/ItemPost/ItemPost\";\r\nimport { Container } from \"reactstrap\";\r\nimport { actionTypes } from \"../../app/utils/config\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  const { docs: posts } = useSelector((state) => state.post.posts);\r\n  const { loading, actionType } = useSelector((state) => state.async);\r\n  const {\r\n    experiencePosts: { docs: experiencePosts },\r\n    foodPosts: { docs: foodPosts },\r\n    placePosts: { docs: placePosts },\r\n  } = useSelector((state) => state.post);\r\n  const [postsCarousel, setPostsCarousel] = useState([]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPosts());\r\n    dispatch(fetchPostsByType(\"experience\", 1, 6));\r\n    dispatch(fetchPostsByType(\"food\", 1, 6));\r\n    dispatch(fetchPostsByType(\"place\", 1, 6));\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (posts && posts.length && postsCarousel.length === 0) {\r\n      setPostsCarousel(posts);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [posts]);\r\n\r\n  const loadingGrid =\r\n    actionType === actionTypes.post.FETCH_POSTS ? loading : false;\r\n\r\n  return (\r\n    <Spin spinning={loadingGrid}>\r\n      <main>\r\n        <div className=\"\">\r\n          <div className=\"igi_banner\">\r\n            <Carousel autoplay>\r\n              {postsCarousel.map((post) => (\r\n                <BannerHome post={post} key={post._id} />\r\n              ))}\r\n            </Carousel>\r\n          </div>\r\n\r\n          <div className=\"intro igi_module\">\r\n            <Container>\r\n              <Row>\r\n                <Col lg={12} md={12} sm={12} xs={24}>\r\n                  <img\r\n                    className=\"img-respon\"\r\n                    src=\"./assets/images/gioithieu.JPG\"\r\n                    alt=\"\"\r\n                  />\r\n                </Col>\r\n                <Col lg={12} md={12} sm={12} xs={24}>\r\n                  <div className=\"content-gt\">\r\n                    <div>\r\n                      <h3 className=\"paci-font\">Giới thiệu chung</h3>\r\n                      <h2 className=\"title-gt\">Du lịch Việt Nam</h2>\r\n                    </div>\r\n                    <div>\r\n                      <p>\r\n                        Đất nước ta trải qua hàng nghìn năm dựng nước, giữ nước.\r\n                      </p>\r\n                      <p>\r\n                        Con người chân thành, mộc mạc chất phát. Những tháng\r\n                        ngày thống khổ của cha ông đã viết lên những trang sử\r\n                        hào hùng. Vẻ đẹp từ tâm hồn, từ con người ấy càng đẹp\r\n                        hơn khi chúng ta được tạo hóa ban tặng thiên nhiên hùng\r\n                        vĩ, đường bờ biển chạy dài dọc theo hình chữ S của tổ\r\n                        quốc. Còn điều gì tuyệt vời hơn khí có sông, có núi, có\r\n                        biển. Sự hài hòa của thiên, nét đẹp hùng vĩ bao trùm lên\r\n                        những con người với nét đẹp mộc mạc đậm chất Á Đông. Sẽ\r\n                        thật thiếu sót khi bạn không dành cho cuộc đời những\r\n                        chuyến đi khám phá nét đẹp ấy của đất nước tuyệt đẹp,\r\n                        của chính mình.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n\r\n          <div className=\"igi_module news-list\">\r\n            <Container>\r\n              <div className=\"border-bot\">\r\n                <span className=\"tt-home\">Kinh nghiệm du lịch từ A-Z</span>\r\n              </div>\r\n              <Row>\r\n                {experiencePosts &&\r\n                  experiencePosts.length > 0 &&\r\n                  experiencePosts.map((post) => (\r\n                    <ItemPost post={post} key={post._id} />\r\n                  ))}\r\n              </Row>\r\n              <Link to=\"/cam-nang-du-lich\">Xem thêm</Link>\r\n            </Container>\r\n          </div>\r\n\r\n          <div className=\"igi_module news-list\">\r\n            <Container>\r\n              <div className=\"border-bot\">\r\n                <span className=\"tt-home\">Ăn & chơi</span>\r\n              </div>\r\n              <Row>\r\n                {foodPosts &&\r\n                  foodPosts.length > 0 &&\r\n                  foodPosts.map((post) => (\r\n                    <ItemPost post={post} key={post._id} />\r\n                  ))}\r\n              </Row>\r\n              <Link to=\"/cam-nang-du-lich\">Xem thêm</Link>\r\n            </Container>\r\n          </div>\r\n\r\n          <div className=\"igi_module news-list\">\r\n            <Container>\r\n              <div className=\"border-bot\">\r\n                <span className=\"tt-home\">Điểm check-in siêu hot</span>\r\n              </div>\r\n              <Row>\r\n                {placePosts &&\r\n                  placePosts.length > 0 &&\r\n                  placePosts.map((post) => (\r\n                    <ItemPost post={post} key={post._id} />\r\n                  ))}\r\n              </Row>\r\n              <Link to=\"/cam-nang-du-lich\">Xem thêm</Link>\r\n            </Container>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { defaultImage } from \"../../../app/utils/config\";\r\nimport { Space } from \"antd\";\r\nimport { CalendarOutlined, EyeOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport IconText from \"../../../app/Layout/common/IconText\";\r\nimport { formatDate } from \"../../../app/utils/helper\";\r\n\r\nconst BannerPost = ({ post }) => (\r\n  <Link to={`/cam-nang-du-lich/${post._id}`}>\r\n    <Row>\r\n      <Col xs=\"12\" sm=\"6\" md=\"7\" lg=\"7\">\r\n        <div className=\"img-news\">\r\n          <img\r\n            className=\"img-respon\"\r\n            src={post.mainPhoto || defaultImage.BACKGROUND}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </Col>\r\n      <Col xs=\"12\" sm=\"6\" md=\"5\" lg=\"5\">\r\n        <h2 className=\"link-news\">{post.title}</h2>\r\n        <Space>\r\n          <IconText icon={UserOutlined} text={post.user.name} />|\r\n          <IconText icon={CalendarOutlined} text={formatDate(post.date)} />|\r\n          <IconText icon={EyeOutlined} text={post.views} />\r\n        </Space>\r\n        <div className=\"item-content\">{post.shortDescription}</div>\r\n        {/* <div className=\"text-author\">{post.user.name}</div> */}\r\n      </Col>\r\n    </Row>\r\n  </Link>\r\n);\r\n\r\nexport default BannerPost;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Carousel, Spin, Divider, Pagination } from 'antd';\r\nimport { Container, Row } from 'reactstrap';\r\nimport { fetchPosts } from '../post.actions';\r\nimport ItemPost from '../ItemPost/ItemPost';\r\nimport BannerPost from '../ItemPost/BannerPost';\r\nimport { actionTypes } from '../../../app/utils/config';\r\n\r\nconst NewsList = props => {\r\n  const dispatch = useDispatch();\r\n  const { loading, actionType } = useSelector(state => state.async);\r\n  const { docs: posts, totalDocs } = useSelector(state => state.post.posts);\r\n  const { authUser } = useSelector(state => state.user);\r\n\r\n  const [postsCarousel, setPostsCarousel] = useState([]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPosts(1, 18));\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (posts && posts.length && postsCarousel.length === 0) {\r\n      setPostsCarousel(posts);\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [posts]);\r\n\r\n  const showTotal = total => `Tổng số: ${total} bài viết`;\r\n\r\n  const paginate = page => dispatch(fetchPosts(page, 3));\r\n\r\n  const fetchPostsLoading =\r\n    actionType === actionTypes.post.FETCH_POSTS ? loading : false;\r\n\r\n  const authenticated = Object.keys(authUser).length > 0;\r\n\r\n  return (\r\n    <Spin spinning={fetchPostsLoading}>\r\n      <div className='main-wrap'>\r\n        {/* NOI DUNG */}\r\n        <div className='igi_module news-list'>\r\n          <Container>\r\n            <Carousel autoplay>\r\n              {postsCarousel.map(post => (\r\n                <BannerPost post={post} key={post._id} />\r\n              ))}\r\n            </Carousel>\r\n            <Divider />\r\n            <Row>\r\n              {posts &&\r\n                posts.map(post => (\r\n                  <ItemPost\r\n                    post={post}\r\n                    key={post._id}\r\n                    authenticated={authenticated}\r\n                    authUser={authUser}\r\n                  />\r\n                ))}\r\n\r\n              <Pagination\r\n                size='small'\r\n                total={totalDocs}\r\n                showTotal={showTotal}\r\n                onChange={paginate}\r\n                hideOnSinglePage\r\n                pageSize={18}\r\n              />\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default NewsList;\r\n","import React, { Fragment } from 'react';\r\nimport { List, Comment, Button, Typography } from 'antd';\r\nimport { formatDate } from '../../../app/utils/helper';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport { actionTypes } from '../../../app/utils/config';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction Comments({\r\n  comments,\r\n  authUserId,\r\n  loading,\r\n  loadingType,\r\n  elmId,\r\n  deleteComment,\r\n}) {\r\n  return (\r\n    <Fragment>\r\n      {comments.length > 0 ? (\r\n        <List\r\n          className='comment-list'\r\n          header={`${comments.length} replies`}\r\n          itemLayout='horizontal'\r\n          dataSource={comments}\r\n          renderItem={cmt => (\r\n            <li>\r\n              <Comment\r\n                actions={\r\n                  cmt.user._id === authUserId\r\n                    ? [\r\n                        <Button\r\n                          icon={<DeleteOutlined />}\r\n                          type='link'\r\n                          danger\r\n                          loading={\r\n                            loadingType === actionTypes.post.DELETE_POST_COMMENT &&\r\n                            elmId === cmt._id\r\n                              ? loading\r\n                              : false\r\n                          }\r\n                          onClick={() => deleteComment(cmt._id)}\r\n                        >\r\n                          Delete comment\r\n                        </Button>,\r\n                      ]\r\n                    : []\r\n                }\r\n                author={cmt.user.name}\r\n                avatar={cmt.user.avatar}\r\n                content={cmt.text}\r\n                datetime={formatDate(cmt.date)}\r\n              />\r\n            </li>\r\n          )}\r\n        />\r\n      ) : (\r\n        <Text>This article doesn't have any comment</Text>\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst CommentEditor = ({ onChange, onSubmit, submitting, value }) => (\r\n  <>\r\n    <Form.Item>\r\n      <TextArea rows={4} onChange={onChange} value={value} />\r\n    </Form.Item>\r\n    <Form.Item>\r\n      <Button\r\n        htmlType='submit'\r\n        loading={submitting}\r\n        onClick={onSubmit}\r\n        type='primary'\r\n      >\r\n        Comment\r\n      </Button>\r\n    </Form.Item>\r\n  </>\r\n);\r\n\r\nexport default CommentEditor;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Row, Col } from \"antd\";\r\n\r\nconst ItemSlide = ({ post }) => (\r\n  <div className=\"item-lq\">\r\n    <Link to={`/cam-nang-du-lich/${post._id}`}>\r\n      <Row>\r\n        <Col xs={8} sm={8} md={8} lg={8} xl={8}>\r\n          <div className=\"img-news\">\r\n            <img className=\"img-respon\" src={post.mainPhoto} alt=\"\" />\r\n          </div>\r\n        </Col>\r\n        <Col xs={16} sm={16} md={16} lg={16} xl={16}>\r\n          <div className=\"\">\r\n            <h2 className=\"link-news-lq\">{post.title}</h2>\r\n            {/* <Space>\r\n              <IconText icon={UserOutlined} text={post.user.name} />|\r\n              <IconText icon={EyeOutlined} text={post.views} />\r\n            </Space> */}\r\n          </div>\r\n        </Col>\r\n        <Col xs={24} sm={24} md={24} lg={24}>\r\n          <div className=\"cont-item\">\r\n            <div dangerouslySetInnerHTML={{ __html: post.content }}></div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* <div className='item-content'>{post.shortDescription}</div> */}\r\n    </Link>\r\n  </div>\r\n);\r\n\r\nexport default ItemSlide;\r\n","import React from 'react';\r\nimport ItemSlide from '../../../features/post/ItemPost/ItemSlide';\r\n\r\nconst Sidebar = ({ posts }) => {\r\n  return (\r\n    <div className='post-lq'>\r\n      <h2 className='title-profile'>Bài viết nổi bật</h2>\r\n      <div className='list-item-lq'>\r\n        {posts.map(post => {\r\n          return <ItemSlide post={post} key={post._id} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useEffect, Fragment, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  commentOnPost,\r\n  deletePostComment,\r\n  fetchPost,\r\n  likePost,\r\n  unlikePost,\r\n  fetchPosts,\r\n} from '../post.actions';\r\nimport { Container } from 'reactstrap';\r\nimport Comments from './Comments';\r\nimport CommentEditor from './CommentEditor';\r\nimport { Avatar, Button, Comment, Divider, Space, Row, Col } from 'antd';\r\nimport { actionTypes } from '../../../app/utils/config';\r\nimport {\r\n  CalendarOutlined,\r\n  DislikeFilled,\r\n  EyeOutlined,\r\n  LikeFilled,\r\n  UserOutlined,\r\n} from '@ant-design/icons';\r\nimport IconText from '../../../app/Layout/common/IconText';\r\nimport { formatDate } from '../../../app/utils/helper';\r\nimport Sidebar from '../../../pages/Components/Sidebar/Sidebar';\r\n\r\nconst postAction = actionTypes.post;\r\n\r\nconst PostDetail = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    currentPost,\r\n    posts: { docs: posts },\r\n  } = useSelector(state => state.post);\r\n  const { loading, actionType, elmId } = useSelector(state => state.async);\r\n  const { authUser, authenticated } = useSelector(state => state.user);\r\n  const [comment, setComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(fetchPost(id));\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPosts());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleDeleteComment = commentId =>\r\n    dispatch(deletePostComment(id, commentId));\r\n  const handleChangeComment = e => setComment(e.target.value);\r\n  const handleComment = e => {\r\n    e.preventDefault();\r\n    setComment('');\r\n    dispatch(commentOnPost(id, { text: comment }));\r\n  };\r\n\r\n  const handleLikePost = () => dispatch(likePost(id));\r\n  const handleUnlikePost = () => dispatch(unlikePost(id));\r\n\r\n  // const responsive = {\r\n  //   desktop: {\r\n  //     breakpoint: { max: 3000, min: 1024 },\r\n  //     items: 3,\r\n  //     paritialVisibilityGutter: 60,\r\n  //   },\r\n  //   tablet: {\r\n  //     breakpoint: { max: 1024, min: 464 },\r\n  //     items: 2,\r\n  //     paritialVisibilityGutter: 50,\r\n  //   },\r\n  //   mobile: {\r\n  //     breakpoint: { max: 464, min: 0 },\r\n  //     items: 1,\r\n  //     paritialVisibilityGutter: 30,\r\n  //   },\r\n  // };\r\n\r\n  const {\r\n    comments = [],\r\n    mainPhoto = '',\r\n    title = '',\r\n    content = '',\r\n    date = '',\r\n    user = {},\r\n    likes = [],\r\n    views = 0,\r\n  } = currentPost ? currentPost : {};\r\n\r\n  const commentLoading =\r\n    actionType === postAction.CREATE_POST ? loading : false;\r\n  const likeLoading = actionType === postAction.LIKE_POST ? loading : false;\r\n  const unlikeLoading = actionType === postAction.UNLIKE_POST ? loading : false;\r\n\r\n  return (\r\n    <div className='detail-post'>\r\n      {/*Module Banner*/}\r\n      <div className='module-banner'>\r\n        <img className='img-respon img-banner' src={mainPhoto} alt='' />\r\n\r\n        <div className='title-bn'>\r\n          <h2>{title}</h2>\r\n          <div>\r\n            Trang chủ &nbsp;\r\n            <i className='fas fa-angle-double-right' />\r\n            &nbsp; Cẩm nang du lịch &nbsp;\r\n            <i className='fas fa-angle-double-right' />\r\n            &nbsp; {title}\r\n          </div>\r\n          <Space>\r\n            <IconText icon={UserOutlined} text={user.name} />|\r\n            <IconText icon={CalendarOutlined} text={formatDate(date)} />|\r\n            <IconText icon={EyeOutlined} text={views} />\r\n          </Space>\r\n        </div>\r\n      </div>\r\n      <Container>\r\n        <Row>\r\n          <Col xs={24} sm={24} md={24} lg={18} xl={18}>\r\n            <div className='divContent'>\r\n              <div dangerouslySetInnerHTML={{ __html: content }} />\r\n            </div>\r\n\r\n            {authenticated && (\r\n              <Fragment>\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <Space align='center'>\r\n                    <Button\r\n                      type='primary'\r\n                      icon={<LikeFilled />}\r\n                      loading={likeLoading}\r\n                      onClick={handleLikePost}\r\n                    >\r\n                      Like this Post ({likes.length} likes)\r\n                    </Button>\r\n                    <Button\r\n                      type='primary'\r\n                      icon={<DislikeFilled />}\r\n                      danger={true}\r\n                      loading={unlikeLoading}\r\n                      onClick={handleUnlikePost}\r\n                    >\r\n                      UnLike this Post ({likes.length} likes)\r\n                    </Button>\r\n                  </Space>\r\n                </div>\r\n                <Divider />\r\n              </Fragment>\r\n            )}\r\n            <Comments\r\n              comments={comments}\r\n              authUserId={authUser._id}\r\n              loading={loading}\r\n              loadingType={actionType}\r\n              elmId={elmId}\r\n              deleteComment={handleDeleteComment}\r\n            />\r\n\r\n            {authenticated && (\r\n              <Fragment>\r\n                <Comment\r\n                  avatar={<Avatar src={authUser.avatar} alt={authUser.name} />}\r\n                  content={\r\n                    <CommentEditor\r\n                      onChange={handleChangeComment}\r\n                      onSubmit={handleComment}\r\n                      submitting={commentLoading}\r\n                      value={comment}\r\n                    />\r\n                  }\r\n                />\r\n              </Fragment>\r\n            )}\r\n            <Divider />\r\n          </Col>\r\n          <Col xs={24} sm={24} md={24} lg={6} xl={6}>\r\n            <Sidebar posts={posts} />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostDetail;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { login } from '../user.actions';\r\nimport {\r\n  InputGroup,\r\n  FormControl,\r\n  Alert,\r\n  Spinner,\r\n  Button,\r\n} from 'react-bootstrap';\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { loading, actionType, error } = useSelector(state => state.async);\r\n  const [state, setState] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const onChange = e => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const user = {\r\n      email: state.email,\r\n      password: state.password,\r\n    };\r\n    dispatch(login(user, history));\r\n  };\r\n\r\n  const loginLoading = actionType === 'login' ? loading : false;\r\n\r\n  return (\r\n    <div className='login'>\r\n      <form onSubmit={handleSubmit}>\r\n        {error && error.error && error.error.email && (\r\n          <Alert className='error' variant='danger'>\r\n            {error.error.email.msg}\r\n          </Alert>\r\n        )}\r\n        {error && error.password && (\r\n          <Alert className='error' variant='danger'>\r\n            {error.password.msg}\r\n          </Alert>\r\n        )}\r\n        {error && error.general && error.general.msg && (\r\n          <Alert className='error' variant='danger'>\r\n            {error.general.msg}\r\n          </Alert>\r\n        )}\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='basic-addon1'>\r\n              <i className='fas fa-envelope'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Email'\r\n            aria-label='Email'\r\n            name='email'\r\n            aria-describedby='basic-addon1'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='pass'>\r\n              <i className='fas fa-lock'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Mật khẩu'\r\n            type='password'\r\n            aria-label='Password'\r\n            name='password'\r\n            aria-describedby='pass'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n\r\n        <Button type='submit'>\r\n          {loginLoading && <Spinner animation='border' variant='primary' />}\r\n          Đăng nhập\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { register } from '../user.actions';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\n\r\nconst Register = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [state, setState] = useState({\r\n    email: '',\r\n    password: '',\r\n    username: '',\r\n    confirmPassword: '',\r\n  });\r\n\r\n  const onChange = e => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    console.log(state);\r\n    const user = {\r\n      email: state.email,\r\n      username: state.username,\r\n      password: state.password,\r\n      confirmPassword: state.confirmPassword,\r\n    };\r\n    dispatch(register(user, history));\r\n  };\r\n  return (\r\n    <div className='login'>\r\n      <form onSubmit={handleSubmit}>\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='username'>\r\n              <i className='fas fa-user'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Tên đăng nhập'\r\n            type='text'\r\n            aria-label='Username'\r\n            name='username'\r\n            aria-describedby='username'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='basic-addon1'>\r\n              <i className='fas fa-envelope'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Email'\r\n            type='email'\r\n            aria-label='Email'\r\n            name='email'\r\n            aria-describedby='basic-addon1'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='pass'>\r\n              <i className='fas fa-lock'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Mật khẩu'\r\n            type='password'\r\n            aria-label='Password'\r\n            name='password'\r\n            aria-describedby='pass'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n        <InputGroup className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='confirmpass'>\r\n              <i className='fas fa-lock'></i>\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            placeholder='Xác nhận lại mật khẩu'\r\n            type='password'\r\n            aria-label='ConfirmPassword'\r\n            name='confirmPassword'\r\n            aria-describedby='confirmpass'\r\n            onChange={onChange}\r\n          />\r\n        </InputGroup>\r\n        <button type='submit' className='btn btn-danger fr'>\r\n          Đăng ký\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const { loading } = useSelector(state => state.async);\r\n  const { authenticated } = useSelector(state => state.user);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        !loading && !authenticated ? (\r\n          <Redirect to='/dang-nhap' />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useEffect } from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Sidebar from \"../../../pages/Components/Sidebar/Sidebar\";\r\n// import ModalChargePass from '../../../pages/Components/ModalChargePass/ModalChargePass';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchPosts } from \"../../post/post.actions\";\r\nimport ItemPost from \"../../post/ItemPost/ItemPost\";\r\nimport { Button, Spin } from \"antd\";\r\nimport { openModal } from \"../../modal/modal.actions\";\r\nimport { actionTypes } from \"../../../app/utils/config\";\r\n\r\nconst MyAccount = (props) => {\r\n  const dispatch = useDispatch();\r\n  const { docs: posts } = useSelector((state) => state.post.posts);\r\n  const { authUser } = useSelector((state) => state.user);\r\n  const { loading, actionType } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    initMyAccountPage();\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const initMyAccountPage = async () => {\r\n    await dispatch(fetchPosts(1, 6));\r\n  };\r\n\r\n  const openUploadImageModal = () => dispatch(openModal(\"UploadProfileImage\"));\r\n\r\n  const authenticated = Object.keys(authUser).length > 0;\r\n\r\n  const spinning =\r\n    actionType === actionTypes.post.FETCH_POSTS ? loading : false;\r\n\r\n  return (\r\n    <Spin spinning={spinning}>\r\n      <div className=\"my-account\">\r\n        <Container>\r\n          <Row>\r\n            <Col xs=\"12\" md=\"9\" sm=\"12\" lg=\"9\">\r\n              <div className=\"profile\">\r\n                <Row>\r\n                  <Col xs=\"4\" md=\"4\" sm=\"4\" lg=\"4\">\r\n                    <img\r\n                      className=\"img-respon img-profile\"\r\n                      src={authUser.avatar || \"./assets/images/user.jpg\"}\r\n                      alt={authUser.name || \"user\"}\r\n                    />\r\n                  </Col>\r\n                  <Col xs=\"8\" md=\"8\" sm=\"8\" lg=\"8\">\r\n                    <div className=\"info-profile\">\r\n                      <h2>{authUser.name || \"User\"}</h2>\r\n                      <p>Số bài viết: 12</p>\r\n                      <p>Lượt like: 653</p>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n              <div className=\"my-travel mt-5\">\r\n                <h2 className=\"title-profile\">Lịch trình của tôi</h2>\r\n                <table className=\"table table-bordered table-responsive\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Điểm đến</th>\r\n                      <th>Điểm du lịch</th>\r\n                      <th>Điểm ăn uống</th>\r\n                      <th>Thời gian</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>Nha Trang</td>\r\n                      <td>\r\n                        Biển\r\n                        <br />\r\n                        Công viên <br />\r\n                        Cối xoay gió <br />\r\n                      </td>\r\n                      <td>\r\n                        Nhà hàng hải sản\r\n                        <br />\r\n                        Canh rong biển\r\n                        <br />\r\n                      </td>\r\n                      <td>3 ngày</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>Đà Nẵng</td>\r\n                      <td>\r\n                        Biển\r\n                        <br />\r\n                        Công viên <br />\r\n                        Cối xoay gió <br />\r\n                      </td>\r\n                      <td>\r\n                        Nhà hàng hải sản\r\n                        <br />\r\n                        Canh rong biển\r\n                        <br />\r\n                      </td>\r\n                      <td>3 ngày</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <div className=\"news-list mt-5\">\r\n                <h2 className=\"title-profile\">Bài viết của tôi</h2>\r\n                <Row>\r\n                  {posts && posts.length > 0 ? (\r\n                    posts.map((post) => (\r\n                      <ItemPost\r\n                        post={post}\r\n                        key={post._id}\r\n                        authenticated={authenticated}\r\n                        authUser={authUser}\r\n                      />\r\n                    ))\r\n                  ) : (\r\n                    <div>Bạn chưa có bài viết nào</div>\r\n                  )}\r\n                </Row>\r\n              </div>\r\n            </Col>\r\n            <Col xs=\"12\" md=\"3\" sm=\"12\" lg=\"3\" className=\"pr-0\">\r\n              <div className=\"why-choose\">\r\n                <h2>Quản lý tài khoản</h2>\r\n                <div className=\"why-item\">\r\n                  <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i>\r\n                  <Link to=\"/viet-bai\">Viết bài</Link>\r\n                </div>\r\n                <div className=\"why-item\">\r\n                  <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i>\r\n                  <Link to=\"\"></Link>\r\n                  <Button\r\n                    type=\"link\"\r\n                    shape=\"circle\"\r\n                    className=\"profile-detailed__edit-avatar-btn\"\r\n                    onClick={openUploadImageModal}\r\n                  >\r\n                    Thay ảnh đại diện\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <Sidebar posts={posts} />\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default MyAccount;\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport const useDebounce = (value, delay) => {\r\n    // State and setters for debounced value\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n    useEffect(\r\n        () => {\r\n            // Update debounced value after delay\r\n            const handler = setTimeout(() => {\r\n                setDebouncedValue(value);\r\n            }, delay);\r\n\r\n            // Cancel the timeout if value changes (also on delay change or unmount)\r\n            // This is how we prevent debounced value from updating if value is changed ...\r\n            // .. within the delay period. Timeout gets cleared and restarted.\r\n            return () => {\r\n                clearTimeout(handler);\r\n            };\r\n        },\r\n        [value, delay] // Only re-call effect if value or delay changes\r\n    );\r\n\r\n    return debouncedValue;\r\n}","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { Form, Button, Spin, Select, Table, Typography, Divider } from 'antd';\r\nimport { useDebounce } from '../../../app/Layout/common/CustomHook';\r\nimport axios from 'axios';\r\nimport { columnsTable } from '../../../app/utils/config';\r\n\r\nconst { Option } = Select;\r\nconst { Text } = Typography;\r\n\r\nconst { columnsPlace } = columnsTable;\r\n\r\nconst searchCity = async keyWord => {\r\n  let cities = [];\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `https://still-castle-31935.herokuapp.com/api/city/search?keyWord=${keyWord}`\r\n    );\r\n    cities = await response.data.cities;\r\n\r\n    cities = cities.map(city => ({\r\n      text: city.name,\r\n      value: city.id,\r\n    }));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return cities;\r\n};\r\n\r\nconst fetchSuggestTrip = async (city, placeIds) => {\r\n  let places = [];\r\n  let suggest = [];\r\n\r\n  placeIds = placeIds.join(', ');\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      `https://still-castle-31935.herokuapp.com/api/auth/suggest-trip/${city}`,\r\n      { places: placeIds },\r\n      { headers: { 'Content-Type': 'application/json' } }\r\n    );\r\n    places = response.data.places;\r\n    const matrixCostResult = response.data.matrixCostResult;\r\n\r\n    suggest = places.map((pl, index) =>\r\n      index === places.length - 1\r\n        ? {\r\n            from: pl.name,\r\n            to: places[0].name,\r\n            cost: `${matrixCostResult[index][0]} VND`,\r\n            key: `$${pl._id}_${places[0]._id}`,\r\n          }\r\n        : {\r\n            from: pl.name,\r\n            to: places[index + 1].name,\r\n            cost: `${matrixCostResult[index][index + 1]} VND`,\r\n            key: `${pl._id}_${places[index + 1]._id}`,\r\n          }\r\n    );\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n\r\n  return suggest;\r\n};\r\n\r\nconst fetchCityData = async city => {\r\n  let result = {};\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `https://still-castle-31935.herokuapp.com/api/city/${city}`\r\n    );\r\n    result = response.data.city;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst SuggestTrip = () => {\r\n  const [form] = Form.useForm();\r\n  const [cities, setCities] = useState([]);\r\n  const [cityValue, setCityValue] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const debounceSearchTerm = useDebounce(searchTerm, 800);\r\n  const [loadingCities, setLoadingCities] = useState(false);\r\n  const [suggestTripLoading, setSuggestTripLoading] = useState(false);\r\n  const [suggestedPlaces, setSuggestedPlaces] = useState(null);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [city, setCity] = useState({});\r\n  const [loadingCity, setLoadingCity] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (debounceSearchTerm) {\r\n      setCities([]);\r\n      setLoadingCities(true);\r\n\r\n      searchCity(debounceSearchTerm).then(cities => {\r\n        setCities(cities);\r\n        setLoadingCities(false);\r\n      });\r\n    }\r\n  }, [debounceSearchTerm]);\r\n\r\n  const handleSelectCityChange = ({ value }) => {\r\n    setCity({});\r\n    setLoadingCity(true);\r\n\r\n    fetchCityData(value)\r\n      .then(city => {\r\n        setCity(city);\r\n        setLoadingCity(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        setLoadingCity(false);\r\n      });\r\n\r\n    setCityValue(value);\r\n  };\r\n  const fetchCity = value => setSearchTerm(value);\r\n  const onSelectChange = selectedRowKeys => setSelectedRowKeys(selectedRowKeys);\r\n  const handleSuggestTrip = values => {\r\n    const {\r\n      city: { value },\r\n    } = values;\r\n    setSuggestedPlaces([]);\r\n    setSuggestTripLoading(true);\r\n\r\n    fetchSuggestTrip(value, selectedRowKeys)\r\n      .then(places => {\r\n        places.splice(-1, 1);\r\n        setSuggestedPlaces(places);\r\n        setSuggestTripLoading(false);\r\n        setSelectedRowKeys([]);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        setSuggestTripLoading(false);\r\n        setSelectedRowKeys([]);\r\n      });\r\n  };\r\n\r\n  const rowSelection = { selectedRowKeys, onChange: onSelectChange };\r\n  // const dataSourcePlaces = suggestedPlaces\r\n  //   ? suggestedPlaces.map(pl => ({ ...pl, key: pl._id }))\r\n  //   : city && city.places\r\n  //   ? city.places.map(pl => ({ ...pl.place, key: pl.place._id }))\r\n  //   : [];\r\n\r\n  const dataSourcePlaces =\r\n    city && city.places\r\n      ? city.places.map(pl => ({ ...pl.place, key: pl.place._id }))\r\n      : [];\r\n  return (\r\n    <div>\r\n      <Form form={form} onFinish={handleSuggestTrip}>\r\n        <Form.Item\r\n          name='city'\r\n          rules={[{ required: true, message: 'Vui lòng chọng một thành phố' }]}\r\n        >\r\n          <Select\r\n            labelInValue\r\n            value={cityValue}\r\n            placeholder='Select City'\r\n            showSearch\r\n            notFoundContent={loadingCities ? <Spin size='small' /> : null}\r\n            filterOption={false}\r\n            onSearch={fetchCity}\r\n            onChange={handleSelectCityChange}\r\n            style={{ width: '100%' }}\r\n          >\r\n            {cities.map(d => (\r\n              <Option key={d.value}>{d.text}</Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n        {selectedRowKeys.length > 0 && (\r\n          <Form.Item>\r\n            <Button\r\n              type='primary'\r\n              htmlType='submit'\r\n              loading={suggestTripLoading}\r\n            >\r\n              Gợi ý lịch trình\r\n            </Button>\r\n          </Form.Item>\r\n        )}\r\n      </Form>\r\n\r\n      <Spin spinning={loadingCity}>\r\n        <Table\r\n          rowSelection={rowSelection}\r\n          columns={columnsPlace}\r\n          dataSource={dataSourcePlaces}\r\n          pagination={false}\r\n        />\r\n        {suggestedPlaces && suggestedPlaces.length > 0 && (\r\n          <Fragment>\r\n            <Divider />\r\n            <Table\r\n              title={() => <Text strong>Bạn nên đi theo lịch trình sau</Text>}\r\n              dataSource={suggestedPlaces}\r\n              pagination={false}\r\n              columns={[\r\n                {\r\n                  title: 'Điểm xuất phát',\r\n                  dataIndex: 'from',\r\n                  key: 'from',\r\n                },\r\n                {\r\n                  title: 'Điểm dừng',\r\n                  dataIndex: 'to',\r\n                  key: 'to',\r\n                },\r\n              ]}\r\n            />\r\n          </Fragment>\r\n        )}\r\n      </Spin>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuggestTrip;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport {\r\n  Form,\r\n  InputNumber,\r\n  Select,\r\n  Spin,\r\n  Button,\r\n  Table,\r\n  Typography,\r\n  Row,\r\n  Col,\r\n  Tabs,\r\n} from \"antd\";\r\nimport { columnsTable } from \"../../../app/utils/config\";\r\nimport { useDebounce } from \"../../../app/Layout/common/CustomHook\";\r\nimport SuggestTrip from \"./SuggestTrip\";\r\n\r\nconst { Option } = Select;\r\nconst { Title, Text } = Typography;\r\nconst { TabPane } = Tabs;\r\n\r\nconst { columnsPlace, columnsHotel, columnsFood } = columnsTable;\r\n\r\nconst prepareTableDataSource = (type, city) => {\r\n  if (Object.keys(city).length > 0) {\r\n    if (type === \"places\") {\r\n      return city.places.map((pl) => ({ ...pl, key: pl._id }));\r\n    } else {\r\n      type = type.slice(0, -1);\r\n\r\n      return city[`${type}s`]\r\n        .filter((el) => el[type])\r\n        .map((value) => {\r\n          return {\r\n            ...value[type],\r\n            image: (\r\n              <img\r\n                alt=\"value\"\r\n                src={value[type].image}\r\n                style={{ width: \"100%\", maxWidth: \"100px\" }}\r\n              />\r\n            ),\r\n            key: value[type]._id,\r\n          };\r\n        });\r\n    }\r\n  }\r\n\r\n  return [];\r\n};\r\n\r\nconst fetchSuggestPlaces = async (cityId, time) => {\r\n  let city = {};\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `https://still-castle-31935.herokuapp.com/api/auth/suggest-place/${cityId}/${time}`\r\n    );\r\n    city = response.data.city;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return city;\r\n};\r\n\r\nconst searchCity = async (keyWord) => {\r\n  let cities = [];\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `https://still-castle-31935.herokuapp.com/api/city/search?keyWord=${keyWord}`\r\n    );\r\n    cities = await response.data.cities;\r\n\r\n    cities = cities.map((city) => ({\r\n      text: city.name,\r\n      value: city.id,\r\n    }));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return cities;\r\n};\r\n\r\nconst MyTrip = () => {\r\n  const [cities, setCities] = useState([]);\r\n  const [loadingCities, setLoadingCities] = useState(false);\r\n  const [loadingSuggestPlaces, setLoadingSuggestPlaces] = useState(false);\r\n  const [cityValue, setCityValue] = useState(null);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState({\r\n    place: [],\r\n    hotel: [],\r\n    food: [],\r\n  });\r\n  const [city, setCity] = useState({});\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const debounceSearchTerm = useDebounce(searchTerm, 800);\r\n  const [prices, setPrices] = useState({\r\n    place: 0,\r\n    hotel: 0,\r\n    food: 0,\r\n  });\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    if (debounceSearchTerm) {\r\n      setCities([]);\r\n      setLoadingCities(true);\r\n\r\n      searchCity(debounceSearchTerm).then((cities) => {\r\n        setCities(cities);\r\n        setLoadingCities(false);\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      setPrices({\r\n        place: 0,\r\n        hotel: 0,\r\n        food: 0,\r\n      });\r\n    };\r\n  }, [debounceSearchTerm]);\r\n\r\n  const fetchCity = (value) => setSearchTerm(value);\r\n\r\n  const handleSelectCityChange = (value) => setCityValue(value);\r\n\r\n  const handleSuggestPlace = async ({ city: { value }, time }) => {\r\n    setCity({});\r\n    setLoadingSuggestPlaces(true);\r\n\r\n    fetchSuggestPlaces(value, time)\r\n      .then((city) => {\r\n        setCity(city);\r\n        setLoadingSuggestPlaces(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoadingSuggestPlaces(false);\r\n      });\r\n  };\r\n\r\n  const onSelectPlaceChange = (selectedPlaceRowKeys) => {\r\n    let placePrice = prices.place;\r\n    selectedPlaceRowKeys.forEach((rowKey) => {\r\n      let place = places.find((place) => place._id === rowKey);\r\n\r\n      if (place) {\r\n        placePrice += Number(place.price);\r\n      }\r\n    });\r\n\r\n    setPrices({ ...prices, place: placePrice });\r\n    setSelectedRowKeys({\r\n      ...selectedRowKeys,\r\n      place: selectedPlaceRowKeys,\r\n    });\r\n  };\r\n\r\n  const onSelectHotelChange = (selectedHotelRowKeys) => {\r\n    let hotelPrice = prices.hotel;\r\n    selectedHotelRowKeys.forEach((rowKey) => {\r\n      let hotel = hotels.find((hotel) => hotel._id === rowKey);\r\n\r\n      if (hotel) {\r\n        hotelPrice += Number(hotel.price);\r\n      }\r\n    });\r\n\r\n    setPrices({ ...prices, hotel: hotelPrice });\r\n\r\n    setSelectedRowKeys({\r\n      ...selectedRowKeys,\r\n      hotel: selectedHotelRowKeys,\r\n    });\r\n  };\r\n\r\n  const onSelectFoodChange = (selectedFoodRowKeys) => {\r\n    let foodPrice = prices.food;\r\n    selectedFoodRowKeys.forEach((rowKey) => {\r\n      let food = foods.find((food) => food._id === rowKey);\r\n\r\n      if (food) {\r\n        foodPrice += Number(food.price);\r\n      }\r\n    });\r\n\r\n    setPrices({ ...prices, food: foodPrice });\r\n\r\n    setSelectedRowKeys({\r\n      ...selectedRowKeys,\r\n      food: selectedFoodRowKeys,\r\n    });\r\n  };\r\n\r\n  // const rowSelection = { selectedRowKeys, onChange: onSelectChange };\r\n  const rowPlaceSelection = {\r\n    selectedRowKeys: selectedRowKeys.place,\r\n    onChange: onSelectPlaceChange,\r\n  };\r\n  const rowHotelSelection = {\r\n    selectedRowKeys: selectedRowKeys.hotel,\r\n    onChange: onSelectHotelChange,\r\n  };\r\n  const rowFoodSelection = {\r\n    selectedRowKeys: selectedRowKeys.food,\r\n    onChange: onSelectFoodChange,\r\n  };\r\n\r\n  const places = prepareTableDataSource(\"places\", city);\r\n  const hotels = prepareTableDataSource(\"hotels\", city).map((hotel) => ({\r\n    ...hotel,\r\n    price: Math.round((Number(hotel.priceMin) + Number(hotel.priceMax)) / 2),\r\n  }));\r\n  const foods = prepareTableDataSource(\"foods\", city);\r\n\r\n  return (\r\n    <div className=\"my-trip\">\r\n      <div className=\"module-banner\">\r\n        <img\r\n          className=\"img-respon img-banner\"\r\n          src=\"./assets/images/banner-post.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <div className=\"title-bn\">\r\n          <h2>Lịch trình của tôi</h2>\r\n          <div>Trang chủ &nbsp;/&nbsp; Bạn muốn đến?</div>\r\n        </div>\r\n      </div>\r\n      <Container>\r\n        <div className=\"content-trip\">\r\n          <Tabs defaultActiveKey=\"1\">\r\n            <TabPane tab=\"Lên lịch trình theo số ngày du lịch\" key=\"1\">\r\n              <Row gutter={[16, 16]}>\r\n                <Col xs={24} sm={24} md={18} lg={18} xl={18}>\r\n                  <h3 className=\"paci-font\">\r\n                    Hãy tự tạo cho mình một lịch trình phù hợp với quỹ thời gian\r\n                    và hầu bao của bản thân nào!\r\n                  </h3>\r\n                  <Form form={form} onFinish={handleSuggestPlace}>\r\n                    <Form.Item\r\n                      name=\"city\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Vui lòng nhập tên tỉnh\",\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Select\r\n                        labelInValue\r\n                        value={cityValue}\r\n                        placeholder=\"Tìm kiếm tỉnh/thành phố\"\r\n                        showSearch\r\n                        notFoundContent={\r\n                          loadingCities ? <Spin size=\"small\" /> : null\r\n                        }\r\n                        filterOption={false}\r\n                        onSearch={fetchCity}\r\n                        onChange={handleSelectCityChange}\r\n                        style={{ width: \"100%\" }}\r\n                      >\r\n                        {cities.map((d) => (\r\n                          <Option key={d.value}>{d.text}</Option>\r\n                        ))}\r\n                      </Select>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                      name=\"time\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Vui lòng nhập số ngày du lịch\",\r\n                        },\r\n                      ]}\r\n                      style={{ width: \"100%\" }}\r\n                    >\r\n                      <InputNumber\r\n                        placeholder=\"Nhập số ngày du lịch\"\r\n                        min={1}\r\n                        style={{ width: \"100%\" }}\r\n                      />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                      <Button\r\n                        type=\"primary\"\r\n                        className=\"fr\"\r\n                        htmlType=\"submit\"\r\n                        loading={loadingSuggestPlaces}\r\n                      >\r\n                        Gợi ý chuyến đi\r\n                      </Button>\r\n                    </Form.Item>\r\n                  </Form>\r\n                  <div className=\"food\">\r\n                    <div className=\"table-responsive\">\r\n                      {places.length > 0 && (\r\n                        <Table\r\n                          rowSelection={rowPlaceSelection}\r\n                          columns={columnsPlace}\r\n                          dataSource={places}\r\n                          pagination={false}\r\n                          title={() => (\r\n                            <Title level={4}>\r\n                              Những địa điểm tham quan phù hợp với số ngày của\r\n                              bạn. Mời bạn tham khảo. Nếu muốn chọn những địa\r\n                              điểm khác, mời bạn chọn ở mục dưới cùng!\r\n                            </Title>\r\n                          )}\r\n                        />\r\n                      )}\r\n\r\n                      {foods.length > 0 && (\r\n                        <Table\r\n                          rowSelection={rowFoodSelection}\r\n                          columns={columnsFood}\r\n                          dataSource={foods}\r\n                          pagination={false}\r\n                          title={() => (\r\n                            <Title level={4}>\r\n                              Những món ăn bạn không nên bỏ lỡ\r\n                            </Title>\r\n                          )}\r\n                        />\r\n                      )}\r\n\r\n                      {hotels.length > 0 && (\r\n                        <Table\r\n                          rowSelection={rowHotelSelection}\r\n                          columns={columnsHotel}\r\n                          dataSource={hotels}\r\n                          pagination={false}\r\n                          title={() => (\r\n                            <Title level={4}>\r\n                              Bạn có thể tham khảo những khách sạn dưới đây\r\n                            </Title>\r\n                          )}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={6} lg={6} xl={6}>\r\n                  <div className=\"post-lq\">\r\n                    <h2 className=\"title-profile\">Chi phí</h2>\r\n                    <div className=\"list-item-lq\">\r\n                      <div className=\"item-lq\">\r\n                        <Text strong>Vé du lịch: </Text>\r\n                        <Text>{prices.place}</Text>\r\n                        <Text> VND</Text>\r\n                      </div>\r\n\r\n                      <div className=\"item-lq\">\r\n                        <Text strong>Chi phí khách sạn: </Text>\r\n                        <Text>{prices.hotel}</Text>\r\n                        <Text> VND</Text>\r\n                      </div>\r\n\r\n                      <div className=\"item-lq\">\r\n                        <Text strong>Chi phí ăn uống: </Text>\r\n                        <Text>{prices.food}</Text>\r\n                        <Text> VND</Text>\r\n                      </div>\r\n\r\n                      <div className=\"pt-2\">\r\n                        <Text strong>Total: </Text>\r\n                        <Text>{prices.place + prices.hotel + prices.food}</Text>\r\n                        <Text> VND</Text>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </TabPane>\r\n            <TabPane tab=\"Lên lịch trình theo chọn địa điểm\" key=\"2\">\r\n              <SuggestTrip />\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyTrip;\r\n","/**\r\n * Custom module for quilljs to allow user to resize <img> elements\r\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\r\n * @see https://quilljs.com/blog/building-a-custom-module/\r\n */\r\nexport class ImageResize {\r\n\r\n  constructor(quill, options = {}) {\r\n    // save the quill reference and options\r\n    this.quill = quill;\r\n    this.options = options;\r\n    // bind handlers to this instance\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleMousedown = this.handleMousedown.bind(this);\r\n    this.handleMouseup = this.handleMouseup.bind(this);\r\n    this.handleDrag = this.handleDrag.bind(this);\r\n    this.checkImage = this.checkImage.bind(this);\r\n    // track resize handles\r\n    this.boxes = [];\r\n    // disable native image resizing on firefox\r\n    document.execCommand('enableObjectResizing', false, 'false');\r\n    // respond to clicks inside the editor\r\n    this.quill.root.addEventListener('click', this.handleClick, false);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    if (evt.target && evt.target.tagName && evt.target.tagName.toUpperCase() === 'IMG') {\r\n      if (this.img === evt.target) {\r\n        // we are already focused on this image\r\n        return;\r\n      }\r\n      if (this.img) {\r\n        // we were just focused on another image\r\n        this.hide();\r\n      }\r\n      // clicked on an image inside the editor\r\n      this.show(evt.target);\r\n    }\r\n    else if (this.img) {\r\n      // clicked on a non image\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  show(img) {\r\n    // keep track of this img element\r\n    this.img = img;\r\n    this.showResizers();\r\n    this.showSizeDisplay();\r\n    // position the resize handles at the corners\r\n    const rect = this.img.getBoundingClientRect();\r\n    this.positionBoxes(rect);\r\n    this.positionSizeDisplay(rect);\r\n  }\r\n\r\n  hide() {\r\n    this.hideResizers();\r\n    // this.hideSizeDisplay();\r\n    this.img = undefined;\r\n  }\r\n\r\n  showResizers() {\r\n    // prevent spurious text selection\r\n    this.setUserSelect('none');\r\n    // add 4 resize handles\r\n    this.addBox('nwse-resize'); // top left\r\n    this.addBox('nesw-resize'); // top right\r\n    this.addBox('nwse-resize'); // bottom right\r\n    this.addBox('nesw-resize'); // bottom left\r\n    // listen for the image being deleted or moved\r\n    document.addEventListener('keyup', this.checkImage, true);\r\n    this.quill.root.addEventListener('input', this.checkImage, true);\r\n  }\r\n\r\n  hideResizers() {\r\n    // stop listening for image deletion or movement\r\n    document.removeEventListener('keyup', this.checkImage);\r\n    this.quill.root.removeEventListener('input', this.checkImage);\r\n    // reset user-select\r\n    this.setUserSelect('');\r\n    this.setCursor('');\r\n    // remove boxes\r\n    this.boxes.forEach(box => document.body.removeChild(box));\r\n    // release memory\r\n    this.dragBox = undefined;\r\n    this.dragStartX = undefined;\r\n    this.preDragWidth = undefined;\r\n    this.boxes = [];\r\n  }\r\n\r\n  addBox(cursor) {\r\n    // create div element for resize handle\r\n    const box = document.createElement('div');\r\n    // apply styles\r\n    const styles = {\r\n      position: 'absolute',\r\n      height: '12px',\r\n      width: '12px',\r\n      backgroundColor: 'white',\r\n      border: '1px solid #777',\r\n      boxSizing: 'border-box',\r\n      opacity: '0.80',\r\n      cursor: cursor,\r\n    };\r\n    this.extend(box.style, styles, this.options.handleStyles || {});\r\n    // listen for mousedown on each box\r\n    box.addEventListener('mousedown', this.handleMousedown, false);\r\n    // add drag handle to document\r\n    document.body.appendChild(box);\r\n    // keep track of drag handle\r\n    this.boxes.push(box);\r\n  }\r\n\r\n  extend(destination, ...sources) {\r\n    sources.forEach(source => {\r\n      for (let prop in source) {\r\n        if (source.hasOwnProperty(prop)) {\r\n          destination[prop] = source[prop];\r\n        }\r\n      }\r\n    });\r\n    return destination;\r\n  }\r\n\r\n  positionBoxes(rect) {\r\n    // set the top and left for each drag handle\r\n    [\r\n      { left: rect.left - 6,              top: rect.top - 6 },               // top left\r\n      { left: rect.left + rect.width - 6, top: rect.top - 6 },               // top right\r\n      { left: rect.left + rect.width - 6, top: rect.top + rect.height - 6 }, // bottom right\r\n      { left: rect.left - 6,              top: rect.top + rect.height - 6 }, // bottom left\r\n    ].forEach((pos, idx) => {\r\n      this.extend(this.boxes[idx].style, {\r\n        top: Math.round(pos.top + window.pageYOffset) + 'px',\r\n        left: Math.round(pos.left + window.pageXOffset) + 'px',\r\n      });\r\n    });\r\n  }\r\n\r\n  handleMousedown(evt) {\r\n    // note which box\r\n    this.dragBox = evt.target;\r\n    // note starting mousedown position\r\n    this.dragStartX = evt.clientX;\r\n    // store the width before the drag\r\n    this.preDragWidth = this.img.width || this.img.naturalWidth;\r\n    // set the proper cursor everywhere\r\n    this.setCursor(this.dragBox.style.cursor);\r\n    // listen for movement and mouseup\r\n    document.addEventListener('mousemove', this.handleDrag, false);\r\n    document.addEventListener('mouseup', this.handleMouseup, false);\r\n  }\r\n\r\n  handleMouseup() {\r\n    // reset cursor everywhere\r\n    this.setCursor('');\r\n    // stop listening for movement and mouseup\r\n    document.removeEventListener('mousemove', this.handleDrag);\r\n    document.removeEventListener('mouseup', this.handleMouseup);\r\n  }\r\n\r\n  handleDrag(evt) {\r\n    if (!this.img) {\r\n      // image not set yet\r\n      return;\r\n    }\r\n    // update image size\r\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\r\n      // left-side resize handler; draging right shrinks image\r\n      this.img.width = Math.round(this.preDragWidth - evt.clientX - this.dragStartX);\r\n    }\r\n    else {\r\n      // right-side resize handler; draging right enlarges image\r\n      this.img.width = Math.round(this.preDragWidth + evt.clientX - this.dragStartX);\r\n    }\r\n    // reposition the drag handles around the image\r\n    const rect = this.img.getBoundingClientRect();\r\n    this.positionBoxes(rect);\r\n    this.positionSizeDisplay(rect);\r\n  }\r\n\r\n  setUserSelect(value) {\r\n    [\r\n      'userSelect',\r\n      'mozUserSelect',\r\n      'webkitUserSelect',\r\n      'msUserSelect'\r\n    ].forEach(prop => {\r\n      // set on contenteditable element and <html>\r\n      this.quill.root.style[prop] = value;\r\n      document.documentElement.style[prop] = value;\r\n    });\r\n  }\r\n\r\n  setCursor(value) {\r\n    [\r\n      document.body,\r\n      this.img,\r\n      this.quill.root\r\n    ].forEach(el => el.style.cursor = value);\r\n  }\r\n\r\n  checkImage() {\r\n    if (this.img) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  showSizeDisplay() {\r\n    if (!this.options.displaySize) {\r\n      return;\r\n    }\r\n    this.display = document.createElement('div');\r\n    // apply styles\r\n    const styles = {\r\n      position: 'absolute',\r\n      font: '12px/1.0 Arial, Helvetica, sans-serif',\r\n      padding: '4px 8px',\r\n      textAlign: 'center',\r\n      backgroundColor: 'white',\r\n      color: '#333',\r\n      border: '1px solid #777',\r\n      boxSizing: 'border-box',\r\n      opacity: '0.80',\r\n      cursor: 'default',\r\n    };\r\n    this.extend(this.display.style, styles, this.options.displayStyles || {});\r\n    document.body.appendChild(this.display);\r\n  }\r\n\r\n  hideSizeDisplay() {\r\n    document.body.removeChild(this.display);\r\n    this.display = undefined;\r\n  }\r\n\r\n  positionSizeDisplay(rect) {\r\n    if (!this.display || !this.img) {\r\n      return;\r\n    }\r\n    const size = this.getCurrentSize();\r\n    this.display.innerHTML = size.join(' &times; ');\r\n    if (size[0] > 120 && size[1] > 30) {\r\n      // position on top of image\r\n      const dispRect = this.display.getBoundingClientRect();\r\n      this.extend(this.display.style, {\r\n        left: Math.round(rect.left + rect.width + window.pageXOffset - dispRect.width - 8) + 'px',\r\n        top: Math.round(rect.top + rect.height + window.pageYOffset - dispRect.height - 8) + 'px',\r\n      });\r\n    }\r\n    else {\r\n      // position off bottom right\r\n      this.extend(this.display.style, {\r\n        left: Math.round(rect.left + rect.width + window.pageXOffset + 8) + 'px',\r\n        top: Math.round(rect.top + rect.height + window.pageYOffset + 8) + 'px',\r\n      });\r\n    }\r\n  }\r\n\r\n  getCurrentSize() {\r\n    return [\r\n      this.img.width,\r\n      Math.round(this.img.width / this.img.naturalWidth * this.img.naturalHeight),\r\n    ];\r\n  }\r\n\r\n}\r\n","import { Quill } from 'react-quill'\r\nconst BlockEmbed = Quill.import('blots/block/embed');\r\nconst Parchment = Quill.import('parchment');\r\nconst ATTRIBUTES = [ 'height', 'width' ];\r\n\r\nconst nubStyles = {\r\n  tLeft: {\r\n    top: '-5px',\r\n    left: '-5px',\r\n  },\r\n  tRight: {\r\n    top: '-5px',\r\n    right: '-5px',\r\n  },\r\n  bLeft: {\r\n    bottom: '-5px',\r\n    left: '-5px',\r\n  },\r\n  bRight: {\r\n    bottom: '-5px',\r\n    right: '-5px',\r\n  },\r\n}\r\n\r\nconst getClosest = (el, sel) => {\r\n  while ((el = el.parentElement) && !((el.matches || el.matchesSelector).call(el, sel)));\r\n  return el;\r\n}\r\n\r\nconst createSpacer = () => {\r\n  let spacer = document.createElement('div')\r\n  spacer.appendChild(document.createElement('br'));\r\n  return spacer\r\n}\r\n\r\nclass VideoBuilder {\r\n\r\n  buildIFrame(src, node) {\r\n    let iframe = document.createElement('iframe');\r\n    iframe.setAttribute('frameborder', '0');\r\n    iframe.setAttribute('allowfullscreen', true);\r\n    iframe.className = 'td-quill-video-editing'\r\n    iframe.setAttribute('width', node.getAttribute('width') || 300);\r\n    iframe.setAttribute('height', node.getAttribute('height') || 150);\r\n    iframe.setAttribute('src', src);\r\n    return iframe;\r\n  }\r\n\r\n  buildNode(node, wrapper) {\r\n    node.appendChild(wrapper);\r\n    setTimeout(() => {\r\n      node.setAttribute('contenteditable', 'false');\r\n      node.parentElement && node.parentElement.insertBefore(createSpacer(), node)\r\n      node.parentElement && node.parentElement.appendChild(createSpacer());\r\n      let iframe = node.getElementsByTagName('iframe')[0];\r\n      iframe.setAttribute('width', node.getAttribute('width') || 300);\r\n      iframe.setAttribute('height', node.getAttribute('height') || 150);\r\n    }, 0);\r\n    return node;\r\n  }\r\n\r\n  buildOverlay() {\r\n    let overlay = document.createElement('div');\r\n    overlay.setAttribute('class', \"td-quill-video-overlay\");\r\n    overlay.setAttribute('contenteditable', 'false');\r\n    overlay.addEventListener('click', (event) => {\r\n      let rootElement = getClosest(overlay, \".ql-editor\");\r\n      if(rootElement && rootElement.quill){\r\n        let node = Parchment.find(overlay.parentElement.parentElement);\r\n        if (node instanceof Video) {\r\n          node.domNode.builder.select(overlay, rootElement.quill, node);\r\n        }\r\n      }\r\n    });\r\n\r\n    return overlay;\r\n  }\r\n\r\n  select(overlay, quill, node) {\r\n\r\n    this.selectedElement = overlay;\r\n    if (this.selectedElement.className.indexOf('active') === -1){\r\n      this.quill = quill;\r\n      this.quill.setSelection(null);\r\n      this.parentElement = this.selectedElement.parentElement;\r\n      this.node = node;\r\n      this.iframe = this.parentElement.getElementsByTagName('iframe')[0];\r\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay active')\r\n      //let toolBar = this.buildToolBar();\r\n      //this.selectedElement.appendChild(toolBar);\r\n      this.buildResize();\r\n      this.handelDeselect = this.deselect.bind(this);\r\n      this.quill.root.addEventListener('click', this.handelDeselect, false);\r\n    }\r\n  }\r\n\r\n  deselect(event) {\r\n    if (event.target !== this.selectedElement) {\r\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay');\r\n      this.clearNubEvents(true);\r\n      while (this.selectedElement.firstChild) { this.selectedElement.removeChild(this.selectedElement.firstChild); }\r\n      this.selectedElement = null;\r\n      this.quill.root.removeEventListener('click', this.handelDeselect, false);\r\n    }\r\n  }\r\n\r\n  buildToolBar() {\r\n    let toolbarWrapper = document.createElement('div');\r\n    toolbarWrapper.className = \"td-quill-video-toolbar-wrapper\"\r\n    let toolbar = document.createElement('div');\r\n    toolbar.className = \"td-quill-video-toolbar\"\r\n    toolbar = this.addToolBarActions(toolbar);\r\n    toolbarWrapper.appendChild(toolbar);\r\n    return toolbarWrapper;\r\n  }\r\n\r\n  addToolBarActions(toolbar) {\r\n    toolbar.appendChild(this.buildAction('left'));\r\n    toolbar.appendChild(this.buildAction('center'));\r\n    toolbar.appendChild(this.buildAction('right'));\r\n    return toolbar;\r\n  }\r\n\r\n  buildAction(type) {\r\n    const button = document.createElement('span');\r\n    button.className = `td-quill-video-align-action td-quill-video-${type}`;\r\n    button.innerHTML = `<i class=\"fa fa-align-${type} td-align-${type}\" aria-hidden=\"true\"></i>`;\r\n    button.addEventListener('click', () => {\r\n      this.quill.setSelection(this.node.offset(this.quill.scroll), 1, 'user');\r\n      if (type === 'left') { return this.quill.format('align', null); }\r\n      this.quill.format('align', type);\r\n      this.quill.setSelection(null);\r\n    });\r\n    return button;\r\n  }\r\n\r\n  buildResize(){\r\n    this.boxes = [];\r\n    this.dragHandeler = this.handleDrag.bind(this);\r\n    this.mouseUp = this.handelMouseUp.bind(this);\r\n    this.mouseDown = this.handleMousedown.bind(this);\r\n    for(let key in nubStyles){\r\n      let nub = this.buildNub(key);\r\n      this.boxes.push(nub);\r\n      this.selectedElement.appendChild(nub);\r\n    }\r\n    return this.selectedElement;\r\n  }\r\n\r\n  buildNub(pos) {\r\n    let nub = document.createElement('span');\r\n    nub.className = 'td-quill-resize-nub';\r\n    Object.assign(nub.style, nubStyles[pos])\r\n    nub.addEventListener('mousedown', this.mouseDown, false);\r\n    return nub;\r\n  }\r\n\r\n  handleMousedown(event){\r\n    this.dragBox = event.target;\r\n    this.dragStartX = event.clientX;\r\n    this.dragStartY = event.clientY;\r\n    this.preDragWidth = parseInt(this.iframe.width, 10) || 300;\r\n    this.preDragHeight = parseInt(this.iframe.height, 10) || 150;\r\n    document.addEventListener('mousemove', this.dragHandeler, false);\r\n    document.addEventListener('mouseup', this.mouseUp, false);\r\n  };\r\n\r\n  handleDrag(event){\r\n    if (!this.iframe) { return; }\r\n    const deltaX = event.clientX - this.dragStartX;\r\n    const deltaY = event.clientY - this.dragStartY;\r\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[2]) {\r\n      this.iframe.width = Math.round(this.preDragWidth - deltaX);\r\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\r\n    }\r\n    else {\r\n      this.iframe.width = Math.round(this.preDragWidth + deltaX);\r\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\r\n    }\r\n  }\r\n\r\n  handelMouseUp(event){\r\n    this.clearNubEvents();\r\n  }\r\n\r\n  clearNubEvents(include_nub){\r\n    for(let nub in this.boxes){\r\n      document.removeEventListener('mousemove', this.dragHandeler, false);\r\n      document.removeEventListener('mouseup', this.mouseUp, false);\r\n      if (include_nub){\r\n        this.boxes[nub].removeEventListener('mousedown', this.handleMousedown, false);\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nclass Video extends BlockEmbed {\r\n\r\n  static create(src) {\r\n    let node = super.create();\r\n    node.builder = new VideoBuilder();\r\n    let wrapper = document.createElement('div');\r\n    wrapper.className = 'td-quill-video-wrapper';\r\n    let iframe = node.builder.buildIFrame(src, node);\r\n    let overlay = node.builder.buildOverlay();\r\n    wrapper.appendChild(iframe);\r\n    wrapper.appendChild(overlay);\r\n    return node.builder.buildNode(node, wrapper);\r\n  }\r\n\r\n  static formats(domNode) {\r\n    let iframe = domNode.getElementsByTagName('iframe')[0];\r\n    return ATTRIBUTES.reduce(function (formats, attribute) {\r\n      if (iframe.hasAttribute(attribute)) {\r\n        formats[attribute] = iframe.getAttribute(attribute);\r\n      }\r\n      return formats;\r\n    }, {});\r\n  }\r\n\r\n  static value(domNode) {\r\n    return domNode.getElementsByTagName('iframe')[0].getAttribute('src');\r\n  }\r\n\r\n  format(name, value) {\r\n    if (ATTRIBUTES.indexOf(name) > -1) {\r\n      if (value) { this.domNode.setAttribute(name, value); }\r\n      else { this.domNode.removeAttribute(name); }\r\n    }\r\n    else { super.format(name, value); }\r\n  }\r\n\r\n}\r\nVideo.blotName = 'video';\r\nVideo.className = 'td-video';\r\nVideo.tagName = 'div';\r\n\r\nexport { Video }\r\n","import React, { useEffect } from 'react';\r\nimport ReactQuill, { Quill } from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport { ImageResize } from './ImageResize';\r\nimport { Video } from './quill-video-resize';\r\nimport './quill-video-resize.css';\r\n\r\nQuill.register('modules/imageResize', ImageResize);\r\nQuill.register({ 'formats/video': Video });\r\n\r\nconst modules = {\r\n  toolbar: [\r\n    [{ header: '1' }, { header: '2' }, { font: [] }],\r\n    [{ size: [] }],\r\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n    [\r\n      { list: 'ordered' },\r\n      { list: 'bullet' },\r\n      { indent: '-1' },\r\n      { indent: '+1' },\r\n    ],\r\n    ['link', 'image', 'video'],\r\n    ['clean'],\r\n  ],\r\n  clipboard: {\r\n    matchVisual: false,\r\n  },\r\n  history: {\r\n    delay: 1000,\r\n    maxStack: 50,\r\n    userOnly: false,\r\n  },\r\n  imageResize: {\r\n    displayStyles: {\r\n      backgroundColor: 'black',\r\n      border: 'none',\r\n      color: 'white',\r\n    },\r\n    modules: ['Resize', 'DisplaySize', 'Toolbar'],\r\n  },\r\n};\r\nconst formats = [\r\n  'header',\r\n  'font',\r\n  'size',\r\n  'bold',\r\n  'italic',\r\n  'underline',\r\n  'strike',\r\n  'blockquote',\r\n  'list',\r\n  'bullet',\r\n  'indent',\r\n  'link',\r\n  'image',\r\n  'video',\r\n];\r\n\r\nconst TextEditor = ({ handleChange, text, clearContent, quillRef }) => {\r\n  useEffect(() => {\r\n    quillRef.current.focus();\r\n\r\n    return () => {\r\n      clearContent();\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <ReactQuill\r\n      value={text}\r\n      onChange={handleChange}\r\n      modules={modules}\r\n      formats={formats}\r\n      placeholder={'Enter new content here...'}\r\n      ref={quillRef}\r\n      theme='snow'\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextEditor;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Form, Input, Upload, Button, Spin, Select } from \"antd\";\r\nimport { UploadOutlined } from \"@ant-design/icons\";\r\nimport shortid from \"shortid\";\r\n\r\nimport { createPost, fetchPost, clearPost, updatePost } from \"../post.actions\";\r\nimport { actionTypes } from \"../../../app/utils/config\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport TextEditor from \"../../../app/Layout/common/TextEditor/TextEditor\";\r\n\r\nconst PostAction = (props) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const [form] = Form.useForm();\r\n  const post = useSelector((state) => state.post.currentPost);\r\n  const { loading, actionType } = useSelector((state) => state.async);\r\n  const [content, setContent] = useState(\"\");\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  const quillRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(fetchPost(id));\r\n    }\r\n\r\n    return () => {\r\n      form.resetFields();\r\n      handleClearContent();\r\n      setFileList([]);\r\n      dispatch(clearPost());\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      const image = {\r\n        uid: shortid.generate(),\r\n        status: \"done\",\r\n        url: post.mainPhoto,\r\n      };\r\n      form.setFieldsValue({ ...post, image });\r\n      setContent(post.content);\r\n      setFileList([...fileList, image]);\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [post]);\r\n\r\n  const handleEditorChange = (content, delta, source, editor) => {\r\n    setContent(content);\r\n  };\r\n\r\n  const handleSubmit = (values) => {\r\n    if (id && post) {\r\n      const updatedPost = {\r\n        ...post,\r\n        ...values,\r\n        content,\r\n      };\r\n      dispatch(updatePost(updatedPost, history));\r\n    } else {\r\n      const newArticle = {\r\n        ...values,\r\n        content: content,\r\n      };\r\n      dispatch(createPost(newArticle, history));\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    e.file.status = \"done\";\r\n    setFileList([e.file]);\r\n  };\r\n\r\n  const handleClearContent = () =>\r\n    quillRef.current.setEditorContents(quillRef.current.editor, \"\");\r\n\r\n  const contentValidator = (rule, value) => {\r\n    if (!content) {\r\n      return Promise.reject(\"Please enter the content\");\r\n    }\r\n\r\n    return Promise.resolve();\r\n  };\r\n\r\n  const fetchPostLoading = actionTypes.post.FETCH_POST ? loading : false;\r\n\r\n  const submitLoading =\r\n    actionType === actionTypes.post.CREATE_POST ||\r\n    actionType === actionTypes.post.UPDATE_POST\r\n      ? loading\r\n      : false;\r\n\r\n  return (\r\n    <Spin spinning={fetchPostLoading}>\r\n      <div className=\"create-post\">\r\n        <Container>\r\n          <div className=\"title-post\">\r\n            Hãy cùng chúng tôi lan tỏa đam mê khám phá thế giới <br />\r\n            Bạn đã sẵn sàng chia sẽ nhưng kinh nghiệm du lịch hữu ích của bản\r\n            thân cùng hội mê xê dịch rồi chứ? Let's go!\r\n          </div>\r\n          <Form form={form} size=\"large\" onFinish={handleSubmit}>\r\n            <Form.Item\r\n              name=\"title\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng điền tiêu đề cho bài viết\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"Tựa đề hay gây ấn tượng cho người đọc\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"type\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng điền tiêu đề cho bài viết\",\r\n                },\r\n              ]}\r\n            >\r\n              <Select placeholder=\"Chọn loại bài viết\">\r\n                <Select.Option value=\"food\">Bí kíp ăn uống</Select.Option>\r\n                <Select.Option value=\"experience\">\r\n                  Kinh nghiệm du lịch\r\n                </Select.Option>\r\n                <Select.Option value=\"place\">Địa điểm vui chơi</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"image\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please choose main image for your article\",\r\n                },\r\n              ]}\r\n            >\r\n              <Upload\r\n                defaultFileList={[]}\r\n                fileList={fileList}\r\n                onChange={handleImageChange}\r\n                listType=\"picture-card\"\r\n                customRequest={() => {}}\r\n                disabled={id ? fileList.length > 1 : fileList.length > 0}\r\n              >\r\n                <UploadOutlined />\r\n              </Upload>\r\n            </Form.Item>\r\n            {/* <Form.Item>\r\n              <ReactQuill\r\n                theme='snow'\r\n                onChange={handleEditorChange}\r\n                modules={textEditorConfig.modules}\r\n                formats={textEditorConfig.formats}\r\n                value={content}\r\n                bounds={'.app'}\r\n                placeholder='Write something...'\r\n                ref={quillRef}\r\n              />\r\n            </Form.Item> */}\r\n            <Form.Item name=\"content\" rules={[{ validator: contentValidator }]}>\r\n              <TextEditor\r\n                text={content}\r\n                handleChange={handleEditorChange}\r\n                quillRef={quillRef}\r\n                clearContent={handleClearContent}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button\r\n                htmlType=\"submit\"\r\n                className=\"fr\"\r\n                type=\"primary\"\r\n                loading={submitLoading}\r\n              >\r\n                Đăng bài\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Container>\r\n      </div>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default PostAction;\r\n","import React, { useState, Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Upload, Button, Typography, Form, Space, Card } from 'antd';\r\nimport { UploadOutlined, LinkOutlined } from '@ant-design/icons';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport { uploadProfileImage } from '../user.actions';\r\n\r\nconst { Text } = Typography;\r\n\r\nconst UpdateAvatar = ({ handleCancel, handleOpenImageLibrary }) => {\r\n  const dispatch = useDispatch();\r\n  const { loading, actionType } = useSelector(state => state.async);\r\n  const [image, setImage] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  const customRequest = () => {};\r\n\r\n  const handleChangeImage = e => {\r\n    setImage(e.file);\r\n    const files = e.fileList.map(file => ({ ...file, status: 'done' }));\r\n    setFileList(files);\r\n    setError(null);\r\n  };\r\n\r\n  const handleUpload = () => {\r\n    if (!image) {\r\n      setError({ image: { msg: 'Please choose an image to upload' } });\r\n    } else {\r\n      dispatch(uploadProfileImage(image));\r\n    }\r\n  };\r\n\r\n  const uploadLoading = actionType === 'uploadAvatar' ? loading : false;\r\n\r\n  return (\r\n    <Card bordered={false} bodyStyle={{ padding: 0 }}>\r\n      <Card.Meta\r\n        title='Upload new profile image'\r\n        description={\r\n          <Fragment>\r\n            <Form>\r\n              <Form.Item>\r\n                <ImgCrop rotate modalTitle='Your Profile Image'>\r\n                  <Upload\r\n                    customRequest={customRequest}\r\n                    multiple={false}\r\n                    listType='picture-card'\r\n                    onChange={handleChangeImage}\r\n                    disabled={image}\r\n                    fileList={fileList}\r\n                    defaultFileList={[]}\r\n                  >\r\n                    <UploadOutlined />\r\n                  </Upload>\r\n                </ImgCrop>\r\n              </Form.Item>\r\n              {image && image.name && (\r\n                <Form.Item>\r\n                  <LinkOutlined style={{ marginRight: 12 }} />\r\n                  <Text>{image.name}</Text>\r\n                </Form.Item>\r\n              )}\r\n              {error && error.image && (\r\n                <Form.Item>\r\n                  <Text type='danger'>{error.image.msg}</Text>\r\n                </Form.Item>\r\n              )}\r\n\r\n              <Form.Item>\r\n                <Space>\r\n                  <Button\r\n                    type='primary'\r\n                    onClick={handleUpload}\r\n                    loading={uploadLoading}\r\n                    className='btn btn--dark'\r\n                  >\r\n                    Submit\r\n                  </Button>\r\n                  <Button onClick={handleCancel}>Cancel</Button>\r\n                </Space>\r\n              </Form.Item>\r\n            </Form>\r\n          </Fragment>\r\n        }\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default UpdateAvatar;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport UploadImage from './profile/UploadImage';\r\n// import LibImage from './profile/LibImageModal';\r\n\r\nconst modalLookup = {\r\n  UploadProfileImage: UploadImage,\r\n  // LibImageModal: LibImage,\r\n};\r\n\r\nfunction ModalManger(props) {\r\n  const currentModal = useSelector(state => state.modal);\r\n  let renderModal;\r\n\r\n  if (currentModal) {\r\n    const { modalType, modalProps } = currentModal;\r\n    const ModalComponent = modalLookup[modalType];\r\n\r\n    renderModal = <ModalComponent {...modalProps} />;\r\n  }\r\n\r\n  return <span>{renderModal}</span>;\r\n}\r\n\r\nexport default ModalManger;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Modal } from 'antd';\r\nimport { closeModal, openModal } from '../modal.actions';\r\nimport UploadProfileImage from '../../user/MyAccount/UploadProfileImage';\r\n\r\nconst UploadImage = props => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleCancel = () => dispatch(closeModal());\r\n\r\n  const handleOpenImageLibrary = () => dispatch(openModal('LibImageModal'));\r\n\r\n  return (\r\n    <Modal\r\n      visible={true}\r\n      onCancel={handleCancel}\r\n      footer={null}\r\n      title='Profile image'\r\n      destroyOnClose={true}\r\n    >\r\n      <UploadProfileImage\r\n        handleCancel={handleCancel}\r\n        handleOpenImageLibrary={handleOpenImageLibrary}\r\n      />\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default UploadImage;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {\r\n  GET_POSTS,\r\n  GET_POST,\r\n  ADD_POST,\r\n  CLEAR_POST,\r\n  UPDATE_POST,\r\n  COMMENT_ON_POST,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  DELETE_POST_COMMENT,\r\n  GET_POSTS_BY_TYPE,\r\n} from './post.constant';\r\n\r\nconst initState = {\r\n  posts: {\r\n    docs: [],\r\n    totalDocs: 0,\r\n    limit: 10,\r\n    totalPages: 0,\r\n    page: 0,\r\n    hasPrevPage: false,\r\n    hasNextPage: false,\r\n    prevPage: null,\r\n    nextPage: null,\r\n  },\r\n  experiencePosts: {\r\n    docs: [],\r\n    totalDocs: 0,\r\n    limit: 10,\r\n    totalPages: 0,\r\n    page: 0,\r\n    hasPrevPage: false,\r\n    hasNextPage: false,\r\n    prevPage: null,\r\n    nextPage: null,\r\n  },\r\n  foodPosts: {\r\n    docs: [],\r\n    totalDocs: 0,\r\n    limit: 10,\r\n    totalPages: 0,\r\n    page: 0,\r\n    hasPrevPage: false,\r\n    hasNextPage: false,\r\n    prevPage: null,\r\n    nextPage: null,\r\n  },\r\n  placePosts: {\r\n    docs: [],\r\n    totalDocs: 0,\r\n    limit: 10,\r\n    totalPages: 0,\r\n    page: 0,\r\n    hasPrevPage: false,\r\n    hasNextPage: false,\r\n    prevPage: null,\r\n    nextPage: null,\r\n  },\r\n  currentPost: null,\r\n};\r\n\r\nconst postReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: {\r\n          ...state.posts,\r\n          ...payload,\r\n        },\r\n      };\r\n    case GET_POST:\r\n      return {\r\n        ...state,\r\n        currentPost: payload.post,\r\n      };\r\n    case GET_POSTS_BY_TYPE:\r\n      switch (payload.type) {\r\n        case 'experience':\r\n          return {\r\n            ...state,\r\n            experiencePosts: payload.data,\r\n          };\r\n        case 'food':\r\n          return {\r\n            ...state,\r\n            foodPosts: payload.data,\r\n          };\r\n        case 'place':\r\n          return {\r\n            ...state,\r\n            placePosts: payload.data,\r\n          };\r\n        default:\r\n          return {\r\n            ...state,\r\n            experiencePosts: payload.data,\r\n          };\r\n      }\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        currentPost: payload.post,\r\n      };\r\n    case UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        currentPost: payload.post,\r\n      };\r\n    case COMMENT_ON_POST:\r\n    case LIKE_POST:\r\n    case UNLIKE_POST:\r\n    case DELETE_POST_COMMENT:\r\n      return {\r\n        ...state,\r\n        currentPost: payload.post,\r\n      };\r\n    case CLEAR_POST:\r\n      return {\r\n        ...state,\r\n        currentPost: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default postReducer;\r\n","import { SET_AUTH_USER, LOGOUT } from './user.constant';\r\n\r\nconst token = localStorage.getItem('token');\r\n\r\nconst initState = {\r\n  authUser: {},\r\n  authenticated: !!token,\r\n};\r\n\r\nconst userReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER:\r\n      return {\r\n        ...state,\r\n        authUser: action.payload.user,\r\n        authenticated: true,\r\n      };\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        authenticated: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import {\r\n  ASYNC_ACTION_FINISH,\r\n  ASYNC_ACTION_ERROR,\r\n  ASYNC_ACTION_START,\r\n} from './async.constants';\r\n\r\nconst initState = {\r\n  loading: false,\r\n  actionType: null,\r\n  elmId: null,\r\n  error: null,\r\n};\r\n\r\nconst asyncReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case ASYNC_ACTION_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        actionType: payload.actionType,\r\n        elmId: payload.elmId,\r\n        error: null,\r\n      };\r\n    case ASYNC_ACTION_FINISH:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        actionType: null,\r\n        elmId: null,\r\n        error: null,\r\n      };\r\n    case ASYNC_ACTION_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        actionType: null,\r\n        elmId: null,\r\n        error: payload.err,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default asyncReducer;\r\n","import { OPEN_MODAL, CLOSE_MODAL } from './modal.constants';\r\n\r\nconst modalReducerInitialState = null;\r\nconst modalReducer = (state = modalReducerInitialState, { type, payload }) => {\r\n  switch (type) {\r\n    case OPEN_MODAL:\r\n      const { modalType, modalProps } = payload;\r\n      return {\r\n        modalType,\r\n        modalProps,\r\n      };\r\n    case CLOSE_MODAL:\r\n      return modalReducerInitialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modalReducer;\r\n","import { combineReducers } from 'redux';\r\nimport postReducer from '../../features/post/post.reducer';\r\nimport userReducer from '../../features/user/user.reducers';\r\nimport asyncReducer from '../../features/async/async.reducer';\r\nimport { reducer as toastrReducer } from 'react-redux-toastr';\r\nimport modalReducer from '../../features/modal/modal.reducer';\r\n\r\nconst root = combineReducers({\r\n  post: postReducer,\r\n  user: userReducer,\r\n  async: asyncReducer,\r\n  toastr: toastrReducer,\r\n  modal: modalReducer,\r\n});\r\n\r\nexport default root;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer';\r\n\r\nconst configureStore = () => {\r\n  const middleware = [thunk];\r\n  const composerEnhancer = composeWithDevTools(applyMiddleware(...middleware));\r\n\r\n  const store = createStore(rootReducer, composerEnhancer);\r\n\r\n  return store;\r\n};\r\n\r\nconst store = configureStore();\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"./index.css\";\r\nimport \"./../node_modules/video-react/dist/video-react.css\"; // import css\r\nimport App from \"./app/Layout/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport store from \"./app/redux/store\";\r\n// import 'antd/dist/antd.css';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n// serviceWorker();\r\nserviceWorker.unregister();\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport '../../assets/css/style.css';\r\nimport '../../assets/css/header.css';\r\nimport '../../assets/css/footer.css';\r\nimport '../../assets/css/responsive.css';\r\nimport 'react-redux-toastr/lib/css/react-redux-toastr.min.css';\r\nimport { Switch, Route, HashRouter } from 'react-router-dom';\r\n\r\nimport Menu from '../../features/navbar/Menu';\r\nimport Footer from './Footer';\r\nimport { getAuthUser } from '../../features/user/user.actions';\r\nimport Toastr from './common/Toastr';\r\nimport Home from '../../features/home/Home';\r\nimport NewsList from '../../features/post/NewsList/NewsList';\r\nimport PostDetail from '../../features/post/PostDetailed/PostDetail';\r\nimport Login from '../../features/user/Login/Login';\r\nimport Register from '../../features/user/Register/Register';\r\nimport PrivateRoute from './common/PrivateRoute';\r\nimport MyAccount from '../../features/user/MyAccount/MyAccount';\r\nimport MyTrip from '../../features/user/MyTrip/MyTrip';\r\nimport PostAction from '../../features/post/PostAction/PostAction';\r\nimport { setDefaultAxios } from '../utils/helper';\r\nimport ModalManager from '../../features/modal/ModalManger';\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    initApp();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const initApp = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      setDefaultAxios();\r\n      await dispatch(getAuthUser(token));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='wrapper'>\r\n      <HashRouter>\r\n        <Toastr />\r\n        <ModalManager />\r\n        <Menu />\r\n        <main className='main-page'>\r\n          <Switch>\r\n            <Route exact path='/' component={Home} />\r\n            <Route exact path='/cam-nang-du-lich' component={NewsList} />\r\n            <Route exact path='/cam-nang-du-lich/:id' component={PostDetail} />\r\n            <Route exact path='/dang-nhap' component={Login} />\r\n            <Route exact path='/dang-ky' component={Register} />\r\n            <PrivateRoute exact path='/tai-khoan' component={MyAccount} />\r\n            <PrivateRoute exact path='/lich-trinh' component={MyTrip} />\r\n            <PrivateRoute\r\n              exact\r\n              path={['/chinh-sua-bai-viet/:id', '/viet-bai']}\r\n              component={PostAction}\r\n            />\r\n          </Switch>\r\n        </main>\r\n        <Footer />\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}